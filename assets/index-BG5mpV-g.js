var sD=Object.defineProperty;var lD=(e,t,n)=>t in e?sD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ap=(e,t,n)=>lD(e,typeof t!="symbol"?t+"":t,n);function oD(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const l in r)if(l!=="default"&&!(l in e)){const c=Object.getOwnPropertyDescriptor(r,l);c&&Object.defineProperty(e,l,c.get?c:{enumerable:!0,get:()=>r[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function Ka(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ip={exports:{}},mc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1;function cD(){if(E1)return mc;E1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,c){var u=null;if(c!==void 0&&(u=""+c),l.key!==void 0&&(u=""+l.key),"key"in l){c={};for(var f in l)f!=="key"&&(c[f]=l[f])}else c=l;return l=c.ref,{$$typeof:e,type:r,key:u,ref:l!==void 0?l:null,props:c}}return mc.Fragment=t,mc.jsx=n,mc.jsxs=n,mc}var M1;function uD(){return M1||(M1=1,ip.exports=cD()),ip.exports}var i=uD(),sp={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1;function dD(){if(_1)return rt;_1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function y(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function D(z,L,se){this.props=z,this.context=L,this.refs=S,this.updater=se||N}D.prototype.isReactComponent={},D.prototype.setState=function(z,L){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,L,"setState")},D.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function P(){}P.prototype=D.prototype;function O(z,L,se){this.props=z,this.context=L,this.refs=S,this.updater=se||N}var I=O.prototype=new P;I.constructor=O,w(I,D.prototype),I.isPureReactComponent=!0;var R=Array.isArray;function M(){}var B={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function Y(z,L,se){var ve=se.ref;return{$$typeof:e,type:z,key:L,ref:ve!==void 0?ve:null,props:se}}function X(z,L){return Y(z.type,L,z.props)}function le(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function he(z){var L={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(se){return L[se]})}var we=/\/+/g;function Te(z,L){return typeof z=="object"&&z!==null&&z.key!=null?he(""+z.key):L.toString(36)}function De(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(M,M):(z.status="pending",z.then(function(L){z.status==="pending"&&(z.status="fulfilled",z.value=L)},function(L){z.status==="pending"&&(z.status="rejected",z.reason=L)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Z(z,L,se,ve,Ee){var _e=typeof z;(_e==="undefined"||_e==="boolean")&&(z=null);var nt=!1;if(z===null)nt=!0;else switch(_e){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(z.$$typeof){case e:case t:nt=!0;break;case p:return nt=z._init,Z(nt(z._payload),L,se,ve,Ee)}}if(nt)return Ee=Ee(z),nt=ve===""?"."+Te(z,0):ve,R(Ee)?(se="",nt!=null&&(se=nt.replace(we,"$&/")+"/"),Z(Ee,L,se,"",function(Fe){return Fe})):Ee!=null&&(le(Ee)&&(Ee=X(Ee,se+(Ee.key==null||z&&z.key===Ee.key?"":(""+Ee.key).replace(we,"$&/")+"/")+nt)),L.push(Ee)),1;nt=0;var ct=ve===""?".":ve+":";if(R(z))for(var ue=0;ue<z.length;ue++)ve=z[ue],_e=ct+Te(ve,ue),nt+=Z(ve,L,se,_e,Ee);else if(ue=y(z),typeof ue=="function")for(z=ue.call(z),ue=0;!(ve=z.next()).done;)ve=ve.value,_e=ct+Te(ve,ue++),nt+=Z(ve,L,se,_e,Ee);else if(_e==="object"){if(typeof z.then=="function")return Z(De(z),L,se,ve,Ee);throw L=String(z),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return nt}function ce(z,L,se){if(z==null)return z;var ve=[],Ee=0;return Z(z,ve,"","",function(_e){return L.call(se,_e,Ee++)}),ve}function ke(z){if(z._status===-1){var L=z._result;L=L(),L.then(function(se){(z._status===0||z._status===-1)&&(z._status=1,z._result=se)},function(se){(z._status===0||z._status===-1)&&(z._status=2,z._result=se)}),z._status===-1&&(z._status=0,z._result=L)}if(z._status===1)return z._result.default;throw z._result}var G=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Ne={map:ce,forEach:function(z,L,se){ce(z,function(){L.apply(this,arguments)},se)},count:function(z){var L=0;return ce(z,function(){L++}),L},toArray:function(z){return ce(z,function(L){return L})||[]},only:function(z){if(!le(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return rt.Activity=x,rt.Children=Ne,rt.Component=D,rt.Fragment=n,rt.Profiler=l,rt.PureComponent=O,rt.StrictMode=r,rt.Suspense=m,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,rt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return B.H.useMemoCache(z)}},rt.cache=function(z){return function(){return z.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(z,L,se){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ve=w({},z.props),Ee=z.key;if(L!=null)for(_e in L.key!==void 0&&(Ee=""+L.key),L)!$.call(L,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&L.ref===void 0||(ve[_e]=L[_e]);var _e=arguments.length-2;if(_e===1)ve.children=se;else if(1<_e){for(var nt=Array(_e),ct=0;ct<_e;ct++)nt[ct]=arguments[ct+2];ve.children=nt}return Y(z.type,Ee,ve)},rt.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},rt.createElement=function(z,L,se){var ve,Ee={},_e=null;if(L!=null)for(ve in L.key!==void 0&&(_e=""+L.key),L)$.call(L,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Ee[ve]=L[ve]);var nt=arguments.length-2;if(nt===1)Ee.children=se;else if(1<nt){for(var ct=Array(nt),ue=0;ue<nt;ue++)ct[ue]=arguments[ue+2];Ee.children=ct}if(z&&z.defaultProps)for(ve in nt=z.defaultProps,nt)Ee[ve]===void 0&&(Ee[ve]=nt[ve]);return Y(z,_e,Ee)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(z){return{$$typeof:f,render:z}},rt.isValidElement=le,rt.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:ke}},rt.memo=function(z,L){return{$$typeof:h,type:z,compare:L===void 0?null:L}},rt.startTransition=function(z){var L=B.T,se={};B.T=se;try{var ve=z(),Ee=B.S;Ee!==null&&Ee(se,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(M,G)}catch(_e){G(_e)}finally{L!==null&&se.types!==null&&(L.types=se.types),B.T=L}},rt.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},rt.use=function(z){return B.H.use(z)},rt.useActionState=function(z,L,se){return B.H.useActionState(z,L,se)},rt.useCallback=function(z,L){return B.H.useCallback(z,L)},rt.useContext=function(z){return B.H.useContext(z)},rt.useDebugValue=function(){},rt.useDeferredValue=function(z,L){return B.H.useDeferredValue(z,L)},rt.useEffect=function(z,L){return B.H.useEffect(z,L)},rt.useEffectEvent=function(z){return B.H.useEffectEvent(z)},rt.useId=function(){return B.H.useId()},rt.useImperativeHandle=function(z,L,se){return B.H.useImperativeHandle(z,L,se)},rt.useInsertionEffect=function(z,L){return B.H.useInsertionEffect(z,L)},rt.useLayoutEffect=function(z,L){return B.H.useLayoutEffect(z,L)},rt.useMemo=function(z,L){return B.H.useMemo(z,L)},rt.useOptimistic=function(z,L){return B.H.useOptimistic(z,L)},rt.useReducer=function(z,L,se){return B.H.useReducer(z,L,se)},rt.useRef=function(z){return B.H.useRef(z)},rt.useState=function(z){return B.H.useState(z)},rt.useSyncExternalStore=function(z,L,se){return B.H.useSyncExternalStore(z,L,se)},rt.useTransition=function(){return B.H.useTransition()},rt.version="19.2.0",rt}var I1;function po(){return I1||(I1=1,sp.exports=dD()),sp.exports}var j=po();const JS=Ka(j),fD=oD({__proto__:null,default:JS},[j]);var lp={exports:{}},hc={},op={exports:{}},cp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1;function mD(){return P1||(P1=1,(function(e){function t(Z,ce){var ke=Z.length;Z.push(ce);e:for(;0<ke;){var G=ke-1>>>1,Ne=Z[G];if(0<l(Ne,ce))Z[G]=ce,Z[ke]=Ne,ke=G;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ce=Z[0],ke=Z.pop();if(ke!==ce){Z[0]=ke;e:for(var G=0,Ne=Z.length,z=Ne>>>1;G<z;){var L=2*(G+1)-1,se=Z[L],ve=L+1,Ee=Z[ve];if(0>l(se,ke))ve<Ne&&0>l(Ee,se)?(Z[G]=Ee,Z[ve]=ke,G=ve):(Z[G]=se,Z[L]=ke,G=L);else if(ve<Ne&&0>l(Ee,ke))Z[G]=Ee,Z[ve]=ke,G=ve;else break e}}return ce}function l(Z,ce){var ke=Z.sortIndex-ce.sortIndex;return ke!==0?ke:Z.id-ce.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var m=[],h=[],p=1,x=null,b=3,y=!1,N=!1,w=!1,S=!1,D=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function I(Z){for(var ce=n(h);ce!==null;){if(ce.callback===null)r(h);else if(ce.startTime<=Z)r(h),ce.sortIndex=ce.expirationTime,t(m,ce);else break;ce=n(h)}}function R(Z){if(w=!1,I(Z),!N)if(n(m)!==null)N=!0,M||(M=!0,he());else{var ce=n(h);ce!==null&&De(R,ce.startTime-Z)}}var M=!1,B=-1,$=5,Y=-1;function X(){return S?!0:!(e.unstable_now()-Y<$)}function le(){if(S=!1,M){var Z=e.unstable_now();Y=Z;var ce=!0;try{e:{N=!1,w&&(w=!1,P(B),B=-1),y=!0;var ke=b;try{t:{for(I(Z),x=n(m);x!==null&&!(x.expirationTime>Z&&X());){var G=x.callback;if(typeof G=="function"){x.callback=null,b=x.priorityLevel;var Ne=G(x.expirationTime<=Z);if(Z=e.unstable_now(),typeof Ne=="function"){x.callback=Ne,I(Z),ce=!0;break t}x===n(m)&&r(m),I(Z)}else r(m);x=n(m)}if(x!==null)ce=!0;else{var z=n(h);z!==null&&De(R,z.startTime-Z),ce=!1}}break e}finally{x=null,b=ke,y=!1}ce=void 0}}finally{ce?he():M=!1}}}var he;if(typeof O=="function")he=function(){O(le)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Te=we.port2;we.port1.onmessage=le,he=function(){Te.postMessage(null)}}else he=function(){D(le,0)};function De(Z,ce){B=D(function(){Z(e.unstable_now())},ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(Z){switch(b){case 1:case 2:case 3:var ce=3;break;default:ce=b}var ke=b;b=ce;try{return Z()}finally{b=ke}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(Z,ce){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ke=b;b=Z;try{return ce()}finally{b=ke}},e.unstable_scheduleCallback=function(Z,ce,ke){var G=e.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?G+ke:G):ke=G,Z){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ke+Ne,Z={id:p++,callback:ce,priorityLevel:Z,startTime:ke,expirationTime:Ne,sortIndex:-1},ke>G?(Z.sortIndex=ke,t(h,Z),n(m)===null&&Z===n(h)&&(w?(P(B),B=-1):w=!0,De(R,ke-G))):(Z.sortIndex=Ne,t(m,Z),N||y||(N=!0,M||(M=!0,he()))),Z},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(Z){var ce=b;return function(){var ke=b;b=ce;try{return Z.apply(this,arguments)}finally{b=ke}}}})(cp)),cp}var R1;function hD(){return R1||(R1=1,op.exports=mD()),op.exports}var up={exports:{}},ir={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1;function pD(){if(L1)return ir;L1=1;var e=po();function t(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,h,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:m,containerInfo:h,implementation:p}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ir.createPortal=function(m,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return c(m,h,null,p)},ir.flushSync=function(m){var h=u.T,p=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=h,r.p=p,r.d.f()}},ir.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(m,h))},ir.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},ir.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var p=h.as,x=f(p,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:y}):p==="script"&&r.d.X(m,{crossOrigin:x,integrity:b,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ir.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=f(h.as,h.crossOrigin);r.d.M(m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(m)},ir.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,x=f(p,h.crossOrigin);r.d.L(m,p,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ir.preloadModule=function(m,h){if(typeof m=="string")if(h){var p=f(h.as,h.crossOrigin);r.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(m)},ir.requestFormReset=function(m){r.d.r(m)},ir.unstable_batchedUpdates=function(m,h){return m(h)},ir.useFormState=function(m,h,p){return u.H.useFormState(m,h,p)},ir.useFormStatus=function(){return u.H.useHostTransitionStatus()},ir.version="19.2.0",ir}var z1;function ek(){if(z1)return up.exports;z1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),up.exports=pD(),up.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B1;function gD(){if(B1)return hc;B1=1;var e=hD(),t=po(),n=ek();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function c(a){var s=a,o=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(o=s.return),a=s.return;while(a)}return s.tag===3?o:null}function u(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function m(a){if(c(a)!==a)throw Error(r(188))}function h(a){var s=a.alternate;if(!s){if(s=c(a),s===null)throw Error(r(188));return s!==a?null:a}for(var o=a,d=s;;){var g=o.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){o=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===o)return m(g),a;if(v===d)return m(g),s;v=v.sibling}throw Error(r(188))}if(o.return!==d.return)o=g,d=v;else{for(var C=!1,E=g.child;E;){if(E===o){C=!0,o=g,d=v;break}if(E===d){C=!0,d=g,o=v;break}E=E.sibling}if(!C){for(E=v.child;E;){if(E===o){C=!0,o=v,d=g;break}if(E===d){C=!0,d=v,o=g;break}E=E.sibling}if(!C)throw Error(r(189))}}if(o.alternate!==d)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?a:s}function p(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=p(a),s!==null)return s;a=a.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),O=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function he(a){return a===null||typeof a!="object"?null:(a=le&&a[le]||a["@@iterator"],typeof a=="function"?a:null)}var we=Symbol.for("react.client.reference");function Te(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===we?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case D:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case M:return"SuspenseList";case Y:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case N:return"Portal";case O:return a.displayName||"Context";case P:return(a._context.displayName||"Context")+".Consumer";case I:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case B:return s=a.displayName||null,s!==null?s:Te(a.type)||"Memo";case $:s=a._payload,a=a._init;try{return Te(a(s))}catch{}}return null}var De=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke={pending:!1,data:null,method:null,action:null},G=[],Ne=-1;function z(a){return{current:a}}function L(a){0>Ne||(a.current=G[Ne],G[Ne]=null,Ne--)}function se(a,s){Ne++,G[Ne]=a.current,a.current=s}var ve=z(null),Ee=z(null),_e=z(null),nt=z(null);function ct(a,s){switch(se(_e,s),se(Ee,a),se(ve,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?e1(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=e1(s),a=t1(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}L(ve),se(ve,a)}function ue(){L(ve),L(Ee),L(_e)}function Fe(a){a.memoizedState!==null&&se(nt,a);var s=ve.current,o=t1(s,a.type);s!==o&&(se(Ee,a),se(ve,o))}function Ye(a){Ee.current===a&&(L(ve),L(Ee)),nt.current===a&&(L(nt),cc._currentValue=ke)}var me,bt;function qe(a){if(me===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);me=s&&s[1]||"",bt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+a+bt}var be=!1;function ge(a,s){if(!a||be)return"";be=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(oe){var ae=oe}Reflect.construct(a,[],xe)}else{try{xe.call()}catch(oe){ae=oe}a.call(xe.prototype)}}else{try{throw Error()}catch(oe){ae=oe}(xe=a())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(oe){if(oe&&ae&&typeof oe.stack=="string")return[oe.stack,ae.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),C=v[0],E=v[1];if(C&&E){var U=C.split(`
`),ne=E.split(`
`);for(g=d=0;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;for(;g<ne.length&&!ne[g].includes("DetermineComponentFrameRoot");)g++;if(d===U.length||g===ne.length)for(d=U.length-1,g=ne.length-1;1<=d&&0<=g&&U[d]!==ne[g];)g--;for(;1<=d&&0<=g;d--,g--)if(U[d]!==ne[g]){if(d!==1||g!==1)do if(d--,g--,0>g||U[d]!==ne[g]){var fe=`
`+U[d].replace(" at new "," at ");return a.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",a.displayName)),fe}while(1<=d&&0<=g);break}}}finally{be=!1,Error.prepareStackTrace=o}return(o=a?a.displayName||a.name:"")?qe(o):""}function lt(a,s){switch(a.tag){case 26:case 27:case 5:return qe(a.type);case 16:return qe("Lazy");case 13:return a.child!==s&&s!==null?qe("Suspense Fallback"):qe("Suspense");case 19:return qe("SuspenseList");case 0:case 15:return ge(a.type,!1);case 11:return ge(a.type.render,!1);case 1:return ge(a.type,!0);case 31:return qe("Activity");default:return""}}function ye(a){try{var s="",o=null;do s+=lt(a,o),o=a,a=a.return;while(a);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var We=Object.prototype.hasOwnProperty,Wr=e.unstable_scheduleCallback,Xt=e.unstable_cancelCallback,Wa=e.unstable_shouldYield,Es=e.unstable_requestPaint,On=e.unstable_now,Ms=e.unstable_getCurrentPriorityLevel,$i=e.unstable_ImmediatePriority,Zn=e.unstable_UserBlockingPriority,_a=e.unstable_NormalPriority,Ui=e.unstable_LowPriority,ur=e.unstable_IdlePriority,Ar=e.log,Jn=e.unstable_setDisableYieldValue,_t=null,Be=null;function et(a){if(typeof Ar=="function"&&Jn(a),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(_t,a)}catch{}}var It=Math.clz32?Math.clz32:Xe,Ft=Math.log,xt=Math.LN2;function Xe(a){return a>>>=0,a===0?32:31-(Ft(a)/xt|0)|0}var Gt=256,Wt=262144,gn=4194304;function jt(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function er(a,s,o){var d=a.pendingLanes;if(d===0)return 0;var g=0,v=a.suspendedLanes,C=a.pingedLanes;a=a.warmLanes;var E=d&134217727;return E!==0?(d=E&~v,d!==0?g=jt(d):(C&=E,C!==0?g=jt(C):o||(o=E&~a,o!==0&&(g=jt(o))))):(E=d&~v,E!==0?g=jt(E):C!==0?g=jt(C):o||(o=d&~a,o!==0&&(g=jt(o)))),g===0?0:s!==0&&s!==g&&(s&v)===0&&(v=g&-g,o=s&-s,v>=o||v===32&&(o&4194048)!==0)?s:g}function An(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function dr(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ba(){var a=gn;return gn<<=1,(gn&62914560)===0&&(gn=4194304),a}function Ia(a){for(var s=[],o=0;31>o;o++)s.push(a);return s}function Yr(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Qr(a,s,o,d,g,v){var C=a.pendingLanes;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=o,a.entangledLanes&=o,a.errorRecoveryDisabledLanes&=o,a.shellSuspendCounter=0;var E=a.entanglements,U=a.expirationTimes,ne=a.hiddenUpdates;for(o=C&~o;0<o;){var fe=31-It(o),xe=1<<fe;E[fe]=0,U[fe]=-1;var ae=ne[fe];if(ae!==null)for(ne[fe]=null,fe=0;fe<ae.length;fe++){var oe=ae[fe];oe!==null&&(oe.lane&=-536870913)}o&=~xe}d!==0&&Ya(a,d,0),v!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=v&~(C&~s))}function Ya(a,s,o){a.pendingLanes|=s,a.suspendedLanes&=~s;var d=31-It(s);a.entangledLanes|=s,a.entanglements[d]=a.entanglements[d]|1073741824|o&261930}function qi(a,s){var o=a.entangledLanes|=s;for(a=a.entanglements;o;){var d=31-It(o),g=1<<d;g&s|a[d]&s&&(a[d]|=s),o&=~g}}function Qa(a,s){var o=s&-s;return o=(o&42)!==0?1:Xr(o),(o&(a.suspendedLanes|s))!==0?0:o}function Xr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ja(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function wa(){var a=ce.p;return a!==0?a:(a=window.event,a===void 0?32:S1(a.type))}function Xa(a,s){var o=ce.p;try{return ce.p=a,s()}finally{ce.p=o}}var A=Math.random().toString(36).slice(2),F="__reactFiber$"+A,q="__reactProps$"+A,ie="__reactContainer$"+A,Oe="__reactEvents$"+A,Le="__reactListeners$"+A,Qe="__reactHandles$"+A,wt="__reactResources$"+A,He="__reactMarker$"+A;function ht(a){delete a[F],delete a[q],delete a[Oe],delete a[Le],delete a[Qe]}function nn(a){var s=a[F];if(s)return s;for(var o=a.parentNode;o;){if(s=o[ie]||o[F]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(a=o1(a);a!==null;){if(o=a[F])return o;a=o1(a)}return s}a=o,o=a.parentNode}return null}function fn(a){if(a=a[F]||a[ie]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function tr(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Tn(a){var s=a[wt];return s||(s=a[wt]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ve(a){a[He]=!0}var tt=new Set,nr={};function qn(a,s){Hn(a,s),Hn(a+"Capture",s)}function Hn(a,s){for(nr[a]=s,a=0;a<s.length;a++)tt.add(s[a])}var Tr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zr={},Na={};function Dn(a){return We.call(Na,a)?!0:We.call(Zr,a)?!1:Tr.test(a)?Na[a]=!0:(Zr[a]=!0,!1)}function Bt(a,s,o){if(Dn(s))if(o===null)a.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+o)}}function Jr(a,s,o){if(o===null)a.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+o)}}function rr(a,s,o,d){if(d===null)a.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttributeNS(s,o,""+d)}}function En(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function _s(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Is(a,s,o){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,v=d.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return g.call(this)},set:function(C){o=""+C,v.call(this,C)}}),Object.defineProperty(a,s,{enumerable:d.enumerable}),{getValue:function(){return o},setValue:function(C){o=""+C},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Hi(a){if(!a._valueTracker){var s=_s(a)?"checked":"value";a._valueTracker=Is(a,s,""+a[s])}}function Pa(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var o=s.getValue(),d="";return a&&(d=_s(a)?a.checked?"true":"false":a.value),a=d,a!==o?(s.setValue(a),!0):!1}function T(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var V=/[\n"\\]/g;function J(a){return a.replace(V,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function je(a,s,o,d,g,v,C,E){a.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.type=C:a.removeAttribute("type"),s!=null?C==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+En(s)):a.value!==""+En(s)&&(a.value=""+En(s)):C!=="submit"&&C!=="reset"||a.removeAttribute("value"),s!=null?Nt(a,C,En(s)):o!=null?Nt(a,C,En(o)):d!=null&&a.removeAttribute("value"),g==null&&v!=null&&(a.defaultChecked=!!v),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.name=""+En(E):a.removeAttribute("name")}function dt(a,s,o,d,g,v,C,E){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),s!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){Hi(a);return}o=o!=null?""+En(o):"",s=s!=null?""+En(s):o,E||s===a.value||(a.value=s),a.defaultValue=s}d=d??g,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=E?a.checked:!!d,a.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.name=C),Hi(a)}function Nt(a,s,o){s==="number"&&T(a.ownerDocument)===a||a.defaultValue===""+o||(a.defaultValue=""+o)}function Pt(a,s,o,d){if(a=a.options,s){s={};for(var g=0;g<o.length;g++)s["$"+o[g]]=!0;for(o=0;o<a.length;o++)g=s.hasOwnProperty("$"+a[o].value),a[o].selected!==g&&(a[o].selected=g),g&&d&&(a[o].defaultSelected=!0)}else{for(o=""+En(o),s=null,g=0;g<a.length;g++){if(a[g].value===o){a[g].selected=!0,d&&(a[g].defaultSelected=!0);return}s!==null||a[g].disabled||(s=a[g])}s!==null&&(s.selected=!0)}}function St(a,s,o){if(s!=null&&(s=""+En(s),s!==a.value&&(a.value=s),o==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=o!=null?""+En(o):""}function ut(a,s,o,d){if(s==null){if(d!=null){if(o!=null)throw Error(r(92));if(De(d)){if(1<d.length)throw Error(r(93));d=d[0]}o=d}o==null&&(o=""),s=o}o=En(s),a.defaultValue=o,d=a.textContent,d===o&&d!==""&&d!==null&&(a.value=d),Hi(a)}function k(a,s){if(s){var o=a.firstChild;if(o&&o===a.lastChild&&o.nodeType===3){o.nodeValue=s;return}}a.textContent=s}var _=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function K(a,s,o){var d=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?d?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":d?a.setProperty(s,o):typeof o!="number"||o===0||_.has(s)?s==="float"?a.cssFloat=o:a[s]=(""+o).trim():a[s]=o+"px"}function W(a,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,o!=null){for(var d in o)!o.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var g in s)d=s[g],s.hasOwnProperty(g)&&o[g]!==d&&K(a,g,d)}else for(var v in s)s.hasOwnProperty(v)&&K(a,v,s[v])}function Ae(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ce=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ee=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ie(a){return ee.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function it(){}var fr=null;function Sa(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Za=null,Ps=null;function cu(a){var s=fn(a);if(s&&(a=s.stateNode)){var o=a[q]||null;e:switch(a=s.stateNode,s.type){case"input":if(je(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=a;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+J(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var d=o[s];if(d!==a&&d.form===a.form){var g=d[q]||null;if(!g)throw Error(r(90));je(d,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<o.length;s++)d=o[s],d.form===a.form&&Pa(d)}break e;case"textarea":St(a,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Pt(a,!!o.multiple,s,!1)}}}var Rs=!1;function To(a,s,o){if(Rs)return a(s,o);Rs=!0;try{var d=a(s);return d}finally{if(Rs=!1,(Za!==null||Ps!==null)&&(Vu(),Za&&(s=Za,a=Ps,Ps=Za=null,cu(s),a)))for(s=0;s<a.length;s++)cu(a[s])}}function Ls(a,s){var o=a.stateNode;if(o===null)return null;var d=o[q]||null;if(d===null)return null;o=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fi=!1;if(Dr)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Fi=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Fi=!1}var Er=null,Ja=null,zs=null;function Bs(){if(zs)return zs;var a,s=Ja,o=s.length,d,g="value"in Er?Er.value:Er.textContent,v=g.length;for(a=0;a<o&&s[a]===g[a];a++);var C=o-a;for(d=1;d<=C&&s[o-d]===g[v-d];d++);return zs=g.slice(a,1<d?1-d:void 0)}function de(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Se(){return!0}function Me(){return!1}function ze(a){function s(o,d,g,v,C){this._reactName=o,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var E in a)a.hasOwnProperty(E)&&(o=a[E],this[E]=o?o(v):v[E]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Se:Me,this.isPropagationStopped=Me,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Se)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Se)},persist:function(){},isPersistent:Se}),s}var Je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kt=ze(Je),yr=x({},Je,{view:0,detail:0}),ar=ze(yr),ei,$s,xn,br=x({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cm,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==xn&&(xn&&a.type==="mousemove"?(ei=a.screenX-xn.screenX,$s=a.screenY-xn.screenY):$s=ei=0,xn=a),ei)},movementY:function(a){return"movementY"in a?a.movementY:$s}}),ea=ze(br),ka=x({},br,{dataTransfer:0}),ti=ze(ka),ni=x({},yr,{relatedTarget:0}),ot=ze(ni),Ot=x({},Je,{animationName:0,elapsedTime:0,pseudoElement:0}),c4=ze(Ot),u4=x({},Je,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),d4=ze(u4),f4=x({},Je,{data:0}),ay=ze(f4),m4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g4(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=p4[a])?!!s[a]:!1}function cm(){return g4}var x4=x({},yr,{key:function(a){if(a.key){var s=m4[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=de(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?h4[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cm,charCode:function(a){return a.type==="keypress"?de(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?de(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),v4=ze(x4),y4=x({},br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iy=ze(y4),b4=x({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cm}),j4=ze(b4),w4=x({},Je,{propertyName:0,elapsedTime:0,pseudoElement:0}),N4=ze(w4),S4=x({},br,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),k4=ze(S4),C4=x({},Je,{newState:0,oldState:0}),O4=ze(C4),A4=[9,13,27,32],um=Dr&&"CompositionEvent"in window,Do=null;Dr&&"documentMode"in document&&(Do=document.documentMode);var T4=Dr&&"TextEvent"in window&&!Do,sy=Dr&&(!um||Do&&8<Do&&11>=Do),ly=" ",oy=!1;function cy(a,s){switch(a){case"keyup":return A4.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uy(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Cl=!1;function D4(a,s){switch(a){case"compositionend":return uy(s);case"keypress":return s.which!==32?null:(oy=!0,ly);case"textInput":return a=s.data,a===ly&&oy?null:a;default:return null}}function E4(a,s){if(Cl)return a==="compositionend"||!um&&cy(a,s)?(a=Bs(),zs=Ja=Er=null,Cl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return sy&&s.locale!=="ko"?null:s.data;default:return null}}var M4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dy(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!M4[a.type]:s==="textarea"}function fy(a,s,o,d){Za?Ps?Ps.push(d):Ps=[d]:Za=d,s=Zu(s,"onChange"),0<s.length&&(o=new kt("onChange","change",null,o,d),a.push({event:o,listeners:s}))}var Eo=null,Mo=null;function _4(a){Wj(a,0)}function uu(a){var s=tr(a);if(Pa(s))return a}function my(a,s){if(a==="change")return s}var hy=!1;if(Dr){var dm;if(Dr){var fm="oninput"in document;if(!fm){var py=document.createElement("div");py.setAttribute("oninput","return;"),fm=typeof py.oninput=="function"}dm=fm}else dm=!1;hy=dm&&(!document.documentMode||9<document.documentMode)}function gy(){Eo&&(Eo.detachEvent("onpropertychange",xy),Mo=Eo=null)}function xy(a){if(a.propertyName==="value"&&uu(Mo)){var s=[];fy(s,Mo,a,Sa(a)),To(_4,s)}}function I4(a,s,o){a==="focusin"?(gy(),Eo=s,Mo=o,Eo.attachEvent("onpropertychange",xy)):a==="focusout"&&gy()}function P4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return uu(Mo)}function R4(a,s){if(a==="click")return uu(s)}function L4(a,s){if(a==="input"||a==="change")return uu(s)}function z4(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Mr=typeof Object.is=="function"?Object.is:z4;function _o(a,s){if(Mr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var o=Object.keys(a),d=Object.keys(s);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var g=o[d];if(!We.call(s,g)||!Mr(a[g],s[g]))return!1}return!0}function vy(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function yy(a,s){var o=vy(a);a=0;for(var d;o;){if(o.nodeType===3){if(d=a+o.textContent.length,a<=s&&d>=s)return{node:o,offset:s-a};a=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=vy(o)}}function by(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?by(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function jy(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=T(a.document);s instanceof a.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)a=s.contentWindow;else break;s=T(a.document)}return s}function mm(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var B4=Dr&&"documentMode"in document&&11>=document.documentMode,Ol=null,hm=null,Io=null,pm=!1;function wy(a,s,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pm||Ol==null||Ol!==T(d)||(d=Ol,"selectionStart"in d&&mm(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Io&&_o(Io,d)||(Io=d,d=Zu(hm,"onSelect"),0<d.length&&(s=new kt("onSelect","select",null,s,o),a.push({event:s,listeners:d}),s.target=Ol)))}function Us(a,s){var o={};return o[a.toLowerCase()]=s.toLowerCase(),o["Webkit"+a]="webkit"+s,o["Moz"+a]="moz"+s,o}var Al={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},gm={},Ny={};Dr&&(Ny=document.createElement("div").style,"AnimationEvent"in window||(delete Al.animationend.animation,delete Al.animationiteration.animation,delete Al.animationstart.animation),"TransitionEvent"in window||delete Al.transitionend.transition);function qs(a){if(gm[a])return gm[a];if(!Al[a])return a;var s=Al[a],o;for(o in s)if(s.hasOwnProperty(o)&&o in Ny)return gm[a]=s[o];return a}var Sy=qs("animationend"),ky=qs("animationiteration"),Cy=qs("animationstart"),$4=qs("transitionrun"),U4=qs("transitionstart"),q4=qs("transitioncancel"),Oy=qs("transitionend"),Ay=new Map,xm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xm.push("scrollEnd");function Ca(a,s){Ay.set(a,s),qn(s,[a])}var du=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ta=[],Tl=0,vm=0;function fu(){for(var a=Tl,s=vm=Tl=0;s<a;){var o=ta[s];ta[s++]=null;var d=ta[s];ta[s++]=null;var g=ta[s];ta[s++]=null;var v=ta[s];if(ta[s++]=null,d!==null&&g!==null){var C=d.pending;C===null?g.next=g:(g.next=C.next,C.next=g),d.pending=g}v!==0&&Ty(o,g,v)}}function mu(a,s,o,d){ta[Tl++]=a,ta[Tl++]=s,ta[Tl++]=o,ta[Tl++]=d,vm|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function ym(a,s,o,d){return mu(a,s,o,d),hu(a)}function Hs(a,s){return mu(a,null,null,s),hu(a)}function Ty(a,s,o){a.lanes|=o;var d=a.alternate;d!==null&&(d.lanes|=o);for(var g=!1,v=a.return;v!==null;)v.childLanes|=o,d=v.alternate,d!==null&&(d.childLanes|=o),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(g=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,g&&s!==null&&(g=31-It(o),a=v.hiddenUpdates,d=a[g],d===null?a[g]=[s]:d.push(s),s.lane=o|536870912),v):null}function hu(a){if(50<nc)throw nc=0,Ah=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Dl={};function H4(a,s,o,d){this.tag=a,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(a,s,o,d){return new H4(a,s,o,d)}function bm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ri(a,s){var o=a.alternate;return o===null?(o=_r(a.tag,s,a.key,a.mode),o.elementType=a.elementType,o.type=a.type,o.stateNode=a.stateNode,o.alternate=a,a.alternate=o):(o.pendingProps=s,o.type=a.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=a.flags&65011712,o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,s=a.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=a.sibling,o.index=a.index,o.ref=a.ref,o.refCleanup=a.refCleanup,o}function Dy(a,s){a.flags&=65011714;var o=a.alternate;return o===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,s=o.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function pu(a,s,o,d,g,v){var C=0;if(d=a,typeof a=="function")bm(a)&&(C=1);else if(typeof a=="string")C=WT(a,o,ve.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case Y:return a=_r(31,o,s,g),a.elementType=Y,a.lanes=v,a;case w:return Fs(o.children,g,v,s);case S:C=8,g|=24;break;case D:return a=_r(12,o,s,g|2),a.elementType=D,a.lanes=v,a;case R:return a=_r(13,o,s,g),a.elementType=R,a.lanes=v,a;case M:return a=_r(19,o,s,g),a.elementType=M,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:C=10;break e;case P:C=9;break e;case I:C=11;break e;case B:C=14;break e;case $:C=16,d=null;break e}C=29,o=Error(r(130,a===null?"null":typeof a,"")),d=null}return s=_r(C,o,s,g),s.elementType=a,s.type=d,s.lanes=v,s}function Fs(a,s,o,d){return a=_r(7,a,d,s),a.lanes=o,a}function jm(a,s,o){return a=_r(6,a,null,s),a.lanes=o,a}function Ey(a){var s=_r(18,null,null,0);return s.stateNode=a,s}function wm(a,s,o){return s=_r(4,a.children!==null?a.children:[],a.key,s),s.lanes=o,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var My=new WeakMap;function na(a,s){if(typeof a=="object"&&a!==null){var o=My.get(a);return o!==void 0?o:(s={value:a,source:s,stack:ye(s)},My.set(a,s),s)}return{value:a,source:s,stack:ye(s)}}var El=[],Ml=0,gu=null,Po=0,ra=[],aa=0,Vi=null,Ra=1,La="";function ai(a,s){El[Ml++]=Po,El[Ml++]=gu,gu=a,Po=s}function _y(a,s,o){ra[aa++]=Ra,ra[aa++]=La,ra[aa++]=Vi,Vi=a;var d=Ra;a=La;var g=32-It(d)-1;d&=~(1<<g),o+=1;var v=32-It(s)+g;if(30<v){var C=g-g%5;v=(d&(1<<C)-1).toString(32),d>>=C,g-=C,Ra=1<<32-It(s)+g|o<<g|d,La=v+a}else Ra=1<<v|o<<g|d,La=a}function Nm(a){a.return!==null&&(ai(a,1),_y(a,1,0))}function Sm(a){for(;a===gu;)gu=El[--Ml],El[Ml]=null,Po=El[--Ml],El[Ml]=null;for(;a===Vi;)Vi=ra[--aa],ra[aa]=null,La=ra[--aa],ra[aa]=null,Ra=ra[--aa],ra[aa]=null}function Iy(a,s){ra[aa++]=Ra,ra[aa++]=La,ra[aa++]=Vi,Ra=s.id,La=s.overflow,Vi=a}var Fn=null,Jt=null,vt=!1,Ki=null,ia=!1,km=Error(r(519));function Gi(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ro(na(s,a)),km}function Py(a){var s=a.stateNode,o=a.type,d=a.memoizedProps;switch(s[F]=a,s[q]=d,o){case"dialog":mt("cancel",s),mt("close",s);break;case"iframe":case"object":case"embed":mt("load",s);break;case"video":case"audio":for(o=0;o<ac.length;o++)mt(ac[o],s);break;case"source":mt("error",s);break;case"img":case"image":case"link":mt("error",s),mt("load",s);break;case"details":mt("toggle",s);break;case"input":mt("invalid",s),dt(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":mt("invalid",s);break;case"textarea":mt("invalid",s),ut(s,d.value,d.defaultValue,d.children)}o=d.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||d.suppressHydrationWarning===!0||Zj(s.textContent,o)?(d.popover!=null&&(mt("beforetoggle",s),mt("toggle",s)),d.onScroll!=null&&mt("scroll",s),d.onScrollEnd!=null&&mt("scrollend",s),d.onClick!=null&&(s.onclick=it),s=!0):s=!1,s||Gi(a,!0)}function Ry(a){for(Fn=a.return;Fn;)switch(Fn.tag){case 5:case 31:case 13:ia=!1;return;case 27:case 3:ia=!0;return;default:Fn=Fn.return}}function _l(a){if(a!==Fn)return!1;if(!vt)return Ry(a),vt=!0,!1;var s=a.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=a.type,o=!(o!=="form"&&o!=="button")||Hh(a.type,a.memoizedProps)),o=!o),o&&Jt&&Gi(a),Ry(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Jt=l1(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Jt=l1(a)}else s===27?(s=Jt,ls(a.type)?(a=Wh,Wh=null,Jt=a):Jt=s):Jt=Fn?la(a.stateNode.nextSibling):null;return!0}function Vs(){Jt=Fn=null,vt=!1}function Cm(){var a=Ki;return a!==null&&(Sr===null?Sr=a:Sr.push.apply(Sr,a),Ki=null),a}function Ro(a){Ki===null?Ki=[a]:Ki.push(a)}var Om=z(null),Ks=null,ii=null;function Wi(a,s,o){se(Om,s._currentValue),s._currentValue=o}function si(a){a._currentValue=Om.current,L(Om)}function Am(a,s,o){for(;a!==null;){var d=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),a===o)break;a=a.return}}function Tm(a,s,o,d){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var v=g.dependencies;if(v!==null){var C=g.child;v=v.firstContext;e:for(;v!==null;){var E=v;v=g;for(var U=0;U<s.length;U++)if(E.context===s[U]){v.lanes|=o,E=v.alternate,E!==null&&(E.lanes|=o),Am(v.return,o,a),d||(C=null);break e}v=E.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(r(341));C.lanes|=o,v=C.alternate,v!==null&&(v.lanes|=o),Am(C,o,a),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===a){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function Il(a,s,o,d){a=null;for(var g=s,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var E=g.type;Mr(g.pendingProps.value,C.value)||(a!==null?a.push(E):a=[E])}}else if(g===nt.current){if(C=g.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(cc):a=[cc])}g=g.return}a!==null&&Tm(s,a,o,d),s.flags|=262144}function xu(a){for(a=a.firstContext;a!==null;){if(!Mr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Gs(a){Ks=a,ii=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Vn(a){return Ly(Ks,a)}function vu(a,s){return Ks===null&&Gs(a),Ly(a,s)}function Ly(a,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ii===null){if(a===null)throw Error(r(308));ii=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else ii=ii.next=s;return o}var F4=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(o,d){a.push(d)}};this.abort=function(){s.aborted=!0,a.forEach(function(o){return o()})}},V4=e.unstable_scheduleCallback,K4=e.unstable_NormalPriority,jn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dm(){return{controller:new F4,data:new Map,refCount:0}}function Lo(a){a.refCount--,a.refCount===0&&V4(K4,function(){a.controller.abort()})}var zo=null,Em=0,Pl=0,Rl=null;function G4(a,s){if(zo===null){var o=zo=[];Em=0,Pl=Ih(),Rl={status:"pending",value:void 0,then:function(d){o.push(d)}}}return Em++,s.then(zy,zy),s}function zy(){if(--Em===0&&zo!==null){Rl!==null&&(Rl.status="fulfilled");var a=zo;zo=null,Pl=0,Rl=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function W4(a,s){var o=[],d={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return a.then(function(){d.status="fulfilled",d.value=s;for(var g=0;g<o.length;g++)(0,o[g])(s)},function(g){for(d.status="rejected",d.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),d}var By=Z.S;Z.S=function(a,s){wj=On(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&G4(a,s),By!==null&&By(a,s)};var Ws=z(null);function Mm(){var a=Ws.current;return a!==null?a:Vt.pooledCache}function yu(a,s){s===null?se(Ws,Ws.current):se(Ws,s.pool)}function $y(){var a=Mm();return a===null?null:{parent:jn._currentValue,pool:a}}var Ll=Error(r(460)),_m=Error(r(474)),bu=Error(r(542)),ju={then:function(){}};function Uy(a){return a=a.status,a==="fulfilled"||a==="rejected"}function qy(a,s,o){switch(o=a[o],o===void 0?a.push(s):o!==s&&(s.then(it,it),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Fy(a),a;default:if(typeof s.status=="string")s.then(it,it);else{if(a=Vt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(d){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=d}},function(d){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Fy(a),a}throw Qs=s,Ll}}function Ys(a){try{var s=a._init;return s(a._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Qs=o,Ll):o}}var Qs=null;function Hy(){if(Qs===null)throw Error(r(459));var a=Qs;return Qs=null,a}function Fy(a){if(a===Ll||a===bu)throw Error(r(483))}var zl=null,Bo=0;function wu(a){var s=Bo;return Bo+=1,zl===null&&(zl=[]),qy(zl,a,s)}function $o(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Nu(a,s){throw s.$$typeof===b?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Vy(a){function s(Q,H){if(a){var te=Q.deletions;te===null?(Q.deletions=[H],Q.flags|=16):te.push(H)}}function o(Q,H){if(!a)return null;for(;H!==null;)s(Q,H),H=H.sibling;return null}function d(Q){for(var H=new Map;Q!==null;)Q.key!==null?H.set(Q.key,Q):H.set(Q.index,Q),Q=Q.sibling;return H}function g(Q,H){return Q=ri(Q,H),Q.index=0,Q.sibling=null,Q}function v(Q,H,te){return Q.index=te,a?(te=Q.alternate,te!==null?(te=te.index,te<H?(Q.flags|=67108866,H):te):(Q.flags|=67108866,H)):(Q.flags|=1048576,H)}function C(Q){return a&&Q.alternate===null&&(Q.flags|=67108866),Q}function E(Q,H,te,pe){return H===null||H.tag!==6?(H=jm(te,Q.mode,pe),H.return=Q,H):(H=g(H,te),H.return=Q,H)}function U(Q,H,te,pe){var Ge=te.type;return Ge===w?fe(Q,H,te.props.children,pe,te.key):H!==null&&(H.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===$&&Ys(Ge)===H.type)?(H=g(H,te.props),$o(H,te),H.return=Q,H):(H=pu(te.type,te.key,te.props,null,Q.mode,pe),$o(H,te),H.return=Q,H)}function ne(Q,H,te,pe){return H===null||H.tag!==4||H.stateNode.containerInfo!==te.containerInfo||H.stateNode.implementation!==te.implementation?(H=wm(te,Q.mode,pe),H.return=Q,H):(H=g(H,te.children||[]),H.return=Q,H)}function fe(Q,H,te,pe,Ge){return H===null||H.tag!==7?(H=Fs(te,Q.mode,pe,Ge),H.return=Q,H):(H=g(H,te),H.return=Q,H)}function xe(Q,H,te){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=jm(""+H,Q.mode,te),H.return=Q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case y:return te=pu(H.type,H.key,H.props,null,Q.mode,te),$o(te,H),te.return=Q,te;case N:return H=wm(H,Q.mode,te),H.return=Q,H;case $:return H=Ys(H),xe(Q,H,te)}if(De(H)||he(H))return H=Fs(H,Q.mode,te,null),H.return=Q,H;if(typeof H.then=="function")return xe(Q,wu(H),te);if(H.$$typeof===O)return xe(Q,vu(Q,H),te);Nu(Q,H)}return null}function ae(Q,H,te,pe){var Ge=H!==null?H.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Ge!==null?null:E(Q,H,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case y:return te.key===Ge?U(Q,H,te,pe):null;case N:return te.key===Ge?ne(Q,H,te,pe):null;case $:return te=Ys(te),ae(Q,H,te,pe)}if(De(te)||he(te))return Ge!==null?null:fe(Q,H,te,pe,null);if(typeof te.then=="function")return ae(Q,H,wu(te),pe);if(te.$$typeof===O)return ae(Q,H,vu(Q,te),pe);Nu(Q,te)}return null}function oe(Q,H,te,pe,Ge){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Q=Q.get(te)||null,E(H,Q,""+pe,Ge);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case y:return Q=Q.get(pe.key===null?te:pe.key)||null,U(H,Q,pe,Ge);case N:return Q=Q.get(pe.key===null?te:pe.key)||null,ne(H,Q,pe,Ge);case $:return pe=Ys(pe),oe(Q,H,te,pe,Ge)}if(De(pe)||he(pe))return Q=Q.get(te)||null,fe(H,Q,pe,Ge,null);if(typeof pe.then=="function")return oe(Q,H,te,wu(pe),Ge);if(pe.$$typeof===O)return oe(Q,H,te,vu(H,pe),Ge);Nu(H,pe)}return null}function Re(Q,H,te,pe){for(var Ge=null,At=null,Ue=H,st=H=0,gt=null;Ue!==null&&st<te.length;st++){Ue.index>st?(gt=Ue,Ue=null):gt=Ue.sibling;var Tt=ae(Q,Ue,te[st],pe);if(Tt===null){Ue===null&&(Ue=gt);break}a&&Ue&&Tt.alternate===null&&s(Q,Ue),H=v(Tt,H,st),At===null?Ge=Tt:At.sibling=Tt,At=Tt,Ue=gt}if(st===te.length)return o(Q,Ue),vt&&ai(Q,st),Ge;if(Ue===null){for(;st<te.length;st++)Ue=xe(Q,te[st],pe),Ue!==null&&(H=v(Ue,H,st),At===null?Ge=Ue:At.sibling=Ue,At=Ue);return vt&&ai(Q,st),Ge}for(Ue=d(Ue);st<te.length;st++)gt=oe(Ue,Q,st,te[st],pe),gt!==null&&(a&&gt.alternate!==null&&Ue.delete(gt.key===null?st:gt.key),H=v(gt,H,st),At===null?Ge=gt:At.sibling=gt,At=gt);return a&&Ue.forEach(function(fs){return s(Q,fs)}),vt&&ai(Q,st),Ge}function Ze(Q,H,te,pe){if(te==null)throw Error(r(151));for(var Ge=null,At=null,Ue=H,st=H=0,gt=null,Tt=te.next();Ue!==null&&!Tt.done;st++,Tt=te.next()){Ue.index>st?(gt=Ue,Ue=null):gt=Ue.sibling;var fs=ae(Q,Ue,Tt.value,pe);if(fs===null){Ue===null&&(Ue=gt);break}a&&Ue&&fs.alternate===null&&s(Q,Ue),H=v(fs,H,st),At===null?Ge=fs:At.sibling=fs,At=fs,Ue=gt}if(Tt.done)return o(Q,Ue),vt&&ai(Q,st),Ge;if(Ue===null){for(;!Tt.done;st++,Tt=te.next())Tt=xe(Q,Tt.value,pe),Tt!==null&&(H=v(Tt,H,st),At===null?Ge=Tt:At.sibling=Tt,At=Tt);return vt&&ai(Q,st),Ge}for(Ue=d(Ue);!Tt.done;st++,Tt=te.next())Tt=oe(Ue,Q,st,Tt.value,pe),Tt!==null&&(a&&Tt.alternate!==null&&Ue.delete(Tt.key===null?st:Tt.key),H=v(Tt,H,st),At===null?Ge=Tt:At.sibling=Tt,At=Tt);return a&&Ue.forEach(function(iD){return s(Q,iD)}),vt&&ai(Q,st),Ge}function qt(Q,H,te,pe){if(typeof te=="object"&&te!==null&&te.type===w&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case y:e:{for(var Ge=te.key;H!==null;){if(H.key===Ge){if(Ge=te.type,Ge===w){if(H.tag===7){o(Q,H.sibling),pe=g(H,te.props.children),pe.return=Q,Q=pe;break e}}else if(H.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===$&&Ys(Ge)===H.type){o(Q,H.sibling),pe=g(H,te.props),$o(pe,te),pe.return=Q,Q=pe;break e}o(Q,H);break}else s(Q,H);H=H.sibling}te.type===w?(pe=Fs(te.props.children,Q.mode,pe,te.key),pe.return=Q,Q=pe):(pe=pu(te.type,te.key,te.props,null,Q.mode,pe),$o(pe,te),pe.return=Q,Q=pe)}return C(Q);case N:e:{for(Ge=te.key;H!==null;){if(H.key===Ge)if(H.tag===4&&H.stateNode.containerInfo===te.containerInfo&&H.stateNode.implementation===te.implementation){o(Q,H.sibling),pe=g(H,te.children||[]),pe.return=Q,Q=pe;break e}else{o(Q,H);break}else s(Q,H);H=H.sibling}pe=wm(te,Q.mode,pe),pe.return=Q,Q=pe}return C(Q);case $:return te=Ys(te),qt(Q,H,te,pe)}if(De(te))return Re(Q,H,te,pe);if(he(te)){if(Ge=he(te),typeof Ge!="function")throw Error(r(150));return te=Ge.call(te),Ze(Q,H,te,pe)}if(typeof te.then=="function")return qt(Q,H,wu(te),pe);if(te.$$typeof===O)return qt(Q,H,vu(Q,te),pe);Nu(Q,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,H!==null&&H.tag===6?(o(Q,H.sibling),pe=g(H,te),pe.return=Q,Q=pe):(o(Q,H),pe=jm(te,Q.mode,pe),pe.return=Q,Q=pe),C(Q)):o(Q,H)}return function(Q,H,te,pe){try{Bo=0;var Ge=qt(Q,H,te,pe);return zl=null,Ge}catch(Ue){if(Ue===Ll||Ue===bu)throw Ue;var At=_r(29,Ue,null,Q.mode);return At.lanes=pe,At.return=Q,At}finally{}}}var Xs=Vy(!0),Ky=Vy(!1),Yi=!1;function Im(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pm(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Qi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Xi(a,s,o){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Mt&2)!==0){var g=d.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),d.pending=s,s=hu(a),Ty(a,null,o),s}return mu(a,d,s,o),hu(a)}function Uo(a,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var d=s.lanes;d&=a.pendingLanes,o|=d,s.lanes=o,qi(a,o)}}function Rm(a,s){var o=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var g=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var C={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?g=v=C:v=v.next=C,o=o.next}while(o!==null);v===null?g=v=s:v=v.next=s}else g=v=s;o={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},a.updateQueue=o;return}a=o.lastBaseUpdate,a===null?o.firstBaseUpdate=s:a.next=s,o.lastBaseUpdate=s}var Lm=!1;function qo(){if(Lm){var a=Rl;if(a!==null)throw a}}function Ho(a,s,o,d){Lm=!1;var g=a.updateQueue;Yi=!1;var v=g.firstBaseUpdate,C=g.lastBaseUpdate,E=g.shared.pending;if(E!==null){g.shared.pending=null;var U=E,ne=U.next;U.next=null,C===null?v=ne:C.next=ne,C=U;var fe=a.alternate;fe!==null&&(fe=fe.updateQueue,E=fe.lastBaseUpdate,E!==C&&(E===null?fe.firstBaseUpdate=ne:E.next=ne,fe.lastBaseUpdate=U))}if(v!==null){var xe=g.baseState;C=0,fe=ne=U=null,E=v;do{var ae=E.lane&-536870913,oe=ae!==E.lane;if(oe?(pt&ae)===ae:(d&ae)===ae){ae!==0&&ae===Pl&&(Lm=!0),fe!==null&&(fe=fe.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Re=a,Ze=E;ae=s;var qt=o;switch(Ze.tag){case 1:if(Re=Ze.payload,typeof Re=="function"){xe=Re.call(qt,xe,ae);break e}xe=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ze.payload,ae=typeof Re=="function"?Re.call(qt,xe,ae):Re,ae==null)break e;xe=x({},xe,ae);break e;case 2:Yi=!0}}ae=E.callback,ae!==null&&(a.flags|=64,oe&&(a.flags|=8192),oe=g.callbacks,oe===null?g.callbacks=[ae]:oe.push(ae))}else oe={lane:ae,tag:E.tag,payload:E.payload,callback:E.callback,next:null},fe===null?(ne=fe=oe,U=xe):fe=fe.next=oe,C|=ae;if(E=E.next,E===null){if(E=g.shared.pending,E===null)break;oe=E,E=oe.next,oe.next=null,g.lastBaseUpdate=oe,g.shared.pending=null}}while(!0);fe===null&&(U=xe),g.baseState=U,g.firstBaseUpdate=ne,g.lastBaseUpdate=fe,v===null&&(g.shared.lanes=0),ns|=C,a.lanes=C,a.memoizedState=xe}}function Gy(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function Wy(a,s){var o=a.callbacks;if(o!==null)for(a.callbacks=null,a=0;a<o.length;a++)Gy(o[a],s)}var Bl=z(null),Su=z(0);function Yy(a,s){a=pi,se(Su,a),se(Bl,s),pi=a|s.baseLanes}function zm(){se(Su,pi),se(Bl,Bl.current)}function Bm(){pi=Su.current,L(Bl),L(Su)}var Ir=z(null),sa=null;function Zi(a){var s=a.alternate;se(vn,vn.current&1),se(Ir,a),sa===null&&(s===null||Bl.current!==null||s.memoizedState!==null)&&(sa=a)}function $m(a){se(vn,vn.current),se(Ir,a),sa===null&&(sa=a)}function Qy(a){a.tag===22?(se(vn,vn.current),se(Ir,a),sa===null&&(sa=a)):Ji()}function Ji(){se(vn,vn.current),se(Ir,Ir.current)}function Pr(a){L(Ir),sa===a&&(sa=null),L(vn)}var vn=z(0);function ku(a){for(var s=a;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Kh(o)||Gh(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var li=0,at=null,$t=null,wn=null,Cu=!1,$l=!1,Zs=!1,Ou=0,Fo=0,Ul=null,Y4=0;function mn(){throw Error(r(321))}function Um(a,s){if(s===null)return!1;for(var o=0;o<s.length&&o<a.length;o++)if(!Mr(a[o],s[o]))return!1;return!0}function qm(a,s,o,d,g,v){return li=v,at=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=a===null||a.memoizedState===null?_b:rh,Zs=!1,v=o(d,g),Zs=!1,$l&&(v=Zy(s,o,d,g)),Xy(a),v}function Xy(a){Z.H=Go;var s=$t!==null&&$t.next!==null;if(li=0,wn=$t=at=null,Cu=!1,Fo=0,Ul=null,s)throw Error(r(300));a===null||Nn||(a=a.dependencies,a!==null&&xu(a)&&(Nn=!0))}function Zy(a,s,o,d){at=a;var g=0;do{if($l&&(Ul=null),Fo=0,$l=!1,25<=g)throw Error(r(301));if(g+=1,wn=$t=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}Z.H=Ib,v=s(o,d)}while($l);return v}function Q4(){var a=Z.H,s=a.useState()[0];return s=typeof s.then=="function"?Vo(s):s,a=a.useState()[0],($t!==null?$t.memoizedState:null)!==a&&(at.flags|=1024),s}function Hm(){var a=Ou!==0;return Ou=0,a}function Fm(a,s,o){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~o}function Vm(a){if(Cu){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Cu=!1}li=0,wn=$t=at=null,$l=!1,Fo=Ou=0,Ul=null}function mr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?at.memoizedState=wn=a:wn=wn.next=a,wn}function yn(){if($t===null){var a=at.alternate;a=a!==null?a.memoizedState:null}else a=$t.next;var s=wn===null?at.memoizedState:wn.next;if(s!==null)wn=s,$t=a;else{if(a===null)throw at.alternate===null?Error(r(467)):Error(r(310));$t=a,a={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},wn===null?at.memoizedState=wn=a:wn=wn.next=a}return wn}function Au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vo(a){var s=Fo;return Fo+=1,Ul===null&&(Ul=[]),a=qy(Ul,a,s),s=at,(wn===null?s.memoizedState:wn.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?_b:rh),a}function Tu(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Vo(a);if(a.$$typeof===O)return Vn(a)}throw Error(r(438,String(a)))}function Km(a){var s=null,o=at.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var d=at.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Au(),at.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(a),d=0;d<a;d++)o[d]=X;return s.index++,o}function oi(a,s){return typeof s=="function"?s(a):s}function Du(a){var s=yn();return Gm(s,$t,a)}function Gm(a,s,o){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=o;var g=a.baseQueue,v=d.pending;if(v!==null){if(g!==null){var C=g.next;g.next=v.next,v.next=C}s.baseQueue=g=v,d.pending=null}if(v=a.baseState,g===null)a.memoizedState=v;else{s=g.next;var E=C=null,U=null,ne=s,fe=!1;do{var xe=ne.lane&-536870913;if(xe!==ne.lane?(pt&xe)===xe:(li&xe)===xe){var ae=ne.revertLane;if(ae===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),xe===Pl&&(fe=!0);else if((li&ae)===ae){ne=ne.next,ae===Pl&&(fe=!0);continue}else xe={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},U===null?(E=U=xe,C=v):U=U.next=xe,at.lanes|=ae,ns|=ae;xe=ne.action,Zs&&o(v,xe),v=ne.hasEagerState?ne.eagerState:o(v,xe)}else ae={lane:xe,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},U===null?(E=U=ae,C=v):U=U.next=ae,at.lanes|=xe,ns|=xe;ne=ne.next}while(ne!==null&&ne!==s);if(U===null?C=v:U.next=E,!Mr(v,a.memoizedState)&&(Nn=!0,fe&&(o=Rl,o!==null)))throw o;a.memoizedState=v,a.baseState=C,a.baseQueue=U,d.lastRenderedState=v}return g===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Wm(a){var s=yn(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var d=o.dispatch,g=o.pending,v=s.memoizedState;if(g!==null){o.pending=null;var C=g=g.next;do v=a(v,C.action),C=C.next;while(C!==g);Mr(v,s.memoizedState)||(Nn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),o.lastRenderedState=v}return[v,d]}function Jy(a,s,o){var d=at,g=yn(),v=vt;if(v){if(o===void 0)throw Error(r(407));o=o()}else o=s();var C=!Mr(($t||g).memoizedState,o);if(C&&(g.memoizedState=o,Nn=!0),g=g.queue,Xm(nb.bind(null,d,g,a),[a]),g.getSnapshot!==s||C||wn!==null&&wn.memoizedState.tag&1){if(d.flags|=2048,ql(9,{destroy:void 0},tb.bind(null,d,g,o,s),null),Vt===null)throw Error(r(349));v||(li&127)!==0||eb(d,s,o)}return o}function eb(a,s,o){a.flags|=16384,a={getSnapshot:s,value:o},s=at.updateQueue,s===null?(s=Au(),at.updateQueue=s,s.stores=[a]):(o=s.stores,o===null?s.stores=[a]:o.push(a))}function tb(a,s,o,d){s.value=o,s.getSnapshot=d,rb(s)&&ab(a)}function nb(a,s,o){return o(function(){rb(s)&&ab(a)})}function rb(a){var s=a.getSnapshot;a=a.value;try{var o=s();return!Mr(a,o)}catch{return!0}}function ab(a){var s=Hs(a,2);s!==null&&kr(s,a,2)}function Ym(a){var s=mr();if(typeof a=="function"){var o=a;if(a=o(),Zs){et(!0);try{o()}finally{et(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:a},s}function ib(a,s,o,d){return a.baseState=o,Gm(a,$t,typeof d=="function"?d:oi)}function X4(a,s,o,d,g){if(_u(a))throw Error(r(485));if(a=s.action,a!==null){var v={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};Z.T!==null?o(!0):v.isTransition=!1,d(v),o=s.pending,o===null?(v.next=s.pending=v,sb(s,v)):(v.next=o.next,s.pending=o.next=v)}}function sb(a,s){var o=s.action,d=s.payload,g=a.state;if(s.isTransition){var v=Z.T,C={};Z.T=C;try{var E=o(g,d),U=Z.S;U!==null&&U(C,E),lb(a,s,E)}catch(ne){Qm(a,s,ne)}finally{v!==null&&C.types!==null&&(v.types=C.types),Z.T=v}}else try{v=o(g,d),lb(a,s,v)}catch(ne){Qm(a,s,ne)}}function lb(a,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(d){ob(a,s,d)},function(d){return Qm(a,s,d)}):ob(a,s,o)}function ob(a,s,o){s.status="fulfilled",s.value=o,cb(s),a.state=o,s=a.pending,s!==null&&(o=s.next,o===s?a.pending=null:(o=o.next,s.next=o,sb(a,o)))}function Qm(a,s,o){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=o,cb(s),s=s.next;while(s!==d)}a.action=null}function cb(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function ub(a,s){return s}function db(a,s){if(vt){var o=Vt.formState;if(o!==null){e:{var d=at;if(vt){if(Jt){t:{for(var g=Jt,v=ia;g.nodeType!==8;){if(!v){g=null;break t}if(g=la(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Jt=la(g.nextSibling),d=g.data==="F!";break e}}Gi(d)}d=!1}d&&(s=o[0])}}return o=mr(),o.memoizedState=o.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ub,lastRenderedState:s},o.queue=d,o=Db.bind(null,at,d),d.dispatch=o,d=Ym(!1),v=nh.bind(null,at,!1,d.queue),d=mr(),g={state:s,dispatch:null,action:a,pending:null},d.queue=g,o=X4.bind(null,at,g,v,o),g.dispatch=o,d.memoizedState=a,[s,o,!1]}function fb(a){var s=yn();return mb(s,$t,a)}function mb(a,s,o){if(s=Gm(a,s,ub)[0],a=Du(oi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=Vo(s)}catch(C){throw C===Ll?bu:C}else d=s;s=yn();var g=s.queue,v=g.dispatch;return o!==s.memoizedState&&(at.flags|=2048,ql(9,{destroy:void 0},Z4.bind(null,g,o),null)),[d,v,a]}function Z4(a,s){a.action=s}function hb(a){var s=yn(),o=$t;if(o!==null)return mb(s,o,a);yn(),s=s.memoizedState,o=yn();var d=o.queue.dispatch;return o.memoizedState=a,[s,d,!1]}function ql(a,s,o,d){return a={tag:a,create:o,deps:d,inst:s,next:null},s=at.updateQueue,s===null&&(s=Au(),at.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=a.next=a:(d=o.next,o.next=a,a.next=d,s.lastEffect=a),a}function pb(){return yn().memoizedState}function Eu(a,s,o,d){var g=mr();at.flags|=a,g.memoizedState=ql(1|s,{destroy:void 0},o,d===void 0?null:d)}function Mu(a,s,o,d){var g=yn();d=d===void 0?null:d;var v=g.memoizedState.inst;$t!==null&&d!==null&&Um(d,$t.memoizedState.deps)?g.memoizedState=ql(s,v,o,d):(at.flags|=a,g.memoizedState=ql(1|s,v,o,d))}function gb(a,s){Eu(8390656,8,a,s)}function Xm(a,s){Mu(2048,8,a,s)}function J4(a){at.flags|=4;var s=at.updateQueue;if(s===null)s=Au(),at.updateQueue=s,s.events=[a];else{var o=s.events;o===null?s.events=[a]:o.push(a)}}function xb(a){var s=yn().memoizedState;return J4({ref:s,nextImpl:a}),function(){if((Mt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function vb(a,s){return Mu(4,2,a,s)}function yb(a,s){return Mu(4,4,a,s)}function bb(a,s){if(typeof s=="function"){a=a();var o=s(a);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function jb(a,s,o){o=o!=null?o.concat([a]):null,Mu(4,4,bb.bind(null,s,a),o)}function Zm(){}function wb(a,s){var o=yn();s=s===void 0?null:s;var d=o.memoizedState;return s!==null&&Um(s,d[1])?d[0]:(o.memoizedState=[a,s],a)}function Nb(a,s){var o=yn();s=s===void 0?null:s;var d=o.memoizedState;if(s!==null&&Um(s,d[1]))return d[0];if(d=a(),Zs){et(!0);try{a()}finally{et(!1)}}return o.memoizedState=[d,s],d}function Jm(a,s,o){return o===void 0||(li&1073741824)!==0&&(pt&261930)===0?a.memoizedState=s:(a.memoizedState=o,a=Sj(),at.lanes|=a,ns|=a,o)}function Sb(a,s,o,d){return Mr(o,s)?o:Bl.current!==null?(a=Jm(a,o,d),Mr(a,s)||(Nn=!0),a):(li&42)===0||(li&1073741824)!==0&&(pt&261930)===0?(Nn=!0,a.memoizedState=o):(a=Sj(),at.lanes|=a,ns|=a,s)}function kb(a,s,o,d,g){var v=ce.p;ce.p=v!==0&&8>v?v:8;var C=Z.T,E={};Z.T=E,nh(a,!1,s,o);try{var U=g(),ne=Z.S;if(ne!==null&&ne(E,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var fe=W4(U,d);Ko(a,s,fe,zr(a))}else Ko(a,s,d,zr(a))}catch(xe){Ko(a,s,{then:function(){},status:"rejected",reason:xe},zr())}finally{ce.p=v,C!==null&&E.types!==null&&(C.types=E.types),Z.T=C}}function eT(){}function eh(a,s,o,d){if(a.tag!==5)throw Error(r(476));var g=Cb(a).queue;kb(a,g,s,ke,o===null?eT:function(){return Ob(a),o(d)})}function Cb(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:ke,baseState:ke,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:ke},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:o},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Ob(a){var s=Cb(a);s.next===null&&(s=a.alternate.memoizedState),Ko(a,s.next.queue,{},zr())}function th(){return Vn(cc)}function Ab(){return yn().memoizedState}function Tb(){return yn().memoizedState}function tT(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var o=zr();a=Qi(o);var d=Xi(s,a,o);d!==null&&(kr(d,s,o),Uo(d,s,o)),s={cache:Dm()},a.payload=s;return}s=s.return}}function nT(a,s,o){var d=zr();o={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},_u(a)?Eb(s,o):(o=ym(a,s,o,d),o!==null&&(kr(o,a,d),Mb(o,s,d)))}function Db(a,s,o){var d=zr();Ko(a,s,o,d)}function Ko(a,s,o,d){var g={lane:d,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(_u(a))Eb(s,g);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var C=s.lastRenderedState,E=v(C,o);if(g.hasEagerState=!0,g.eagerState=E,Mr(E,C))return mu(a,s,g,0),Vt===null&&fu(),!1}catch{}finally{}if(o=ym(a,s,g,d),o!==null)return kr(o,a,d),Mb(o,s,d),!0}return!1}function nh(a,s,o,d){if(d={lane:2,revertLane:Ih(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},_u(a)){if(s)throw Error(r(479))}else s=ym(a,o,d,2),s!==null&&kr(s,a,2)}function _u(a){var s=a.alternate;return a===at||s!==null&&s===at}function Eb(a,s){$l=Cu=!0;var o=a.pending;o===null?s.next=s:(s.next=o.next,o.next=s),a.pending=s}function Mb(a,s,o){if((o&4194048)!==0){var d=s.lanes;d&=a.pendingLanes,o|=d,s.lanes=o,qi(a,o)}}var Go={readContext:Vn,use:Tu,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useLayoutEffect:mn,useInsertionEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useSyncExternalStore:mn,useId:mn,useHostTransitionStatus:mn,useFormState:mn,useActionState:mn,useOptimistic:mn,useMemoCache:mn,useCacheRefresh:mn};Go.useEffectEvent=mn;var _b={readContext:Vn,use:Tu,useCallback:function(a,s){return mr().memoizedState=[a,s===void 0?null:s],a},useContext:Vn,useEffect:gb,useImperativeHandle:function(a,s,o){o=o!=null?o.concat([a]):null,Eu(4194308,4,bb.bind(null,s,a),o)},useLayoutEffect:function(a,s){return Eu(4194308,4,a,s)},useInsertionEffect:function(a,s){Eu(4,2,a,s)},useMemo:function(a,s){var o=mr();s=s===void 0?null:s;var d=a();if(Zs){et(!0);try{a()}finally{et(!1)}}return o.memoizedState=[d,s],d},useReducer:function(a,s,o){var d=mr();if(o!==void 0){var g=o(s);if(Zs){et(!0);try{o(s)}finally{et(!1)}}}else g=s;return d.memoizedState=d.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},d.queue=a,a=a.dispatch=nT.bind(null,at,a),[d.memoizedState,a]},useRef:function(a){var s=mr();return a={current:a},s.memoizedState=a},useState:function(a){a=Ym(a);var s=a.queue,o=Db.bind(null,at,s);return s.dispatch=o,[a.memoizedState,o]},useDebugValue:Zm,useDeferredValue:function(a,s){var o=mr();return Jm(o,a,s)},useTransition:function(){var a=Ym(!1);return a=kb.bind(null,at,a.queue,!0,!1),mr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,o){var d=at,g=mr();if(vt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Vt===null)throw Error(r(349));(pt&127)!==0||eb(d,s,o)}g.memoizedState=o;var v={value:o,getSnapshot:s};return g.queue=v,gb(nb.bind(null,d,v,a),[a]),d.flags|=2048,ql(9,{destroy:void 0},tb.bind(null,d,v,o,s),null),o},useId:function(){var a=mr(),s=Vt.identifierPrefix;if(vt){var o=La,d=Ra;o=(d&~(1<<32-It(d)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Ou++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=Y4++,s="_"+s+"r_"+o.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:th,useFormState:db,useActionState:db,useOptimistic:function(a){var s=mr();s.memoizedState=s.baseState=a;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=nh.bind(null,at,!0,o),o.dispatch=s,[a,s]},useMemoCache:Km,useCacheRefresh:function(){return mr().memoizedState=tT.bind(null,at)},useEffectEvent:function(a){var s=mr(),o={impl:a};return s.memoizedState=o,function(){if((Mt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},rh={readContext:Vn,use:Tu,useCallback:wb,useContext:Vn,useEffect:Xm,useImperativeHandle:jb,useInsertionEffect:vb,useLayoutEffect:yb,useMemo:Nb,useReducer:Du,useRef:pb,useState:function(){return Du(oi)},useDebugValue:Zm,useDeferredValue:function(a,s){var o=yn();return Sb(o,$t.memoizedState,a,s)},useTransition:function(){var a=Du(oi)[0],s=yn().memoizedState;return[typeof a=="boolean"?a:Vo(a),s]},useSyncExternalStore:Jy,useId:Ab,useHostTransitionStatus:th,useFormState:fb,useActionState:fb,useOptimistic:function(a,s){var o=yn();return ib(o,$t,a,s)},useMemoCache:Km,useCacheRefresh:Tb};rh.useEffectEvent=xb;var Ib={readContext:Vn,use:Tu,useCallback:wb,useContext:Vn,useEffect:Xm,useImperativeHandle:jb,useInsertionEffect:vb,useLayoutEffect:yb,useMemo:Nb,useReducer:Wm,useRef:pb,useState:function(){return Wm(oi)},useDebugValue:Zm,useDeferredValue:function(a,s){var o=yn();return $t===null?Jm(o,a,s):Sb(o,$t.memoizedState,a,s)},useTransition:function(){var a=Wm(oi)[0],s=yn().memoizedState;return[typeof a=="boolean"?a:Vo(a),s]},useSyncExternalStore:Jy,useId:Ab,useHostTransitionStatus:th,useFormState:hb,useActionState:hb,useOptimistic:function(a,s){var o=yn();return $t!==null?ib(o,$t,a,s):(o.baseState=a,[a,o.queue.dispatch])},useMemoCache:Km,useCacheRefresh:Tb};Ib.useEffectEvent=xb;function ah(a,s,o,d){s=a.memoizedState,o=o(d,s),o=o==null?s:x({},s,o),a.memoizedState=o,a.lanes===0&&(a.updateQueue.baseState=o)}var ih={enqueueSetState:function(a,s,o){a=a._reactInternals;var d=zr(),g=Qi(d);g.payload=s,o!=null&&(g.callback=o),s=Xi(a,g,d),s!==null&&(kr(s,a,d),Uo(s,a,d))},enqueueReplaceState:function(a,s,o){a=a._reactInternals;var d=zr(),g=Qi(d);g.tag=1,g.payload=s,o!=null&&(g.callback=o),s=Xi(a,g,d),s!==null&&(kr(s,a,d),Uo(s,a,d))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var o=zr(),d=Qi(o);d.tag=2,s!=null&&(d.callback=s),s=Xi(a,d,o),s!==null&&(kr(s,a,o),Uo(s,a,o))}};function Pb(a,s,o,d,g,v,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,v,C):s.prototype&&s.prototype.isPureReactComponent?!_o(o,d)||!_o(g,v):!0}function Rb(a,s,o,d){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,d),s.state!==a&&ih.enqueueReplaceState(s,s.state,null)}function Js(a,s){var o=s;if("ref"in s){o={};for(var d in s)d!=="ref"&&(o[d]=s[d])}if(a=a.defaultProps){o===s&&(o=x({},o));for(var g in a)o[g]===void 0&&(o[g]=a[g])}return o}function Lb(a){du(a)}function zb(a){console.error(a)}function Bb(a){du(a)}function Iu(a,s){try{var o=a.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function $b(a,s,o){try{var d=a.onCaughtError;d(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function sh(a,s,o){return o=Qi(o),o.tag=3,o.payload={element:null},o.callback=function(){Iu(a,s)},o}function Ub(a){return a=Qi(a),a.tag=3,a}function qb(a,s,o,d){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var v=d.value;a.payload=function(){return g(v)},a.callback=function(){$b(s,o,d)}}var C=o.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(a.callback=function(){$b(s,o,d),typeof g!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var E=d.stack;this.componentDidCatch(d.value,{componentStack:E!==null?E:""})})}function rT(a,s,o,d,g){if(o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=o.alternate,s!==null&&Il(s,o,g,!0),o=Ir.current,o!==null){switch(o.tag){case 31:case 13:return sa===null?Ku():o.alternate===null&&hn===0&&(hn=3),o.flags&=-257,o.flags|=65536,o.lanes=g,d===ju?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([d]):s.add(d),Eh(a,d,g)),!1;case 22:return o.flags|=65536,d===ju?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([d]):o.add(d)),Eh(a,d,g)),!1}throw Error(r(435,o.tag))}return Eh(a,d,g),Ku(),!1}if(vt)return s=Ir.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,d!==km&&(a=Error(r(422),{cause:d}),Ro(na(a,o)))):(d!==km&&(s=Error(r(423),{cause:d}),Ro(na(s,o))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,d=na(d,o),g=sh(a.stateNode,d,g),Rm(a,g),hn!==4&&(hn=2)),!1;var v=Error(r(520),{cause:d});if(v=na(v,o),tc===null?tc=[v]:tc.push(v),hn!==4&&(hn=2),s===null)return!0;d=na(d,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,a=g&-g,o.lanes|=a,a=sh(o.stateNode,d,a),Rm(o,a),!1;case 1:if(s=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(rs===null||!rs.has(v))))return o.flags|=65536,g&=-g,o.lanes|=g,g=Ub(g),qb(g,a,o,d),Rm(o,g),!1}o=o.return}while(o!==null);return!1}var lh=Error(r(461)),Nn=!1;function Kn(a,s,o,d){s.child=a===null?Ky(s,null,o,d):Xs(s,a.child,o,d)}function Hb(a,s,o,d,g){o=o.render;var v=s.ref;if("ref"in d){var C={};for(var E in d)E!=="ref"&&(C[E]=d[E])}else C=d;return Gs(s),d=qm(a,s,o,C,v,g),E=Hm(),a!==null&&!Nn?(Fm(a,s,g),ci(a,s,g)):(vt&&E&&Nm(s),s.flags|=1,Kn(a,s,d,g),s.child)}function Fb(a,s,o,d,g){if(a===null){var v=o.type;return typeof v=="function"&&!bm(v)&&v.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=v,Vb(a,s,v,d,g)):(a=pu(o.type,null,d,s,s.mode,g),a.ref=s.ref,a.return=s,s.child=a)}if(v=a.child,!ph(a,g)){var C=v.memoizedProps;if(o=o.compare,o=o!==null?o:_o,o(C,d)&&a.ref===s.ref)return ci(a,s,g)}return s.flags|=1,a=ri(v,d),a.ref=s.ref,a.return=s,s.child=a}function Vb(a,s,o,d,g){if(a!==null){var v=a.memoizedProps;if(_o(v,d)&&a.ref===s.ref)if(Nn=!1,s.pendingProps=d=v,ph(a,g))(a.flags&131072)!==0&&(Nn=!0);else return s.lanes=a.lanes,ci(a,s,g)}return oh(a,s,o,d,g)}function Kb(a,s,o,d){var g=d.children,v=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,a!==null){for(d=s.child=a.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;d=g&~v}else d=0,s.child=null;return Gb(a,s,v,o,d)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&yu(s,v!==null?v.cachePool:null),v!==null?Yy(s,v):zm(),Qy(s);else return d=s.lanes=536870912,Gb(a,s,v!==null?v.baseLanes|o:o,o,d)}else v!==null?(yu(s,v.cachePool),Yy(s,v),Ji(),s.memoizedState=null):(a!==null&&yu(s,null),zm(),Ji());return Kn(a,s,g,o),s.child}function Wo(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Gb(a,s,o,d,g){var v=Mm();return v=v===null?null:{parent:jn._currentValue,pool:v},s.memoizedState={baseLanes:o,cachePool:v},a!==null&&yu(s,null),zm(),Qy(s),a!==null&&Il(a,s,d,!0),s.childLanes=g,null}function Pu(a,s){return s=Lu({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function Wb(a,s,o){return Xs(s,a.child,null,o),a=Pu(s,s.pendingProps),a.flags|=2,Pr(s),s.memoizedState=null,a}function aT(a,s,o){var d=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(vt){if(d.mode==="hidden")return a=Pu(s,d),s.lanes=536870912,Wo(null,a);if($m(s),(a=Jt)?(a=s1(a,ia),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Vi!==null?{id:Ra,overflow:La}:null,retryLane:536870912,hydrationErrors:null},o=Ey(a),o.return=s,s.child=o,Fn=s,Jt=null)):a=null,a===null)throw Gi(s);return s.lanes=536870912,null}return Pu(s,d)}var v=a.memoizedState;if(v!==null){var C=v.dehydrated;if($m(s),g)if(s.flags&256)s.flags&=-257,s=Wb(a,s,o);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Nn||Il(a,s,o,!1),g=(o&a.childLanes)!==0,Nn||g){if(d=Vt,d!==null&&(C=Qa(d,o),C!==0&&C!==v.retryLane))throw v.retryLane=C,Hs(a,C),kr(d,a,C),lh;Ku(),s=Wb(a,s,o)}else a=v.treeContext,Jt=la(C.nextSibling),Fn=s,vt=!0,Ki=null,ia=!1,a!==null&&Iy(s,a),s=Pu(s,d),s.flags|=4096;return s}return a=ri(a.child,{mode:d.mode,children:d.children}),a.ref=s.ref,s.child=a,a.return=s,a}function Ru(a,s){var o=s.ref;if(o===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(a===null||a.ref!==o)&&(s.flags|=4194816)}}function oh(a,s,o,d,g){return Gs(s),o=qm(a,s,o,d,void 0,g),d=Hm(),a!==null&&!Nn?(Fm(a,s,g),ci(a,s,g)):(vt&&d&&Nm(s),s.flags|=1,Kn(a,s,o,g),s.child)}function Yb(a,s,o,d,g,v){return Gs(s),s.updateQueue=null,o=Zy(s,d,o,g),Xy(a),d=Hm(),a!==null&&!Nn?(Fm(a,s,v),ci(a,s,v)):(vt&&d&&Nm(s),s.flags|=1,Kn(a,s,o,v),s.child)}function Qb(a,s,o,d,g){if(Gs(s),s.stateNode===null){var v=Dl,C=o.contextType;typeof C=="object"&&C!==null&&(v=Vn(C)),v=new o(d,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=ih,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=d,v.state=s.memoizedState,v.refs={},Im(s),C=o.contextType,v.context=typeof C=="object"&&C!==null?Vn(C):Dl,v.state=s.memoizedState,C=o.getDerivedStateFromProps,typeof C=="function"&&(ah(s,o,C,d),v.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&ih.enqueueReplaceState(v,v.state,null),Ho(s,d,v,g),qo(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(a===null){v=s.stateNode;var E=s.memoizedProps,U=Js(o,E);v.props=U;var ne=v.context,fe=o.contextType;C=Dl,typeof fe=="object"&&fe!==null&&(C=Vn(fe));var xe=o.getDerivedStateFromProps;fe=typeof xe=="function"||typeof v.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,fe||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E||ne!==C)&&Rb(s,v,d,C),Yi=!1;var ae=s.memoizedState;v.state=ae,Ho(s,d,v,g),qo(),ne=s.memoizedState,E||ae!==ne||Yi?(typeof xe=="function"&&(ah(s,o,xe,d),ne=s.memoizedState),(U=Yi||Pb(s,o,U,d,ae,ne,C))?(fe||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=ne),v.props=d,v.state=ne,v.context=C,d=U):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{v=s.stateNode,Pm(a,s),C=s.memoizedProps,fe=Js(o,C),v.props=fe,xe=s.pendingProps,ae=v.context,ne=o.contextType,U=Dl,typeof ne=="object"&&ne!==null&&(U=Vn(ne)),E=o.getDerivedStateFromProps,(ne=typeof E=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==xe||ae!==U)&&Rb(s,v,d,U),Yi=!1,ae=s.memoizedState,v.state=ae,Ho(s,d,v,g),qo();var oe=s.memoizedState;C!==xe||ae!==oe||Yi||a!==null&&a.dependencies!==null&&xu(a.dependencies)?(typeof E=="function"&&(ah(s,o,E,d),oe=s.memoizedState),(fe=Yi||Pb(s,o,fe,d,ae,oe,U)||a!==null&&a.dependencies!==null&&xu(a.dependencies))?(ne||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,oe,U),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,oe,U)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===a.memoizedProps&&ae===a.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&ae===a.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=oe),v.props=d,v.state=oe,v.context=U,d=fe):(typeof v.componentDidUpdate!="function"||C===a.memoizedProps&&ae===a.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&ae===a.memoizedState||(s.flags|=1024),d=!1)}return v=d,Ru(a,s),d=(s.flags&128)!==0,v||d?(v=s.stateNode,o=d&&typeof o.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,a!==null&&d?(s.child=Xs(s,a.child,null,g),s.child=Xs(s,null,o,g)):Kn(a,s,o,g),s.memoizedState=v.state,a=s.child):a=ci(a,s,g),a}function Xb(a,s,o,d){return Vs(),s.flags|=256,Kn(a,s,o,d),s.child}var ch={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uh(a){return{baseLanes:a,cachePool:$y()}}function dh(a,s,o){return a=a!==null?a.childLanes&~o:0,s&&(a|=Lr),a}function Zb(a,s,o){var d=s.pendingProps,g=!1,v=(s.flags&128)!==0,C;if((C=v)||(C=a!==null&&a.memoizedState===null?!1:(vn.current&2)!==0),C&&(g=!0,s.flags&=-129),C=(s.flags&32)!==0,s.flags&=-33,a===null){if(vt){if(g?Zi(s):Ji(),(a=Jt)?(a=s1(a,ia),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Vi!==null?{id:Ra,overflow:La}:null,retryLane:536870912,hydrationErrors:null},o=Ey(a),o.return=s,s.child=o,Fn=s,Jt=null)):a=null,a===null)throw Gi(s);return Gh(a)?s.lanes=32:s.lanes=536870912,null}var E=d.children;return d=d.fallback,g?(Ji(),g=s.mode,E=Lu({mode:"hidden",children:E},g),d=Fs(d,g,o,null),E.return=s,d.return=s,E.sibling=d,s.child=E,d=s.child,d.memoizedState=uh(o),d.childLanes=dh(a,C,o),s.memoizedState=ch,Wo(null,d)):(Zi(s),fh(s,E))}var U=a.memoizedState;if(U!==null&&(E=U.dehydrated,E!==null)){if(v)s.flags&256?(Zi(s),s.flags&=-257,s=mh(a,s,o)):s.memoizedState!==null?(Ji(),s.child=a.child,s.flags|=128,s=null):(Ji(),E=d.fallback,g=s.mode,d=Lu({mode:"visible",children:d.children},g),E=Fs(E,g,o,null),E.flags|=2,d.return=s,E.return=s,d.sibling=E,s.child=d,Xs(s,a.child,null,o),d=s.child,d.memoizedState=uh(o),d.childLanes=dh(a,C,o),s.memoizedState=ch,s=Wo(null,d));else if(Zi(s),Gh(E)){if(C=E.nextSibling&&E.nextSibling.dataset,C)var ne=C.dgst;C=ne,d=Error(r(419)),d.stack="",d.digest=C,Ro({value:d,source:null,stack:null}),s=mh(a,s,o)}else if(Nn||Il(a,s,o,!1),C=(o&a.childLanes)!==0,Nn||C){if(C=Vt,C!==null&&(d=Qa(C,o),d!==0&&d!==U.retryLane))throw U.retryLane=d,Hs(a,d),kr(C,a,d),lh;Kh(E)||Ku(),s=mh(a,s,o)}else Kh(E)?(s.flags|=192,s.child=a.child,s=null):(a=U.treeContext,Jt=la(E.nextSibling),Fn=s,vt=!0,Ki=null,ia=!1,a!==null&&Iy(s,a),s=fh(s,d.children),s.flags|=4096);return s}return g?(Ji(),E=d.fallback,g=s.mode,U=a.child,ne=U.sibling,d=ri(U,{mode:"hidden",children:d.children}),d.subtreeFlags=U.subtreeFlags&65011712,ne!==null?E=ri(ne,E):(E=Fs(E,g,o,null),E.flags|=2),E.return=s,d.return=s,d.sibling=E,s.child=d,Wo(null,d),d=s.child,E=a.child.memoizedState,E===null?E=uh(o):(g=E.cachePool,g!==null?(U=jn._currentValue,g=g.parent!==U?{parent:U,pool:U}:g):g=$y(),E={baseLanes:E.baseLanes|o,cachePool:g}),d.memoizedState=E,d.childLanes=dh(a,C,o),s.memoizedState=ch,Wo(a.child,d)):(Zi(s),o=a.child,a=o.sibling,o=ri(o,{mode:"visible",children:d.children}),o.return=s,o.sibling=null,a!==null&&(C=s.deletions,C===null?(s.deletions=[a],s.flags|=16):C.push(a)),s.child=o,s.memoizedState=null,o)}function fh(a,s){return s=Lu({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Lu(a,s){return a=_r(22,a,null,s),a.lanes=0,a}function mh(a,s,o){return Xs(s,a.child,null,o),a=fh(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function Jb(a,s,o){a.lanes|=s;var d=a.alternate;d!==null&&(d.lanes|=s),Am(a.return,s,o)}function hh(a,s,o,d,g,v){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:g,treeForkCount:v}:(C.isBackwards=s,C.rendering=null,C.renderingStartTime=0,C.last=d,C.tail=o,C.tailMode=g,C.treeForkCount=v)}function ej(a,s,o){var d=s.pendingProps,g=d.revealOrder,v=d.tail;d=d.children;var C=vn.current,E=(C&2)!==0;if(E?(C=C&1|2,s.flags|=128):C&=1,se(vn,C),Kn(a,s,d,o),d=vt?Po:0,!E&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Jb(a,o,s);else if(a.tag===19)Jb(a,o,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(g){case"forwards":for(o=s.child,g=null;o!==null;)a=o.alternate,a!==null&&ku(a)===null&&(g=o),o=o.sibling;o=g,o===null?(g=s.child,s.child=null):(g=o.sibling,o.sibling=null),hh(s,!1,g,o,v,d);break;case"backwards":case"unstable_legacy-backwards":for(o=null,g=s.child,s.child=null;g!==null;){if(a=g.alternate,a!==null&&ku(a)===null){s.child=g;break}a=g.sibling,g.sibling=o,o=g,g=a}hh(s,!0,o,null,v,d);break;case"together":hh(s,!1,null,null,void 0,d);break;default:s.memoizedState=null}return s.child}function ci(a,s,o){if(a!==null&&(s.dependencies=a.dependencies),ns|=s.lanes,(o&s.childLanes)===0)if(a!==null){if(Il(a,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,o=ri(a,a.pendingProps),s.child=o,o.return=s;a.sibling!==null;)a=a.sibling,o=o.sibling=ri(a,a.pendingProps),o.return=s;o.sibling=null}return s.child}function ph(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&xu(a)))}function iT(a,s,o){switch(s.tag){case 3:ct(s,s.stateNode.containerInfo),Wi(s,jn,a.memoizedState.cache),Vs();break;case 27:case 5:Fe(s);break;case 4:ct(s,s.stateNode.containerInfo);break;case 10:Wi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,$m(s),null;break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(Zi(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Zb(a,s,o):(Zi(s),a=ci(a,s,o),a!==null?a.sibling:null);Zi(s);break;case 19:var g=(a.flags&128)!==0;if(d=(o&s.childLanes)!==0,d||(Il(a,s,o,!1),d=(o&s.childLanes)!==0),g){if(d)return ej(a,s,o);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),se(vn,vn.current),d)break;return null;case 22:return s.lanes=0,Kb(a,s,o,s.pendingProps);case 24:Wi(s,jn,a.memoizedState.cache)}return ci(a,s,o)}function tj(a,s,o){if(a!==null)if(a.memoizedProps!==s.pendingProps)Nn=!0;else{if(!ph(a,o)&&(s.flags&128)===0)return Nn=!1,iT(a,s,o);Nn=(a.flags&131072)!==0}else Nn=!1,vt&&(s.flags&1048576)!==0&&_y(s,Po,s.index);switch(s.lanes=0,s.tag){case 16:e:{var d=s.pendingProps;if(a=Ys(s.elementType),s.type=a,typeof a=="function")bm(a)?(d=Js(a,d),s.tag=1,s=Qb(null,s,a,d,o)):(s.tag=0,s=oh(null,s,a,d,o));else{if(a!=null){var g=a.$$typeof;if(g===I){s.tag=11,s=Hb(null,s,a,d,o);break e}else if(g===B){s.tag=14,s=Fb(null,s,a,d,o);break e}}throw s=Te(a)||a,Error(r(306,s,""))}}return s;case 0:return oh(a,s,s.type,s.pendingProps,o);case 1:return d=s.type,g=Js(d,s.pendingProps),Qb(a,s,d,g,o);case 3:e:{if(ct(s,s.stateNode.containerInfo),a===null)throw Error(r(387));d=s.pendingProps;var v=s.memoizedState;g=v.element,Pm(a,s),Ho(s,d,null,o);var C=s.memoizedState;if(d=C.cache,Wi(s,jn,d),d!==v.cache&&Tm(s,[jn],o,!0),qo(),d=C.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:C.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=Xb(a,s,d,o);break e}else if(d!==g){g=na(Error(r(424)),s),Ro(g),s=Xb(a,s,d,o);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Jt=la(a.firstChild),Fn=s,vt=!0,Ki=null,ia=!0,o=Ky(s,null,d,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Vs(),d===g){s=ci(a,s,o);break e}Kn(a,s,d,o)}s=s.child}return s;case 26:return Ru(a,s),a===null?(o=f1(s.type,null,s.pendingProps,null))?s.memoizedState=o:vt||(o=s.type,a=s.pendingProps,d=Ju(_e.current).createElement(o),d[F]=s,d[q]=a,Gn(d,o,a),Ve(d),s.stateNode=d):s.memoizedState=f1(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Fe(s),a===null&&vt&&(d=s.stateNode=c1(s.type,s.pendingProps,_e.current),Fn=s,ia=!0,g=Jt,ls(s.type)?(Wh=g,Jt=la(d.firstChild)):Jt=g),Kn(a,s,s.pendingProps.children,o),Ru(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&vt&&((g=d=Jt)&&(d=PT(d,s.type,s.pendingProps,ia),d!==null?(s.stateNode=d,Fn=s,Jt=la(d.firstChild),ia=!1,g=!0):g=!1),g||Gi(s)),Fe(s),g=s.type,v=s.pendingProps,C=a!==null?a.memoizedProps:null,d=v.children,Hh(g,v)?d=null:C!==null&&Hh(g,C)&&(s.flags|=32),s.memoizedState!==null&&(g=qm(a,s,Q4,null,null,o),cc._currentValue=g),Ru(a,s),Kn(a,s,d,o),s.child;case 6:return a===null&&vt&&((a=o=Jt)&&(o=RT(o,s.pendingProps,ia),o!==null?(s.stateNode=o,Fn=s,Jt=null,a=!0):a=!1),a||Gi(s)),null;case 13:return Zb(a,s,o);case 4:return ct(s,s.stateNode.containerInfo),d=s.pendingProps,a===null?s.child=Xs(s,null,d,o):Kn(a,s,d,o),s.child;case 11:return Hb(a,s,s.type,s.pendingProps,o);case 7:return Kn(a,s,s.pendingProps,o),s.child;case 8:return Kn(a,s,s.pendingProps.children,o),s.child;case 12:return Kn(a,s,s.pendingProps.children,o),s.child;case 10:return d=s.pendingProps,Wi(s,s.type,d.value),Kn(a,s,d.children,o),s.child;case 9:return g=s.type._context,d=s.pendingProps.children,Gs(s),g=Vn(g),d=d(g),s.flags|=1,Kn(a,s,d,o),s.child;case 14:return Fb(a,s,s.type,s.pendingProps,o);case 15:return Vb(a,s,s.type,s.pendingProps,o);case 19:return ej(a,s,o);case 31:return aT(a,s,o);case 22:return Kb(a,s,o,s.pendingProps);case 24:return Gs(s),d=Vn(jn),a===null?(g=Mm(),g===null&&(g=Vt,v=Dm(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=o),g=v),s.memoizedState={parent:d,cache:g},Im(s),Wi(s,jn,g)):((a.lanes&o)!==0&&(Pm(a,s),Ho(s,null,null,o),qo()),g=a.memoizedState,v=s.memoizedState,g.parent!==d?(g={parent:d,cache:d},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Wi(s,jn,d)):(d=v.cache,Wi(s,jn,d),d!==g.cache&&Tm(s,[jn],o,!0))),Kn(a,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ui(a){a.flags|=4}function gh(a,s,o,d,g){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(g&335544128)===g)if(a.stateNode.complete)a.flags|=8192;else if(Aj())a.flags|=8192;else throw Qs=ju,_m}else a.flags&=-16777217}function nj(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!x1(s))if(Aj())a.flags|=8192;else throw Qs=ju,_m}function zu(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?ba():536870912,a.lanes|=s,Kl|=s)}function Yo(a,s){if(!vt)switch(a.tailMode){case"hidden":s=a.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?a.tail=null:o.sibling=null;break;case"collapsed":o=a.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function en(a){var s=a.alternate!==null&&a.alternate.child===a.child,o=0,d=0;if(s)for(var g=a.child;g!==null;)o|=g.lanes|g.childLanes,d|=g.subtreeFlags&65011712,d|=g.flags&65011712,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)o|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=d,a.childLanes=o,s}function sT(a,s,o){var d=s.pendingProps;switch(Sm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(s),null;case 1:return en(s),null;case 3:return o=s.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),si(jn),ue(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(a===null||a.child===null)&&(_l(s)?ui(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Cm())),en(s),null;case 26:var g=s.type,v=s.memoizedState;return a===null?(ui(s),v!==null?(en(s),nj(s,v)):(en(s),gh(s,g,null,d,o))):v?v!==a.memoizedState?(ui(s),en(s),nj(s,v)):(en(s),s.flags&=-16777217):(a=a.memoizedProps,a!==d&&ui(s),en(s),gh(s,g,a,d,o)),null;case 27:if(Ye(s),o=_e.current,g=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&ui(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return en(s),null}a=ve.current,_l(s)?Py(s):(a=c1(g,d,o),s.stateNode=a,ui(s))}return en(s),null;case 5:if(Ye(s),g=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&ui(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return en(s),null}if(v=ve.current,_l(s))Py(s);else{var C=Ju(_e.current);switch(v){case 1:v=C.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=C.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=C.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof d.is=="string"?C.createElement("select",{is:d.is}):C.createElement("select"),d.multiple?v.multiple=!0:d.size&&(v.size=d.size);break;default:v=typeof d.is=="string"?C.createElement(g,{is:d.is}):C.createElement(g)}}v[F]=s,v[q]=d;e:for(C=s.child;C!==null;){if(C.tag===5||C.tag===6)v.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===s)break e;for(;C.sibling===null;){if(C.return===null||C.return===s)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}s.stateNode=v;e:switch(Gn(v,g,d),g){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&ui(s)}}return en(s),gh(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,o),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==d&&ui(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(a=_e.current,_l(s)){if(a=s.stateNode,o=s.memoizedProps,d=null,g=Fn,g!==null)switch(g.tag){case 27:case 5:d=g.memoizedProps}a[F]=s,a=!!(a.nodeValue===o||d!==null&&d.suppressHydrationWarning===!0||Zj(a.nodeValue,o)),a||Gi(s,!0)}else a=Ju(a).createTextNode(d),a[F]=s,s.stateNode=a}return en(s),null;case 31:if(o=s.memoizedState,a===null||a.memoizedState!==null){if(d=_l(s),o!==null){if(a===null){if(!d)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[F]=s}else Vs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;en(s),a=!1}else o=Cm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=o),a=!0;if(!a)return s.flags&256?(Pr(s),s):(Pr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return en(s),null;case 13:if(d=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=_l(s),d!==null&&d.dehydrated!==null){if(a===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[F]=s}else Vs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;en(s),g=!1}else g=Cm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(Pr(s),s):(Pr(s),null)}return Pr(s),(s.flags&128)!==0?(s.lanes=o,s):(o=d!==null,a=a!==null&&a.memoizedState!==null,o&&(d=s.child,g=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(g=d.alternate.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==g&&(d.flags|=2048)),o!==a&&o&&(s.child.flags|=8192),zu(s,s.updateQueue),en(s),null);case 4:return ue(),a===null&&zh(s.stateNode.containerInfo),en(s),null;case 10:return si(s.type),en(s),null;case 19:if(L(vn),d=s.memoizedState,d===null)return en(s),null;if(g=(s.flags&128)!==0,v=d.rendering,v===null)if(g)Yo(d,!1);else{if(hn!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(v=ku(a),v!==null){for(s.flags|=128,Yo(d,!1),a=v.updateQueue,s.updateQueue=a,zu(s,a),s.subtreeFlags=0,a=o,o=s.child;o!==null;)Dy(o,a),o=o.sibling;return se(vn,vn.current&1|2),vt&&ai(s,d.treeForkCount),s.child}a=a.sibling}d.tail!==null&&On()>Hu&&(s.flags|=128,g=!0,Yo(d,!1),s.lanes=4194304)}else{if(!g)if(a=ku(v),a!==null){if(s.flags|=128,g=!0,a=a.updateQueue,s.updateQueue=a,zu(s,a),Yo(d,!0),d.tail===null&&d.tailMode==="hidden"&&!v.alternate&&!vt)return en(s),null}else 2*On()-d.renderingStartTime>Hu&&o!==536870912&&(s.flags|=128,g=!0,Yo(d,!1),s.lanes=4194304);d.isBackwards?(v.sibling=s.child,s.child=v):(a=d.last,a!==null?a.sibling=v:s.child=v,d.last=v)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=On(),a.sibling=null,o=vn.current,se(vn,g?o&1|2:o&1),vt&&ai(s,d.treeForkCount),a):(en(s),null);case 22:case 23:return Pr(s),Bm(),d=s.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(o&536870912)!==0&&(s.flags&128)===0&&(en(s),s.subtreeFlags&6&&(s.flags|=8192)):en(s),o=s.updateQueue,o!==null&&zu(s,o.retryQueue),o=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==o&&(s.flags|=2048),a!==null&&L(Ws),null;case 24:return o=null,a!==null&&(o=a.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),si(jn),en(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function lT(a,s){switch(Sm(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return si(jn),ue(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Ye(s),null;case 31:if(s.memoizedState!==null){if(Pr(s),s.alternate===null)throw Error(r(340));Vs()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Pr(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Vs()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return L(vn),null;case 4:return ue(),null;case 10:return si(s.type),null;case 22:case 23:return Pr(s),Bm(),a!==null&&L(Ws),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return si(jn),null;case 25:return null;default:return null}}function rj(a,s){switch(Sm(s),s.tag){case 3:si(jn),ue();break;case 26:case 27:case 5:Ye(s);break;case 4:ue();break;case 31:s.memoizedState!==null&&Pr(s);break;case 13:Pr(s);break;case 19:L(vn);break;case 10:si(s.type);break;case 22:case 23:Pr(s),Bm(),a!==null&&L(Ws);break;case 24:si(jn)}}function Qo(a,s){try{var o=s.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var g=d.next;o=g;do{if((o.tag&a)===a){d=void 0;var v=o.create,C=o.inst;d=v(),C.destroy=d}o=o.next}while(o!==g)}}catch(E){Lt(s,s.return,E)}}function es(a,s,o){try{var d=s.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var v=g.next;d=v;do{if((d.tag&a)===a){var C=d.inst,E=C.destroy;if(E!==void 0){C.destroy=void 0,g=s;var U=o,ne=E;try{ne()}catch(fe){Lt(g,U,fe)}}}d=d.next}while(d!==v)}}catch(fe){Lt(s,s.return,fe)}}function aj(a){var s=a.updateQueue;if(s!==null){var o=a.stateNode;try{Wy(s,o)}catch(d){Lt(a,a.return,d)}}}function ij(a,s,o){o.props=Js(a.type,a.memoizedProps),o.state=a.memoizedState;try{o.componentWillUnmount()}catch(d){Lt(a,s,d)}}function Xo(a,s){try{var o=a.ref;if(o!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof o=="function"?a.refCleanup=o(d):o.current=d}}catch(g){Lt(a,s,g)}}function za(a,s){var o=a.ref,d=a.refCleanup;if(o!==null)if(typeof d=="function")try{d()}catch(g){Lt(a,s,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){Lt(a,s,g)}else o.current=null}function sj(a){var s=a.type,o=a.memoizedProps,d=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&d.focus();break e;case"img":o.src?d.src=o.src:o.srcSet&&(d.srcset=o.srcSet)}}catch(g){Lt(a,a.return,g)}}function xh(a,s,o){try{var d=a.stateNode;TT(d,a.type,o,s),d[q]=s}catch(g){Lt(a,a.return,g)}}function lj(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ls(a.type)||a.tag===4}function vh(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||lj(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ls(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function yh(a,s,o){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(a,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(a),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=it));else if(d!==4&&(d===27&&ls(a.type)&&(o=a.stateNode,s=null),a=a.child,a!==null))for(yh(a,s,o),a=a.sibling;a!==null;)yh(a,s,o),a=a.sibling}function Bu(a,s,o){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?o.insertBefore(a,s):o.appendChild(a);else if(d!==4&&(d===27&&ls(a.type)&&(o=a.stateNode),a=a.child,a!==null))for(Bu(a,s,o),a=a.sibling;a!==null;)Bu(a,s,o),a=a.sibling}function oj(a){var s=a.stateNode,o=a.memoizedProps;try{for(var d=a.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);Gn(s,d,o),s[F]=a,s[q]=o}catch(v){Lt(a,a.return,v)}}var di=!1,Sn=!1,bh=!1,cj=typeof WeakSet=="function"?WeakSet:Set,zn=null;function oT(a,s){if(a=a.containerInfo,Uh=sd,a=jy(a),mm(a)){if("selectionStart"in a)var o={start:a.selectionStart,end:a.selectionEnd};else e:{o=(o=a.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var C=0,E=-1,U=-1,ne=0,fe=0,xe=a,ae=null;t:for(;;){for(var oe;xe!==o||g!==0&&xe.nodeType!==3||(E=C+g),xe!==v||d!==0&&xe.nodeType!==3||(U=C+d),xe.nodeType===3&&(C+=xe.nodeValue.length),(oe=xe.firstChild)!==null;)ae=xe,xe=oe;for(;;){if(xe===a)break t;if(ae===o&&++ne===g&&(E=C),ae===v&&++fe===d&&(U=C),(oe=xe.nextSibling)!==null)break;xe=ae,ae=xe.parentNode}xe=oe}o=E===-1||U===-1?null:{start:E,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(qh={focusedElem:a,selectionRange:o},sd=!1,zn=s;zn!==null;)if(s=zn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,zn=a;else for(;zn!==null;){switch(s=zn,v=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(o=0;o<a.length;o++)g=a[o],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,o=s,g=v.memoizedProps,v=v.memoizedState,d=o.stateNode;try{var Re=Js(o.type,g);a=d.getSnapshotBeforeUpdate(Re,v),d.__reactInternalSnapshotBeforeUpdate=a}catch(Ze){Lt(o,o.return,Ze)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,o=a.nodeType,o===9)Vh(a);else if(o===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Vh(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,zn=a;break}zn=s.return}}function uj(a,s,o){var d=o.flags;switch(o.tag){case 0:case 11:case 15:mi(a,o),d&4&&Qo(5,o);break;case 1:if(mi(a,o),d&4)if(a=o.stateNode,s===null)try{a.componentDidMount()}catch(C){Lt(o,o.return,C)}else{var g=Js(o.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(g,s,a.__reactInternalSnapshotBeforeUpdate)}catch(C){Lt(o,o.return,C)}}d&64&&aj(o),d&512&&Xo(o,o.return);break;case 3:if(mi(a,o),d&64&&(a=o.updateQueue,a!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Wy(a,s)}catch(C){Lt(o,o.return,C)}}break;case 27:s===null&&d&4&&oj(o);case 26:case 5:mi(a,o),s===null&&d&4&&sj(o),d&512&&Xo(o,o.return);break;case 12:mi(a,o);break;case 31:mi(a,o),d&4&&mj(a,o);break;case 13:mi(a,o),d&4&&hj(a,o),d&64&&(a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(o=xT.bind(null,o),LT(a,o))));break;case 22:if(d=o.memoizedState!==null||di,!d){s=s!==null&&s.memoizedState!==null||Sn,g=di;var v=Sn;di=d,(Sn=s)&&!v?hi(a,o,(o.subtreeFlags&8772)!==0):mi(a,o),di=g,Sn=v}break;case 30:break;default:mi(a,o)}}function dj(a){var s=a.alternate;s!==null&&(a.alternate=null,dj(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&ht(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var rn=null,jr=!1;function fi(a,s,o){for(o=o.child;o!==null;)fj(a,s,o),o=o.sibling}function fj(a,s,o){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(_t,o)}catch{}switch(o.tag){case 26:Sn||za(o,s),fi(a,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Sn||za(o,s);var d=rn,g=jr;ls(o.type)&&(rn=o.stateNode,jr=!1),fi(a,s,o),sc(o.stateNode),rn=d,jr=g;break;case 5:Sn||za(o,s);case 6:if(d=rn,g=jr,rn=null,fi(a,s,o),rn=d,jr=g,rn!==null)if(jr)try{(rn.nodeType===9?rn.body:rn.nodeName==="HTML"?rn.ownerDocument.body:rn).removeChild(o.stateNode)}catch(v){Lt(o,s,v)}else try{rn.removeChild(o.stateNode)}catch(v){Lt(o,s,v)}break;case 18:rn!==null&&(jr?(a=rn,a1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.stateNode),eo(a)):a1(rn,o.stateNode));break;case 4:d=rn,g=jr,rn=o.stateNode.containerInfo,jr=!0,fi(a,s,o),rn=d,jr=g;break;case 0:case 11:case 14:case 15:es(2,o,s),Sn||es(4,o,s),fi(a,s,o);break;case 1:Sn||(za(o,s),d=o.stateNode,typeof d.componentWillUnmount=="function"&&ij(o,s,d)),fi(a,s,o);break;case 21:fi(a,s,o);break;case 22:Sn=(d=Sn)||o.memoizedState!==null,fi(a,s,o),Sn=d;break;default:fi(a,s,o)}}function mj(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{eo(a)}catch(o){Lt(s,s.return,o)}}}function hj(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{eo(a)}catch(o){Lt(s,s.return,o)}}function cT(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new cj),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new cj),s;default:throw Error(r(435,a.tag))}}function $u(a,s){var o=cT(a);s.forEach(function(d){if(!o.has(d)){o.add(d);var g=vT.bind(null,a,d);d.then(g,g)}})}function wr(a,s){var o=s.deletions;if(o!==null)for(var d=0;d<o.length;d++){var g=o[d],v=a,C=s,E=C;e:for(;E!==null;){switch(E.tag){case 27:if(ls(E.type)){rn=E.stateNode,jr=!1;break e}break;case 5:rn=E.stateNode,jr=!1;break e;case 3:case 4:rn=E.stateNode.containerInfo,jr=!0;break e}E=E.return}if(rn===null)throw Error(r(160));fj(v,C,g),rn=null,jr=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)pj(s,a),s=s.sibling}var Oa=null;function pj(a,s){var o=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:wr(s,a),Nr(a),d&4&&(es(3,a,a.return),Qo(3,a),es(5,a,a.return));break;case 1:wr(s,a),Nr(a),d&512&&(Sn||o===null||za(o,o.return)),d&64&&di&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(o=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=o===null?d:o.concat(d))));break;case 26:var g=Oa;if(wr(s,a),Nr(a),d&512&&(Sn||o===null||za(o,o.return)),d&4){var v=o!==null?o.memoizedState:null;if(d=a.memoizedState,o===null)if(d===null)if(a.stateNode===null){e:{d=a.type,o=a.memoizedProps,g=g.ownerDocument||g;t:switch(d){case"title":v=g.getElementsByTagName("title")[0],(!v||v[He]||v[F]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(d),g.head.insertBefore(v,g.querySelector("head > title"))),Gn(v,d,o),v[F]=a,Ve(v),d=v;break e;case"link":var C=p1("link","href",g).get(d+(o.href||""));if(C){for(var E=0;E<C.length;E++)if(v=C[E],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){C.splice(E,1);break t}}v=g.createElement(d),Gn(v,d,o),g.head.appendChild(v);break;case"meta":if(C=p1("meta","content",g).get(d+(o.content||""))){for(E=0;E<C.length;E++)if(v=C[E],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){C.splice(E,1);break t}}v=g.createElement(d),Gn(v,d,o),g.head.appendChild(v);break;default:throw Error(r(468,d))}v[F]=a,Ve(v),d=v}a.stateNode=d}else g1(g,a.type,a.stateNode);else a.stateNode=h1(g,d,a.memoizedProps);else v!==d?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,d===null?g1(g,a.type,a.stateNode):h1(g,d,a.memoizedProps)):d===null&&a.stateNode!==null&&xh(a,a.memoizedProps,o.memoizedProps)}break;case 27:wr(s,a),Nr(a),d&512&&(Sn||o===null||za(o,o.return)),o!==null&&d&4&&xh(a,a.memoizedProps,o.memoizedProps);break;case 5:if(wr(s,a),Nr(a),d&512&&(Sn||o===null||za(o,o.return)),a.flags&32){g=a.stateNode;try{k(g,"")}catch(Re){Lt(a,a.return,Re)}}d&4&&a.stateNode!=null&&(g=a.memoizedProps,xh(a,g,o!==null?o.memoizedProps:g)),d&1024&&(bh=!0);break;case 6:if(wr(s,a),Nr(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,o=a.stateNode;try{o.nodeValue=d}catch(Re){Lt(a,a.return,Re)}}break;case 3:if(nd=null,g=Oa,Oa=ed(s.containerInfo),wr(s,a),Oa=g,Nr(a),d&4&&o!==null&&o.memoizedState.isDehydrated)try{eo(s.containerInfo)}catch(Re){Lt(a,a.return,Re)}bh&&(bh=!1,gj(a));break;case 4:d=Oa,Oa=ed(a.stateNode.containerInfo),wr(s,a),Nr(a),Oa=d;break;case 12:wr(s,a),Nr(a);break;case 31:wr(s,a),Nr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,$u(a,d)));break;case 13:wr(s,a),Nr(a),a.child.flags&8192&&a.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(qu=On()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,$u(a,d)));break;case 22:g=a.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,ne=di,fe=Sn;if(di=ne||g,Sn=fe||U,wr(s,a),Sn=fe,di=ne,Nr(a),d&8192)e:for(s=a.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(o===null||U||di||Sn||el(a)),o=null,s=a;;){if(s.tag===5||s.tag===26){if(o===null){U=o=s;try{if(v=U.stateNode,g)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{E=U.stateNode;var xe=U.memoizedProps.style,ae=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;E.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Re){Lt(U,U.return,Re)}}}else if(s.tag===6){if(o===null){U=s;try{U.stateNode.nodeValue=g?"":U.memoizedProps}catch(Re){Lt(U,U.return,Re)}}}else if(s.tag===18){if(o===null){U=s;try{var oe=U.stateNode;g?i1(oe,!0):i1(U.stateNode,!1)}catch(Re){Lt(U,U.return,Re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=a.updateQueue,d!==null&&(o=d.retryQueue,o!==null&&(d.retryQueue=null,$u(a,o))));break;case 19:wr(s,a),Nr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,$u(a,d)));break;case 30:break;case 21:break;default:wr(s,a),Nr(a)}}function Nr(a){var s=a.flags;if(s&2){try{for(var o,d=a.return;d!==null;){if(lj(d)){o=d;break}d=d.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var g=o.stateNode,v=vh(a);Bu(a,v,g);break;case 5:var C=o.stateNode;o.flags&32&&(k(C,""),o.flags&=-33);var E=vh(a);Bu(a,E,C);break;case 3:case 4:var U=o.stateNode.containerInfo,ne=vh(a);yh(a,ne,U);break;default:throw Error(r(161))}}catch(fe){Lt(a,a.return,fe)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function gj(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;gj(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function mi(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)uj(a,s.alternate,s),s=s.sibling}function el(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:es(4,s,s.return),el(s);break;case 1:za(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&ij(s,s.return,o),el(s);break;case 27:sc(s.stateNode);case 26:case 5:za(s,s.return),el(s);break;case 22:s.memoizedState===null&&el(s);break;case 30:el(s);break;default:el(s)}a=a.sibling}}function hi(a,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,g=a,v=s,C=v.flags;switch(v.tag){case 0:case 11:case 15:hi(g,v,o),Qo(4,v);break;case 1:if(hi(g,v,o),d=v,g=d.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ne){Lt(d,d.return,ne)}if(d=v,g=d.updateQueue,g!==null){var E=d.stateNode;try{var U=g.shared.hiddenCallbacks;if(U!==null)for(g.shared.hiddenCallbacks=null,g=0;g<U.length;g++)Gy(U[g],E)}catch(ne){Lt(d,d.return,ne)}}o&&C&64&&aj(v),Xo(v,v.return);break;case 27:oj(v);case 26:case 5:hi(g,v,o),o&&d===null&&C&4&&sj(v),Xo(v,v.return);break;case 12:hi(g,v,o);break;case 31:hi(g,v,o),o&&C&4&&mj(g,v);break;case 13:hi(g,v,o),o&&C&4&&hj(g,v);break;case 22:v.memoizedState===null&&hi(g,v,o),Xo(v,v.return);break;case 30:break;default:hi(g,v,o)}s=s.sibling}}function jh(a,s){var o=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==o&&(a!=null&&a.refCount++,o!=null&&Lo(o))}function wh(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Lo(a))}function Aa(a,s,o,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)xj(a,s,o,d),s=s.sibling}function xj(a,s,o,d){var g=s.flags;switch(s.tag){case 0:case 11:case 15:Aa(a,s,o,d),g&2048&&Qo(9,s);break;case 1:Aa(a,s,o,d);break;case 3:Aa(a,s,o,d),g&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Lo(a)));break;case 12:if(g&2048){Aa(a,s,o,d),a=s.stateNode;try{var v=s.memoizedProps,C=v.id,E=v.onPostCommit;typeof E=="function"&&E(C,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(U){Lt(s,s.return,U)}}else Aa(a,s,o,d);break;case 31:Aa(a,s,o,d);break;case 13:Aa(a,s,o,d);break;case 23:break;case 22:v=s.stateNode,C=s.alternate,s.memoizedState!==null?v._visibility&2?Aa(a,s,o,d):Zo(a,s):v._visibility&2?Aa(a,s,o,d):(v._visibility|=2,Hl(a,s,o,d,(s.subtreeFlags&10256)!==0||!1)),g&2048&&jh(C,s);break;case 24:Aa(a,s,o,d),g&2048&&wh(s.alternate,s);break;default:Aa(a,s,o,d)}}function Hl(a,s,o,d,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=a,C=s,E=o,U=d,ne=C.flags;switch(C.tag){case 0:case 11:case 15:Hl(v,C,E,U,g),Qo(8,C);break;case 23:break;case 22:var fe=C.stateNode;C.memoizedState!==null?fe._visibility&2?Hl(v,C,E,U,g):Zo(v,C):(fe._visibility|=2,Hl(v,C,E,U,g)),g&&ne&2048&&jh(C.alternate,C);break;case 24:Hl(v,C,E,U,g),g&&ne&2048&&wh(C.alternate,C);break;default:Hl(v,C,E,U,g)}s=s.sibling}}function Zo(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=a,d=s,g=d.flags;switch(d.tag){case 22:Zo(o,d),g&2048&&jh(d.alternate,d);break;case 24:Zo(o,d),g&2048&&wh(d.alternate,d);break;default:Zo(o,d)}s=s.sibling}}var Jo=8192;function Fl(a,s,o){if(a.subtreeFlags&Jo)for(a=a.child;a!==null;)vj(a,s,o),a=a.sibling}function vj(a,s,o){switch(a.tag){case 26:Fl(a,s,o),a.flags&Jo&&a.memoizedState!==null&&YT(o,Oa,a.memoizedState,a.memoizedProps);break;case 5:Fl(a,s,o);break;case 3:case 4:var d=Oa;Oa=ed(a.stateNode.containerInfo),Fl(a,s,o),Oa=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=Jo,Jo=16777216,Fl(a,s,o),Jo=d):Fl(a,s,o));break;default:Fl(a,s,o)}}function yj(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function ec(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var d=s[o];zn=d,jj(d,a)}yj(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)bj(a),a=a.sibling}function bj(a){switch(a.tag){case 0:case 11:case 15:ec(a),a.flags&2048&&es(9,a,a.return);break;case 3:ec(a);break;case 12:ec(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Uu(a)):ec(a);break;default:ec(a)}}function Uu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var d=s[o];zn=d,jj(d,a)}yj(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:es(8,s,s.return),Uu(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Uu(s));break;default:Uu(s)}a=a.sibling}}function jj(a,s){for(;zn!==null;){var o=zn;switch(o.tag){case 0:case 11:case 15:es(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var d=o.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Lo(o.memoizedState.cache)}if(d=o.child,d!==null)d.return=o,zn=d;else e:for(o=a;zn!==null;){d=zn;var g=d.sibling,v=d.return;if(dj(d),d===o){zn=null;break e}if(g!==null){g.return=v,zn=g;break e}zn=v}}}var uT={getCacheForType:function(a){var s=Vn(jn),o=s.data.get(a);return o===void 0&&(o=a(),s.data.set(a,o)),o},cacheSignal:function(){return Vn(jn).controller.signal}},dT=typeof WeakMap=="function"?WeakMap:Map,Mt=0,Vt=null,ft=null,pt=0,Rt=0,Rr=null,ts=!1,Vl=!1,Nh=!1,pi=0,hn=0,ns=0,tl=0,Sh=0,Lr=0,Kl=0,tc=null,Sr=null,kh=!1,qu=0,wj=0,Hu=1/0,Fu=null,rs=null,Mn=0,as=null,Gl=null,gi=0,Ch=0,Oh=null,Nj=null,nc=0,Ah=null;function zr(){return(Mt&2)!==0&&pt!==0?pt&-pt:Z.T!==null?Ih():wa()}function Sj(){if(Lr===0)if((pt&536870912)===0||vt){var a=Wt;Wt<<=1,(Wt&3932160)===0&&(Wt=262144),Lr=a}else Lr=536870912;return a=Ir.current,a!==null&&(a.flags|=32),Lr}function kr(a,s,o){(a===Vt&&(Rt===2||Rt===9)||a.cancelPendingCommit!==null)&&(Wl(a,0),is(a,pt,Lr,!1)),Yr(a,o),((Mt&2)===0||a!==Vt)&&(a===Vt&&((Mt&2)===0&&(tl|=o),hn===4&&is(a,pt,Lr,!1)),Ba(a))}function kj(a,s,o){if((Mt&6)!==0)throw Error(r(327));var d=!o&&(s&127)===0&&(s&a.expiredLanes)===0||An(a,s),g=d?hT(a,s):Dh(a,s,!0),v=d;do{if(g===0){Vl&&!d&&is(a,s,0,!1);break}else{if(o=a.current.alternate,v&&!fT(o)){g=Dh(a,s,!1),v=!1;continue}if(g===2){if(v=s,a.errorRecoveryDisabledLanes&v)var C=0;else C=a.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){s=C;e:{var E=a;g=tc;var U=E.current.memoizedState.isDehydrated;if(U&&(Wl(E,C).flags|=256),C=Dh(E,C,!1),C!==2){if(Nh&&!U){E.errorRecoveryDisabledLanes|=v,tl|=v,g=4;break e}v=Sr,Sr=g,v!==null&&(Sr===null?Sr=v:Sr.push.apply(Sr,v))}g=C}if(v=!1,g!==2)continue}}if(g===1){Wl(a,0),is(a,s,0,!0);break}e:{switch(d=a,v=g,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:is(d,s,Lr,!ts);break e;case 2:Sr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=qu+300-On(),10<g)){if(is(d,s,Lr,!ts),er(d,0,!0)!==0)break e;gi=s,d.timeoutHandle=n1(Cj.bind(null,d,o,Sr,Fu,kh,s,Lr,tl,Kl,ts,v,"Throttled",-0,0),g);break e}Cj(d,o,Sr,Fu,kh,s,Lr,tl,Kl,ts,v,null,-0,0)}}break}while(!0);Ba(a)}function Cj(a,s,o,d,g,v,C,E,U,ne,fe,xe,ae,oe){if(a.timeoutHandle=-1,xe=s.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:it},vj(s,v,xe);var Re=(v&62914560)===v?qu-On():(v&4194048)===v?wj-On():0;if(Re=QT(xe,Re),Re!==null){gi=v,a.cancelPendingCommit=Re(Ij.bind(null,a,s,v,o,d,g,C,E,U,fe,xe,null,ae,oe)),is(a,v,C,!ne);return}}Ij(a,s,v,o,d,g,C,E,U)}function fT(a){for(var s=a;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var d=0;d<o.length;d++){var g=o[d],v=g.getSnapshot;g=g.value;try{if(!Mr(v(),g))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function is(a,s,o,d){s&=~Sh,s&=~tl,a.suspendedLanes|=s,a.pingedLanes&=~s,d&&(a.warmLanes|=s),d=a.expirationTimes;for(var g=s;0<g;){var v=31-It(g),C=1<<v;d[v]=-1,g&=~C}o!==0&&Ya(a,o,s)}function Vu(){return(Mt&6)===0?(rc(0),!1):!0}function Th(){if(ft!==null){if(Rt===0)var a=ft.return;else a=ft,ii=Ks=null,Vm(a),zl=null,Bo=0,a=ft;for(;a!==null;)rj(a.alternate,a),a=a.return;ft=null}}function Wl(a,s){var o=a.timeoutHandle;o!==-1&&(a.timeoutHandle=-1,MT(o)),o=a.cancelPendingCommit,o!==null&&(a.cancelPendingCommit=null,o()),gi=0,Th(),Vt=a,ft=o=ri(a.current,null),pt=s,Rt=0,Rr=null,ts=!1,Vl=An(a,s),Nh=!1,Kl=Lr=Sh=tl=ns=hn=0,Sr=tc=null,kh=!1,(s&8)!==0&&(s|=s&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=s;0<d;){var g=31-It(d),v=1<<g;s|=a[g],d&=~v}return pi=s,fu(),o}function Oj(a,s){at=null,Z.H=Go,s===Ll||s===bu?(s=Hy(),Rt=3):s===_m?(s=Hy(),Rt=4):Rt=s===lh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rr=s,ft===null&&(hn=1,Iu(a,na(s,a.current)))}function Aj(){var a=Ir.current;return a===null?!0:(pt&4194048)===pt?sa===null:(pt&62914560)===pt||(pt&536870912)!==0?a===sa:!1}function Tj(){var a=Z.H;return Z.H=Go,a===null?Go:a}function Dj(){var a=Z.A;return Z.A=uT,a}function Ku(){hn=4,ts||(pt&4194048)!==pt&&Ir.current!==null||(Vl=!0),(ns&134217727)===0&&(tl&134217727)===0||Vt===null||is(Vt,pt,Lr,!1)}function Dh(a,s,o){var d=Mt;Mt|=2;var g=Tj(),v=Dj();(Vt!==a||pt!==s)&&(Fu=null,Wl(a,s)),s=!1;var C=hn;e:do try{if(Rt!==0&&ft!==null){var E=ft,U=Rr;switch(Rt){case 8:Th(),C=6;break e;case 3:case 2:case 9:case 6:Ir.current===null&&(s=!0);var ne=Rt;if(Rt=0,Rr=null,Yl(a,E,U,ne),o&&Vl){C=0;break e}break;default:ne=Rt,Rt=0,Rr=null,Yl(a,E,U,ne)}}mT(),C=hn;break}catch(fe){Oj(a,fe)}while(!0);return s&&a.shellSuspendCounter++,ii=Ks=null,Mt=d,Z.H=g,Z.A=v,ft===null&&(Vt=null,pt=0,fu()),C}function mT(){for(;ft!==null;)Ej(ft)}function hT(a,s){var o=Mt;Mt|=2;var d=Tj(),g=Dj();Vt!==a||pt!==s?(Fu=null,Hu=On()+500,Wl(a,s)):Vl=An(a,s);e:do try{if(Rt!==0&&ft!==null){s=ft;var v=Rr;t:switch(Rt){case 1:Rt=0,Rr=null,Yl(a,s,v,1);break;case 2:case 9:if(Uy(v)){Rt=0,Rr=null,Mj(s);break}s=function(){Rt!==2&&Rt!==9||Vt!==a||(Rt=7),Ba(a)},v.then(s,s);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:Uy(v)?(Rt=0,Rr=null,Mj(s)):(Rt=0,Rr=null,Yl(a,s,v,7));break;case 5:var C=null;switch(ft.tag){case 26:C=ft.memoizedState;case 5:case 27:var E=ft;if(C?x1(C):E.stateNode.complete){Rt=0,Rr=null;var U=E.sibling;if(U!==null)ft=U;else{var ne=E.return;ne!==null?(ft=ne,Gu(ne)):ft=null}break t}}Rt=0,Rr=null,Yl(a,s,v,5);break;case 6:Rt=0,Rr=null,Yl(a,s,v,6);break;case 8:Th(),hn=6;break e;default:throw Error(r(462))}}pT();break}catch(fe){Oj(a,fe)}while(!0);return ii=Ks=null,Z.H=d,Z.A=g,Mt=o,ft!==null?0:(Vt=null,pt=0,fu(),hn)}function pT(){for(;ft!==null&&!Wa();)Ej(ft)}function Ej(a){var s=tj(a.alternate,a,pi);a.memoizedProps=a.pendingProps,s===null?Gu(a):ft=s}function Mj(a){var s=a,o=s.alternate;switch(s.tag){case 15:case 0:s=Yb(o,s,s.pendingProps,s.type,void 0,pt);break;case 11:s=Yb(o,s,s.pendingProps,s.type.render,s.ref,pt);break;case 5:Vm(s);default:rj(o,s),s=ft=Dy(s,pi),s=tj(o,s,pi)}a.memoizedProps=a.pendingProps,s===null?Gu(a):ft=s}function Yl(a,s,o,d){ii=Ks=null,Vm(s),zl=null,Bo=0;var g=s.return;try{if(rT(a,g,s,o,pt)){hn=1,Iu(a,na(o,a.current)),ft=null;return}}catch(v){if(g!==null)throw ft=g,v;hn=1,Iu(a,na(o,a.current)),ft=null;return}s.flags&32768?(vt||d===1?a=!0:Vl||(pt&536870912)!==0?a=!1:(ts=a=!0,(d===2||d===9||d===3||d===6)&&(d=Ir.current,d!==null&&d.tag===13&&(d.flags|=16384))),_j(s,a)):Gu(s)}function Gu(a){var s=a;do{if((s.flags&32768)!==0){_j(s,ts);return}a=s.return;var o=sT(s.alternate,s,pi);if(o!==null){ft=o;return}if(s=s.sibling,s!==null){ft=s;return}ft=s=a}while(s!==null);hn===0&&(hn=5)}function _j(a,s){do{var o=lT(a.alternate,a);if(o!==null){o.flags&=32767,ft=o;return}if(o=a.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(a=a.sibling,a!==null)){ft=a;return}ft=a=o}while(a!==null);hn=6,ft=null}function Ij(a,s,o,d,g,v,C,E,U){a.cancelPendingCommit=null;do Wu();while(Mn!==0);if((Mt&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=vm,Qr(a,o,v,C,E,U),a===Vt&&(ft=Vt=null,pt=0),Gl=s,as=a,gi=o,Ch=v,Oh=g,Nj=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,yT(_a,function(){return Bj(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=Z.T,Z.T=null,g=ce.p,ce.p=2,C=Mt,Mt|=4;try{oT(a,s,o)}finally{Mt=C,ce.p=g,Z.T=d}}Mn=1,Pj(),Rj(),Lj()}}function Pj(){if(Mn===1){Mn=0;var a=as,s=Gl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var d=ce.p;ce.p=2;var g=Mt;Mt|=4;try{pj(s,a);var v=qh,C=jy(a.containerInfo),E=v.focusedElem,U=v.selectionRange;if(C!==E&&E&&E.ownerDocument&&by(E.ownerDocument.documentElement,E)){if(U!==null&&mm(E)){var ne=U.start,fe=U.end;if(fe===void 0&&(fe=ne),"selectionStart"in E)E.selectionStart=ne,E.selectionEnd=Math.min(fe,E.value.length);else{var xe=E.ownerDocument||document,ae=xe&&xe.defaultView||window;if(ae.getSelection){var oe=ae.getSelection(),Re=E.textContent.length,Ze=Math.min(U.start,Re),qt=U.end===void 0?Ze:Math.min(U.end,Re);!oe.extend&&Ze>qt&&(C=qt,qt=Ze,Ze=C);var Q=yy(E,Ze),H=yy(E,qt);if(Q&&H&&(oe.rangeCount!==1||oe.anchorNode!==Q.node||oe.anchorOffset!==Q.offset||oe.focusNode!==H.node||oe.focusOffset!==H.offset)){var te=xe.createRange();te.setStart(Q.node,Q.offset),oe.removeAllRanges(),Ze>qt?(oe.addRange(te),oe.extend(H.node,H.offset)):(te.setEnd(H.node,H.offset),oe.addRange(te))}}}}for(xe=[],oe=E;oe=oe.parentNode;)oe.nodeType===1&&xe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<xe.length;E++){var pe=xe[E];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}sd=!!Uh,qh=Uh=null}finally{Mt=g,ce.p=d,Z.T=o}}a.current=s,Mn=2}}function Rj(){if(Mn===2){Mn=0;var a=as,s=Gl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var d=ce.p;ce.p=2;var g=Mt;Mt|=4;try{uj(a,s.alternate,s)}finally{Mt=g,ce.p=d,Z.T=o}}Mn=3}}function Lj(){if(Mn===4||Mn===3){Mn=0,Es();var a=as,s=Gl,o=gi,d=Nj;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Mn=5:(Mn=0,Gl=as=null,zj(a,a.pendingLanes));var g=a.pendingLanes;if(g===0&&(rs=null),ja(o),s=s.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(_t,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=Z.T,g=ce.p,ce.p=2,Z.T=null;try{for(var v=a.onRecoverableError,C=0;C<d.length;C++){var E=d[C];v(E.value,{componentStack:E.stack})}}finally{Z.T=s,ce.p=g}}(gi&3)!==0&&Wu(),Ba(a),g=a.pendingLanes,(o&261930)!==0&&(g&42)!==0?a===Ah?nc++:(nc=0,Ah=a):nc=0,rc(0)}}function zj(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Lo(s)))}function Wu(){return Pj(),Rj(),Lj(),Bj()}function Bj(){if(Mn!==5)return!1;var a=as,s=Ch;Ch=0;var o=ja(gi),d=Z.T,g=ce.p;try{ce.p=32>o?32:o,Z.T=null,o=Oh,Oh=null;var v=as,C=gi;if(Mn=0,Gl=as=null,gi=0,(Mt&6)!==0)throw Error(r(331));var E=Mt;if(Mt|=4,bj(v.current),xj(v,v.current,C,o),Mt=E,rc(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(_t,v)}catch{}return!0}finally{ce.p=g,Z.T=d,zj(a,s)}}function $j(a,s,o){s=na(o,s),s=sh(a.stateNode,s,2),a=Xi(a,s,2),a!==null&&(Yr(a,2),Ba(a))}function Lt(a,s,o){if(a.tag===3)$j(a,a,o);else for(;s!==null;){if(s.tag===3){$j(s,a,o);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(rs===null||!rs.has(d))){a=na(o,a),o=Ub(2),d=Xi(s,o,2),d!==null&&(qb(o,d,s,a),Yr(d,2),Ba(d));break}}s=s.return}}function Eh(a,s,o){var d=a.pingCache;if(d===null){d=a.pingCache=new dT;var g=new Set;d.set(s,g)}else g=d.get(s),g===void 0&&(g=new Set,d.set(s,g));g.has(o)||(Nh=!0,g.add(o),a=gT.bind(null,a,s,o),s.then(a,a))}function gT(a,s,o){var d=a.pingCache;d!==null&&d.delete(s),a.pingedLanes|=a.suspendedLanes&o,a.warmLanes&=~o,Vt===a&&(pt&o)===o&&(hn===4||hn===3&&(pt&62914560)===pt&&300>On()-qu?(Mt&2)===0&&Wl(a,0):Sh|=o,Kl===pt&&(Kl=0)),Ba(a)}function Uj(a,s){s===0&&(s=ba()),a=Hs(a,s),a!==null&&(Yr(a,s),Ba(a))}function xT(a){var s=a.memoizedState,o=0;s!==null&&(o=s.retryLane),Uj(a,o)}function vT(a,s){var o=0;switch(a.tag){case 31:case 13:var d=a.stateNode,g=a.memoizedState;g!==null&&(o=g.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),Uj(a,o)}function yT(a,s){return Wr(a,s)}var Yu=null,Ql=null,Mh=!1,Qu=!1,_h=!1,ss=0;function Ba(a){a!==Ql&&a.next===null&&(Ql===null?Yu=Ql=a:Ql=Ql.next=a),Qu=!0,Mh||(Mh=!0,jT())}function rc(a,s){if(!_h&&Qu){_h=!0;do for(var o=!1,d=Yu;d!==null;){if(a!==0){var g=d.pendingLanes;if(g===0)var v=0;else{var C=d.suspendedLanes,E=d.pingedLanes;v=(1<<31-It(42|a)+1)-1,v&=g&~(C&~E),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,Vj(d,v))}else v=pt,v=er(d,d===Vt?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||An(d,v)||(o=!0,Vj(d,v));d=d.next}while(o);_h=!1}}function bT(){qj()}function qj(){Qu=Mh=!1;var a=0;ss!==0&&ET()&&(a=ss);for(var s=On(),o=null,d=Yu;d!==null;){var g=d.next,v=Hj(d,s);v===0?(d.next=null,o===null?Yu=g:o.next=g,g===null&&(Ql=o)):(o=d,(a!==0||(v&3)!==0)&&(Qu=!0)),d=g}Mn!==0&&Mn!==5||rc(a),ss!==0&&(ss=0)}function Hj(a,s){for(var o=a.suspendedLanes,d=a.pingedLanes,g=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var C=31-It(v),E=1<<C,U=g[C];U===-1?((E&o)===0||(E&d)!==0)&&(g[C]=dr(E,s)):U<=s&&(a.expiredLanes|=E),v&=~E}if(s=Vt,o=pt,o=er(a,a===s?o:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,o===0||a===s&&(Rt===2||Rt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&Xt(d),a.callbackNode=null,a.callbackPriority=0;if((o&3)===0||An(a,o)){if(s=o&-o,s===a.callbackPriority)return s;switch(d!==null&&Xt(d),ja(o)){case 2:case 8:o=Zn;break;case 32:o=_a;break;case 268435456:o=ur;break;default:o=_a}return d=Fj.bind(null,a),o=Wr(o,d),a.callbackPriority=s,a.callbackNode=o,s}return d!==null&&d!==null&&Xt(d),a.callbackPriority=2,a.callbackNode=null,2}function Fj(a,s){if(Mn!==0&&Mn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var o=a.callbackNode;if(Wu()&&a.callbackNode!==o)return null;var d=pt;return d=er(a,a===Vt?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(kj(a,d,s),Hj(a,On()),a.callbackNode!=null&&a.callbackNode===o?Fj.bind(null,a):null)}function Vj(a,s){if(Wu())return null;kj(a,s,!0)}function jT(){_T(function(){(Mt&6)!==0?Wr($i,bT):qj()})}function Ih(){if(ss===0){var a=Pl;a===0&&(a=Gt,Gt<<=1,(Gt&261888)===0&&(Gt=256)),ss=a}return ss}function Kj(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ie(""+a)}function Gj(a,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,a.id&&o.setAttribute("form",a.id),s.parentNode.insertBefore(o,s),a=new FormData(a),o.parentNode.removeChild(o),a}function wT(a,s,o,d,g){if(s==="submit"&&o&&o.stateNode===g){var v=Kj((g[q]||null).action),C=d.submitter;C&&(s=(s=C[q]||null)?Kj(s.formAction):C.getAttribute("formAction"),s!==null&&(v=s,C=null));var E=new kt("action","action",null,d,g);a.push({event:E,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(ss!==0){var U=C?Gj(g,C):new FormData(g);eh(o,{pending:!0,data:U,method:g.method,action:v},null,U)}}else typeof v=="function"&&(E.preventDefault(),U=C?Gj(g,C):new FormData(g),eh(o,{pending:!0,data:U,method:g.method,action:v},v,U))},currentTarget:g}]})}}for(var Ph=0;Ph<xm.length;Ph++){var Rh=xm[Ph],NT=Rh.toLowerCase(),ST=Rh[0].toUpperCase()+Rh.slice(1);Ca(NT,"on"+ST)}Ca(Sy,"onAnimationEnd"),Ca(ky,"onAnimationIteration"),Ca(Cy,"onAnimationStart"),Ca("dblclick","onDoubleClick"),Ca("focusin","onFocus"),Ca("focusout","onBlur"),Ca($4,"onTransitionRun"),Ca(U4,"onTransitionStart"),Ca(q4,"onTransitionCancel"),Ca(Oy,"onTransitionEnd"),Hn("onMouseEnter",["mouseout","mouseover"]),Hn("onMouseLeave",["mouseout","mouseover"]),Hn("onPointerEnter",["pointerout","pointerover"]),Hn("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ac));function Wj(a,s){s=(s&4)!==0;for(var o=0;o<a.length;o++){var d=a[o],g=d.event;d=d.listeners;e:{var v=void 0;if(s)for(var C=d.length-1;0<=C;C--){var E=d[C],U=E.instance,ne=E.currentTarget;if(E=E.listener,U!==v&&g.isPropagationStopped())break e;v=E,g.currentTarget=ne;try{v(g)}catch(fe){du(fe)}g.currentTarget=null,v=U}else for(C=0;C<d.length;C++){if(E=d[C],U=E.instance,ne=E.currentTarget,E=E.listener,U!==v&&g.isPropagationStopped())break e;v=E,g.currentTarget=ne;try{v(g)}catch(fe){du(fe)}g.currentTarget=null,v=U}}}}function mt(a,s){var o=s[Oe];o===void 0&&(o=s[Oe]=new Set);var d=a+"__bubble";o.has(d)||(Yj(s,a,2,!1),o.add(d))}function Lh(a,s,o){var d=0;s&&(d|=4),Yj(o,a,d,s)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function zh(a){if(!a[Xu]){a[Xu]=!0,tt.forEach(function(o){o!=="selectionchange"&&(kT.has(o)||Lh(o,!1,a),Lh(o,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Xu]||(s[Xu]=!0,Lh("selectionchange",!1,s))}}function Yj(a,s,o,d){switch(S1(s)){case 2:var g=JT;break;case 8:g=eD;break;default:g=Jh}o=g.bind(null,s,o,a),g=void 0,!Fi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),d?g!==void 0?a.addEventListener(s,o,{capture:!0,passive:g}):a.addEventListener(s,o,!0):g!==void 0?a.addEventListener(s,o,{passive:g}):a.addEventListener(s,o,!1)}function Bh(a,s,o,d,g){var v=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var E=d.stateNode.containerInfo;if(E===g)break;if(C===4)for(C=d.return;C!==null;){var U=C.tag;if((U===3||U===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;E!==null;){if(C=nn(E),C===null)return;if(U=C.tag,U===5||U===6||U===26||U===27){d=v=C;continue e}E=E.parentNode}}d=d.return}To(function(){var ne=v,fe=Sa(o),xe=[];e:{var ae=Ay.get(a);if(ae!==void 0){var oe=kt,Re=a;switch(a){case"keypress":if(de(o)===0)break e;case"keydown":case"keyup":oe=v4;break;case"focusin":Re="focus",oe=ot;break;case"focusout":Re="blur",oe=ot;break;case"beforeblur":case"afterblur":oe=ot;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=ea;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=j4;break;case Sy:case ky:case Cy:oe=c4;break;case Oy:oe=N4;break;case"scroll":case"scrollend":oe=ar;break;case"wheel":oe=k4;break;case"copy":case"cut":case"paste":oe=d4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=iy;break;case"toggle":case"beforetoggle":oe=O4}var Ze=(s&4)!==0,qt=!Ze&&(a==="scroll"||a==="scrollend"),Q=Ze?ae!==null?ae+"Capture":null:ae;Ze=[];for(var H=ne,te;H!==null;){var pe=H;if(te=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||te===null||Q===null||(pe=Ls(H,Q),pe!=null&&Ze.push(ic(H,pe,te))),qt)break;H=H.return}0<Ze.length&&(ae=new oe(ae,Re,null,o,fe),xe.push({event:ae,listeners:Ze}))}}if((s&7)===0){e:{if(ae=a==="mouseover"||a==="pointerover",oe=a==="mouseout"||a==="pointerout",ae&&o!==fr&&(Re=o.relatedTarget||o.fromElement)&&(nn(Re)||Re[ie]))break e;if((oe||ae)&&(ae=fe.window===fe?fe:(ae=fe.ownerDocument)?ae.defaultView||ae.parentWindow:window,oe?(Re=o.relatedTarget||o.toElement,oe=ne,Re=Re?nn(Re):null,Re!==null&&(qt=c(Re),Ze=Re.tag,Re!==qt||Ze!==5&&Ze!==27&&Ze!==6)&&(Re=null)):(oe=null,Re=ne),oe!==Re)){if(Ze=ea,pe="onMouseLeave",Q="onMouseEnter",H="mouse",(a==="pointerout"||a==="pointerover")&&(Ze=iy,pe="onPointerLeave",Q="onPointerEnter",H="pointer"),qt=oe==null?ae:tr(oe),te=Re==null?ae:tr(Re),ae=new Ze(pe,H+"leave",oe,o,fe),ae.target=qt,ae.relatedTarget=te,pe=null,nn(fe)===ne&&(Ze=new Ze(Q,H+"enter",Re,o,fe),Ze.target=te,Ze.relatedTarget=qt,pe=Ze),qt=pe,oe&&Re)t:{for(Ze=CT,Q=oe,H=Re,te=0,pe=Q;pe;pe=Ze(pe))te++;pe=0;for(var Ge=H;Ge;Ge=Ze(Ge))pe++;for(;0<te-pe;)Q=Ze(Q),te--;for(;0<pe-te;)H=Ze(H),pe--;for(;te--;){if(Q===H||H!==null&&Q===H.alternate){Ze=Q;break t}Q=Ze(Q),H=Ze(H)}Ze=null}else Ze=null;oe!==null&&Qj(xe,ae,oe,Ze,!1),Re!==null&&qt!==null&&Qj(xe,qt,Re,Ze,!0)}}e:{if(ae=ne?tr(ne):window,oe=ae.nodeName&&ae.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ae.type==="file")var At=my;else if(dy(ae))if(hy)At=L4;else{At=P4;var Ue=I4}else oe=ae.nodeName,!oe||oe.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ne&&Ae(ne.elementType)&&(At=my):At=R4;if(At&&(At=At(a,ne))){fy(xe,At,o,fe);break e}Ue&&Ue(a,ae,ne),a==="focusout"&&ne&&ae.type==="number"&&ne.memoizedProps.value!=null&&Nt(ae,"number",ae.value)}switch(Ue=ne?tr(ne):window,a){case"focusin":(dy(Ue)||Ue.contentEditable==="true")&&(Ol=Ue,hm=ne,Io=null);break;case"focusout":Io=hm=Ol=null;break;case"mousedown":pm=!0;break;case"contextmenu":case"mouseup":case"dragend":pm=!1,wy(xe,o,fe);break;case"selectionchange":if(B4)break;case"keydown":case"keyup":wy(xe,o,fe)}var st;if(um)e:{switch(a){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Cl?cy(a,o)&&(gt="onCompositionEnd"):a==="keydown"&&o.keyCode===229&&(gt="onCompositionStart");gt&&(sy&&o.locale!=="ko"&&(Cl||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Cl&&(st=Bs()):(Er=fe,Ja="value"in Er?Er.value:Er.textContent,Cl=!0)),Ue=Zu(ne,gt),0<Ue.length&&(gt=new ay(gt,a,null,o,fe),xe.push({event:gt,listeners:Ue}),st?gt.data=st:(st=uy(o),st!==null&&(gt.data=st)))),(st=T4?D4(a,o):E4(a,o))&&(gt=Zu(ne,"onBeforeInput"),0<gt.length&&(Ue=new ay("onBeforeInput","beforeinput",null,o,fe),xe.push({event:Ue,listeners:gt}),Ue.data=st)),wT(xe,a,ne,o,fe)}Wj(xe,s)})}function ic(a,s,o){return{instance:a,listener:s,currentTarget:o}}function Zu(a,s){for(var o=s+"Capture",d=[];a!==null;){var g=a,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Ls(a,o),g!=null&&d.unshift(ic(a,g,v)),g=Ls(a,s),g!=null&&d.push(ic(a,g,v))),a.tag===3)return d;a=a.return}return[]}function CT(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Qj(a,s,o,d,g){for(var v=s._reactName,C=[];o!==null&&o!==d;){var E=o,U=E.alternate,ne=E.stateNode;if(E=E.tag,U!==null&&U===d)break;E!==5&&E!==26&&E!==27||ne===null||(U=ne,g?(ne=Ls(o,v),ne!=null&&C.unshift(ic(o,ne,U))):g||(ne=Ls(o,v),ne!=null&&C.push(ic(o,ne,U)))),o=o.return}C.length!==0&&a.push({event:s,listeners:C})}var OT=/\r\n?/g,AT=/\u0000|\uFFFD/g;function Xj(a){return(typeof a=="string"?a:""+a).replace(OT,`
`).replace(AT,"")}function Zj(a,s){return s=Xj(s),Xj(a)===s}function Ut(a,s,o,d,g,v){switch(o){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||k(a,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&k(a,""+d);break;case"className":Jr(a,"class",d);break;case"tabIndex":Jr(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Jr(a,o,d);break;case"style":W(a,d,v);break;case"data":if(s!=="object"){Jr(a,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||o!=="href")){a.removeAttribute(o);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(o);break}d=Ie(""+d),a.setAttribute(o,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(s!=="input"&&Ut(a,s,"name",g.name,g,null),Ut(a,s,"formEncType",g.formEncType,g,null),Ut(a,s,"formMethod",g.formMethod,g,null),Ut(a,s,"formTarget",g.formTarget,g,null)):(Ut(a,s,"encType",g.encType,g,null),Ut(a,s,"method",g.method,g,null),Ut(a,s,"target",g.target,g,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(o);break}d=Ie(""+d),a.setAttribute(o,d);break;case"onClick":d!=null&&(a.onclick=it);break;case"onScroll":d!=null&&mt("scroll",a);break;case"onScrollEnd":d!=null&&mt("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(o=d.__html,o!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=o}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}o=Ie(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(o,""+d):a.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(o,""):a.removeAttribute(o);break;case"capture":case"download":d===!0?a.setAttribute(o,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(o,d):a.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(o,d):a.removeAttribute(o);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(o):a.setAttribute(o,d);break;case"popover":mt("beforetoggle",a),mt("toggle",a),Bt(a,"popover",d);break;case"xlinkActuate":rr(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":rr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":rr(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":rr(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":rr(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":rr(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":rr(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":rr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":rr(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Bt(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ce.get(o)||o,Bt(a,o,d))}}function $h(a,s,o,d,g,v){switch(o){case"style":W(a,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(o=d.__html,o!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=o}}break;case"children":typeof d=="string"?k(a,d):(typeof d=="number"||typeof d=="bigint")&&k(a,""+d);break;case"onScroll":d!=null&&mt("scroll",a);break;case"onScrollEnd":d!=null&&mt("scrollend",a);break;case"onClick":d!=null&&(a.onclick=it);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nr.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),s=o.slice(2,g?o.length-7:void 0),v=a[q]||null,v=v!=null?v[o]:null,typeof v=="function"&&a.removeEventListener(s,v,g),typeof d=="function")){typeof v!="function"&&v!==null&&(o in a?a[o]=null:a.hasAttribute(o)&&a.removeAttribute(o)),a.addEventListener(s,d,g);break e}o in a?a[o]=d:d===!0?a.setAttribute(o,""):Bt(a,o,d)}}}function Gn(a,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",a),mt("load",a);var d=!1,g=!1,v;for(v in o)if(o.hasOwnProperty(v)){var C=o[v];if(C!=null)switch(v){case"src":d=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ut(a,s,v,C,o,null)}}g&&Ut(a,s,"srcSet",o.srcSet,o,null),d&&Ut(a,s,"src",o.src,o,null);return;case"input":mt("invalid",a);var E=v=C=g=null,U=null,ne=null;for(d in o)if(o.hasOwnProperty(d)){var fe=o[d];if(fe!=null)switch(d){case"name":g=fe;break;case"type":C=fe;break;case"checked":U=fe;break;case"defaultChecked":ne=fe;break;case"value":v=fe;break;case"defaultValue":E=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,s));break;default:Ut(a,s,d,fe,o,null)}}dt(a,v,E,U,ne,C,g,!1);return;case"select":mt("invalid",a),d=C=v=null;for(g in o)if(o.hasOwnProperty(g)&&(E=o[g],E!=null))switch(g){case"value":v=E;break;case"defaultValue":C=E;break;case"multiple":d=E;default:Ut(a,s,g,E,o,null)}s=v,o=C,a.multiple=!!d,s!=null?Pt(a,!!d,s,!1):o!=null&&Pt(a,!!d,o,!0);return;case"textarea":mt("invalid",a),v=g=d=null;for(C in o)if(o.hasOwnProperty(C)&&(E=o[C],E!=null))switch(C){case"value":d=E;break;case"defaultValue":g=E;break;case"children":v=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Ut(a,s,C,E,o,null)}ut(a,d,g,v);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(d=o[U],d!=null))switch(U){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ut(a,s,U,d,o,null)}return;case"dialog":mt("beforetoggle",a),mt("toggle",a),mt("cancel",a),mt("close",a);break;case"iframe":case"object":mt("load",a);break;case"video":case"audio":for(d=0;d<ac.length;d++)mt(ac[d],a);break;case"image":mt("error",a),mt("load",a);break;case"details":mt("toggle",a);break;case"embed":case"source":case"link":mt("error",a),mt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in o)if(o.hasOwnProperty(ne)&&(d=o[ne],d!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ut(a,s,ne,d,o,null)}return;default:if(Ae(s)){for(fe in o)o.hasOwnProperty(fe)&&(d=o[fe],d!==void 0&&$h(a,s,fe,d,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(d=o[E],d!=null&&Ut(a,s,E,d,o,null))}function TT(a,s,o,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,C=null,E=null,U=null,ne=null,fe=null;for(oe in o){var xe=o[oe];if(o.hasOwnProperty(oe)&&xe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":U=xe;default:d.hasOwnProperty(oe)||Ut(a,s,oe,null,d,xe)}}for(var ae in d){var oe=d[ae];if(xe=o[ae],d.hasOwnProperty(ae)&&(oe!=null||xe!=null))switch(ae){case"type":v=oe;break;case"name":g=oe;break;case"checked":ne=oe;break;case"defaultChecked":fe=oe;break;case"value":C=oe;break;case"defaultValue":E=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:oe!==xe&&Ut(a,s,ae,oe,d,xe)}}je(a,C,E,U,ne,fe,v,g);return;case"select":oe=C=E=ae=null;for(v in o)if(U=o[v],o.hasOwnProperty(v)&&U!=null)switch(v){case"value":break;case"multiple":oe=U;default:d.hasOwnProperty(v)||Ut(a,s,v,null,d,U)}for(g in d)if(v=d[g],U=o[g],d.hasOwnProperty(g)&&(v!=null||U!=null))switch(g){case"value":ae=v;break;case"defaultValue":E=v;break;case"multiple":C=v;default:v!==U&&Ut(a,s,g,v,d,U)}s=E,o=C,d=oe,ae!=null?Pt(a,!!o,ae,!1):!!d!=!!o&&(s!=null?Pt(a,!!o,s,!0):Pt(a,!!o,o?[]:"",!1));return;case"textarea":oe=ae=null;for(E in o)if(g=o[E],o.hasOwnProperty(E)&&g!=null&&!d.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ut(a,s,E,null,d,g)}for(C in d)if(g=d[C],v=o[C],d.hasOwnProperty(C)&&(g!=null||v!=null))switch(C){case"value":ae=g;break;case"defaultValue":oe=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==v&&Ut(a,s,C,g,d,v)}St(a,ae,oe);return;case"option":for(var Re in o)if(ae=o[Re],o.hasOwnProperty(Re)&&ae!=null&&!d.hasOwnProperty(Re))switch(Re){case"selected":a.selected=!1;break;default:Ut(a,s,Re,null,d,ae)}for(U in d)if(ae=d[U],oe=o[U],d.hasOwnProperty(U)&&ae!==oe&&(ae!=null||oe!=null))switch(U){case"selected":a.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:Ut(a,s,U,ae,d,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in o)ae=o[Ze],o.hasOwnProperty(Ze)&&ae!=null&&!d.hasOwnProperty(Ze)&&Ut(a,s,Ze,null,d,ae);for(ne in d)if(ae=d[ne],oe=o[ne],d.hasOwnProperty(ne)&&ae!==oe&&(ae!=null||oe!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:Ut(a,s,ne,ae,d,oe)}return;default:if(Ae(s)){for(var qt in o)ae=o[qt],o.hasOwnProperty(qt)&&ae!==void 0&&!d.hasOwnProperty(qt)&&$h(a,s,qt,void 0,d,ae);for(fe in d)ae=d[fe],oe=o[fe],!d.hasOwnProperty(fe)||ae===oe||ae===void 0&&oe===void 0||$h(a,s,fe,ae,d,oe);return}}for(var Q in o)ae=o[Q],o.hasOwnProperty(Q)&&ae!=null&&!d.hasOwnProperty(Q)&&Ut(a,s,Q,null,d,ae);for(xe in d)ae=d[xe],oe=o[xe],!d.hasOwnProperty(xe)||ae===oe||ae==null&&oe==null||Ut(a,s,xe,ae,d,oe)}function Jj(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DT(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,o=performance.getEntriesByType("resource"),d=0;d<o.length;d++){var g=o[d],v=g.transferSize,C=g.initiatorType,E=g.duration;if(v&&E&&Jj(C)){for(C=0,E=g.responseEnd,d+=1;d<o.length;d++){var U=o[d],ne=U.startTime;if(ne>E)break;var fe=U.transferSize,xe=U.initiatorType;fe&&Jj(xe)&&(U=U.responseEnd,C+=fe*(U<E?1:(E-ne)/(U-ne)))}if(--d,s+=8*(v+C)/(g.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Uh=null,qh=null;function Ju(a){return a.nodeType===9?a:a.ownerDocument}function e1(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t1(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Hh(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fh=null;function ET(){var a=window.event;return a&&a.type==="popstate"?a===Fh?!1:(Fh=a,!0):(Fh=null,!1)}var n1=typeof setTimeout=="function"?setTimeout:void 0,MT=typeof clearTimeout=="function"?clearTimeout:void 0,r1=typeof Promise=="function"?Promise:void 0,_T=typeof queueMicrotask=="function"?queueMicrotask:typeof r1<"u"?function(a){return r1.resolve(null).then(a).catch(IT)}:n1;function IT(a){setTimeout(function(){throw a})}function ls(a){return a==="head"}function a1(a,s){var o=s,d=0;do{var g=o.nextSibling;if(a.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"||o==="/&"){if(d===0){a.removeChild(g),eo(s);return}d--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")d++;else if(o==="html")sc(a.ownerDocument.documentElement);else if(o==="head"){o=a.ownerDocument.head,sc(o);for(var v=o.firstChild;v;){var C=v.nextSibling,E=v.nodeName;v[He]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=C}}else o==="body"&&sc(a.ownerDocument.body);o=g}while(o);eo(s)}function i1(a,s){var o=a;a=0;do{var d=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(a===0)break;a--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||a++;o=d}while(o)}function Vh(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Vh(o),ht(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}a.removeChild(o)}}function PT(a,s,o,d){for(;a.nodeType===1;){var g=o;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[He])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==g.rel||a.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=la(a.nextSibling),a===null)break}return null}function RT(a,s,o){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=la(a.nextSibling),a===null))return null;return a}function s1(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=la(a.nextSibling),a===null))return null;return a}function Kh(a){return a.data==="$?"||a.data==="$~"}function Gh(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function LT(a,s){var o=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||o.readyState!=="loading")s();else{var d=function(){s(),o.removeEventListener("DOMContentLoaded",d)};o.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function la(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var Wh=null;function l1(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var o=a.data;if(o==="/$"||o==="/&"){if(s===0)return la(a.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}a=a.nextSibling}return null}function o1(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var o=a.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return a;s--}else o!=="/$"&&o!=="/&"||s++}a=a.previousSibling}return null}function c1(a,s,o){switch(s=Ju(o),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function sc(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);ht(a)}var oa=new Map,u1=new Set;function ed(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var xi=ce.d;ce.d={f:zT,r:BT,D:$T,C:UT,L:qT,m:HT,X:VT,S:FT,M:KT};function zT(){var a=xi.f(),s=Vu();return a||s}function BT(a){var s=fn(a);s!==null&&s.tag===5&&s.type==="form"?Ob(s):xi.r(a)}var Xl=typeof document>"u"?null:document;function d1(a,s,o){var d=Xl;if(d&&typeof s=="string"&&s){var g=J(s);g='link[rel="'+a+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),u1.has(g)||(u1.add(g),a={rel:a,crossOrigin:o,href:s},d.querySelector(g)===null&&(s=d.createElement("link"),Gn(s,"link",a),Ve(s),d.head.appendChild(s)))}}function $T(a){xi.D(a),d1("dns-prefetch",a,null)}function UT(a,s){xi.C(a,s),d1("preconnect",a,s)}function qT(a,s,o){xi.L(a,s,o);var d=Xl;if(d&&a&&s){var g='link[rel="preload"][as="'+J(s)+'"]';s==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+J(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+J(o.imageSizes)+'"]')):g+='[href="'+J(a)+'"]';var v=g;switch(s){case"style":v=Zl(a);break;case"script":v=Jl(a)}oa.has(v)||(a=x({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:a,as:s},o),oa.set(v,a),d.querySelector(g)!==null||s==="style"&&d.querySelector(lc(v))||s==="script"&&d.querySelector(oc(v))||(s=d.createElement("link"),Gn(s,"link",a),Ve(s),d.head.appendChild(s)))}}function HT(a,s){xi.m(a,s);var o=Xl;if(o&&a){var d=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+J(d)+'"][href="'+J(a)+'"]',v=g;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Jl(a)}if(!oa.has(v)&&(a=x({rel:"modulepreload",href:a},s),oa.set(v,a),o.querySelector(g)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(oc(v)))return}d=o.createElement("link"),Gn(d,"link",a),Ve(d),o.head.appendChild(d)}}}function FT(a,s,o){xi.S(a,s,o);var d=Xl;if(d&&a){var g=Tn(d).hoistableStyles,v=Zl(a);s=s||"default";var C=g.get(v);if(!C){var E={loading:0,preload:null};if(C=d.querySelector(lc(v)))E.loading=5;else{a=x({rel:"stylesheet",href:a,"data-precedence":s},o),(o=oa.get(v))&&Yh(a,o);var U=C=d.createElement("link");Ve(U),Gn(U,"link",a),U._p=new Promise(function(ne,fe){U.onload=ne,U.onerror=fe}),U.addEventListener("load",function(){E.loading|=1}),U.addEventListener("error",function(){E.loading|=2}),E.loading|=4,td(C,s,d)}C={type:"stylesheet",instance:C,count:1,state:E},g.set(v,C)}}}function VT(a,s){xi.X(a,s);var o=Xl;if(o&&a){var d=Tn(o).hoistableScripts,g=Jl(a),v=d.get(g);v||(v=o.querySelector(oc(g)),v||(a=x({src:a,async:!0},s),(s=oa.get(g))&&Qh(a,s),v=o.createElement("script"),Ve(v),Gn(v,"link",a),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function KT(a,s){xi.M(a,s);var o=Xl;if(o&&a){var d=Tn(o).hoistableScripts,g=Jl(a),v=d.get(g);v||(v=o.querySelector(oc(g)),v||(a=x({src:a,async:!0,type:"module"},s),(s=oa.get(g))&&Qh(a,s),v=o.createElement("script"),Ve(v),Gn(v,"link",a),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(g,v))}}function f1(a,s,o,d){var g=(g=_e.current)?ed(g):null;if(!g)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Zl(o.href),o=Tn(g).hoistableStyles,d=o.get(s),d||(d={type:"style",instance:null,count:0,state:null},o.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){a=Zl(o.href);var v=Tn(g).hoistableStyles,C=v.get(a);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,C),(v=g.querySelector(lc(a)))&&!v._p&&(C.instance=v,C.state.loading=5),oa.has(a)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},oa.set(a,o),v||GT(g,a,o,C.state))),s&&d===null)throw Error(r(528,""));return C}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Jl(o),o=Tn(g).hoistableScripts,d=o.get(s),d||(d={type:"script",instance:null,count:0,state:null},o.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Zl(a){return'href="'+J(a)+'"'}function lc(a){return'link[rel="stylesheet"]['+a+"]"}function m1(a){return x({},a,{"data-precedence":a.precedence,precedence:null})}function GT(a,s,o,d){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=a.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),Gn(s,"link",o),Ve(s),a.head.appendChild(s))}function Jl(a){return'[src="'+J(a)+'"]'}function oc(a){return"script[async]"+a}function h1(a,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var d=a.querySelector('style[data-href~="'+J(o.href)+'"]');if(d)return s.instance=d,Ve(d),d;var g=x({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),Ve(d),Gn(d,"style",g),td(d,o.precedence,a),s.instance=d;case"stylesheet":g=Zl(o.href);var v=a.querySelector(lc(g));if(v)return s.state.loading|=4,s.instance=v,Ve(v),v;d=m1(o),(g=oa.get(g))&&Yh(d,g),v=(a.ownerDocument||a).createElement("link"),Ve(v);var C=v;return C._p=new Promise(function(E,U){C.onload=E,C.onerror=U}),Gn(v,"link",d),s.state.loading|=4,td(v,o.precedence,a),s.instance=v;case"script":return v=Jl(o.src),(g=a.querySelector(oc(v)))?(s.instance=g,Ve(g),g):(d=o,(g=oa.get(v))&&(d=x({},o),Qh(d,g)),a=a.ownerDocument||a,g=a.createElement("script"),Ve(g),Gn(g,"link",d),a.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,td(d,o.precedence,a));return s.instance}function td(a,s,o){for(var d=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=d.length?d[d.length-1]:null,v=g,C=0;C<d.length;C++){var E=d[C];if(E.dataset.precedence===s)v=E;else if(v!==g)break}v?v.parentNode.insertBefore(a,v.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(a,s.firstChild))}function Yh(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Qh(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var nd=null;function p1(a,s,o){if(nd===null){var d=new Map,g=nd=new Map;g.set(o,d)}else g=nd,d=g.get(o),d||(d=new Map,g.set(o,d));if(d.has(a))return d;for(d.set(a,null),o=o.getElementsByTagName(a),g=0;g<o.length;g++){var v=o[g];if(!(v[He]||v[F]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(s)||"";C=a+C;var E=d.get(C);E?E.push(v):d.set(C,[v])}}return d}function g1(a,s,o){a=a.ownerDocument||a,a.head.insertBefore(o,s==="title"?a.querySelector("head > title"):null)}function WT(a,s,o){if(o===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function x1(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function YT(a,s,o,d){if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var g=Zl(d.href),v=s.querySelector(lc(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=rd.bind(a),s.then(a,a)),o.state.loading|=4,o.instance=v,Ve(v);return}v=s.ownerDocument||s,d=m1(d),(g=oa.get(g))&&Yh(d,g),v=v.createElement("link"),Ve(v);var C=v;C._p=new Promise(function(E,U){C.onload=E,C.onerror=U}),Gn(v,"link",d),o.instance=v}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(a.count++,o=rd.bind(a),s.addEventListener("load",o),s.addEventListener("error",o))}}var Xh=0;function QT(a,s){return a.stylesheets&&a.count===0&&id(a,a.stylesheets),0<a.count||0<a.imgCount?function(o){var d=setTimeout(function(){if(a.stylesheets&&id(a,a.stylesheets),a.unsuspend){var v=a.unsuspend;a.unsuspend=null,v()}},6e4+s);0<a.imgBytes&&Xh===0&&(Xh=62500*DT());var g=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&id(a,a.stylesheets),a.unsuspend)){var v=a.unsuspend;a.unsuspend=null,v()}},(a.imgBytes>Xh?50:800)+s);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(g)}}:null}function rd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)id(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ad=null;function id(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ad=new Map,s.forEach(XT,a),ad=null,rd.call(a))}function XT(a,s){if(!(s.state.loading&4)){var o=ad.get(a);if(o)var d=o.get(null);else{o=new Map,ad.set(a,o);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var C=g[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(o.set(C.dataset.precedence,C),d=C)}d&&o.set(null,d)}g=s.instance,C=g.getAttribute("data-precedence"),v=o.get(C)||d,v===d&&o.set(null,g),o.set(C,g),this.count++,d=rd.bind(this),g.addEventListener("load",d),g.addEventListener("error",d),v?v.parentNode.insertBefore(g,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),s.state.loading|=4}}var cc={$$typeof:O,Provider:null,Consumer:null,_currentValue:ke,_currentValue2:ke,_threadCount:0};function ZT(a,s,o,d,g,v,C,E,U){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.hiddenUpdates=Ia(null),this.identifierPrefix=d,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function v1(a,s,o,d,g,v,C,E,U,ne,fe,xe){return a=new ZT(a,s,o,C,U,ne,fe,xe,E),s=1,v===!0&&(s|=24),v=_r(3,null,null,s),a.current=v,v.stateNode=a,s=Dm(),s.refCount++,a.pooledCache=s,s.refCount++,v.memoizedState={element:d,isDehydrated:o,cache:s},Im(v),a}function y1(a){return a?(a=Dl,a):Dl}function b1(a,s,o,d,g,v){g=y1(g),d.context===null?d.context=g:d.pendingContext=g,d=Qi(s),d.payload={element:o},v=v===void 0?null:v,v!==null&&(d.callback=v),o=Xi(a,d,s),o!==null&&(kr(o,a,s),Uo(o,a,s))}function j1(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var o=a.retryLane;a.retryLane=o!==0&&o<s?o:s}}function Zh(a,s){j1(a,s),(a=a.alternate)&&j1(a,s)}function w1(a){if(a.tag===13||a.tag===31){var s=Hs(a,67108864);s!==null&&kr(s,a,67108864),Zh(a,67108864)}}function N1(a){if(a.tag===13||a.tag===31){var s=zr();s=Xr(s);var o=Hs(a,s);o!==null&&kr(o,a,s),Zh(a,s)}}var sd=!0;function JT(a,s,o,d){var g=Z.T;Z.T=null;var v=ce.p;try{ce.p=2,Jh(a,s,o,d)}finally{ce.p=v,Z.T=g}}function eD(a,s,o,d){var g=Z.T;Z.T=null;var v=ce.p;try{ce.p=8,Jh(a,s,o,d)}finally{ce.p=v,Z.T=g}}function Jh(a,s,o,d){if(sd){var g=ep(d);if(g===null)Bh(a,s,d,ld,o),k1(a,d);else if(nD(g,a,s,o,d))d.stopPropagation();else if(k1(a,d),s&4&&-1<tD.indexOf(a)){for(;g!==null;){var v=fn(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=jt(v.pendingLanes);if(C!==0){var E=v;for(E.pendingLanes|=2,E.entangledLanes|=2;C;){var U=1<<31-It(C);E.entanglements[1]|=U,C&=~U}Ba(v),(Mt&6)===0&&(Hu=On()+500,rc(0))}}break;case 31:case 13:E=Hs(v,2),E!==null&&kr(E,v,2),Vu(),Zh(v,2)}if(v=ep(d),v===null&&Bh(a,s,d,ld,o),v===g)break;g=v}g!==null&&d.stopPropagation()}else Bh(a,s,d,null,o)}}function ep(a){return a=Sa(a),tp(a)}var ld=null;function tp(a){if(ld=null,a=nn(a),a!==null){var s=c(a);if(s===null)a=null;else{var o=s.tag;if(o===13){if(a=u(s),a!==null)return a;a=null}else if(o===31){if(a=f(s),a!==null)return a;a=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return ld=a,null}function S1(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ms()){case $i:return 2;case Zn:return 8;case _a:case Ui:return 32;case ur:return 268435456;default:return 32}default:return 32}}var np=!1,os=null,cs=null,us=null,uc=new Map,dc=new Map,ds=[],tD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k1(a,s){switch(a){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":uc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(s.pointerId)}}function fc(a,s,o,d,g,v){return a===null||a.nativeEvent!==v?(a={blockedOn:s,domEventName:o,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},s!==null&&(s=fn(s),s!==null&&w1(s)),a):(a.eventSystemFlags|=d,s=a.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),a)}function nD(a,s,o,d,g){switch(s){case"focusin":return os=fc(os,a,s,o,d,g),!0;case"dragenter":return cs=fc(cs,a,s,o,d,g),!0;case"mouseover":return us=fc(us,a,s,o,d,g),!0;case"pointerover":var v=g.pointerId;return uc.set(v,fc(uc.get(v)||null,a,s,o,d,g)),!0;case"gotpointercapture":return v=g.pointerId,dc.set(v,fc(dc.get(v)||null,a,s,o,d,g)),!0}return!1}function C1(a){var s=nn(a.target);if(s!==null){var o=c(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){a.blockedOn=s,Xa(a.priority,function(){N1(o)});return}}else if(s===31){if(s=f(o),s!==null){a.blockedOn=s,Xa(a.priority,function(){N1(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){a.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}a.blockedOn=null}function od(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var o=ep(a.nativeEvent);if(o===null){o=a.nativeEvent;var d=new o.constructor(o.type,o);fr=d,o.target.dispatchEvent(d),fr=null}else return s=fn(o),s!==null&&w1(s),a.blockedOn=o,!1;s.shift()}return!0}function O1(a,s,o){od(a)&&o.delete(s)}function rD(){np=!1,os!==null&&od(os)&&(os=null),cs!==null&&od(cs)&&(cs=null),us!==null&&od(us)&&(us=null),uc.forEach(O1),dc.forEach(O1)}function cd(a,s){a.blockedOn===s&&(a.blockedOn=null,np||(np=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rD)))}var ud=null;function A1(a){ud!==a&&(ud=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ud===a&&(ud=null);for(var s=0;s<a.length;s+=3){var o=a[s],d=a[s+1],g=a[s+2];if(typeof d!="function"){if(tp(d||o)===null)continue;break}var v=fn(o);v!==null&&(a.splice(s,3),s-=3,eh(v,{pending:!0,data:g,method:o.method,action:d},d,g))}}))}function eo(a){function s(U){return cd(U,a)}os!==null&&cd(os,a),cs!==null&&cd(cs,a),us!==null&&cd(us,a),uc.forEach(s),dc.forEach(s);for(var o=0;o<ds.length;o++){var d=ds[o];d.blockedOn===a&&(d.blockedOn=null)}for(;0<ds.length&&(o=ds[0],o.blockedOn===null);)C1(o),o.blockedOn===null&&ds.shift();if(o=(a.ownerDocument||a).$$reactFormReplay,o!=null)for(d=0;d<o.length;d+=3){var g=o[d],v=o[d+1],C=g[q]||null;if(typeof v=="function")C||A1(o);else if(C){var E=null;if(v&&v.hasAttribute("formAction")){if(g=v,C=v[q]||null)E=C.formAction;else if(tp(g)!==null)continue}else E=C.action;typeof E=="function"?o[d+1]=E:(o.splice(d,3),d-=3),A1(o)}}}function T1(){function a(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(C){return g=C})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),d||setTimeout(o,20)}function o(){if(!d&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,g=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function rp(a){this._internalRoot=a}dd.prototype.render=rp.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,d=zr();b1(o,d,a,s,null,null)},dd.prototype.unmount=rp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;b1(a.current,2,null,a,null,null),Vu(),s[ie]=null}};function dd(a){this._internalRoot=a}dd.prototype.unstable_scheduleHydration=function(a){if(a){var s=wa();a={blockedOn:null,target:a,priority:s};for(var o=0;o<ds.length&&s!==0&&s<ds[o].priority;o++);ds.splice(o,0,a),o===0&&C1(a)}};var D1=t.version;if(D1!=="19.2.0")throw Error(r(527,D1,"19.2.0"));ce.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(s),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var aD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{_t=fd.inject(aD),Be=fd}catch{}}return hc.createRoot=function(a,s){if(!l(a))throw Error(r(299));var o=!1,d="",g=Lb,v=zb,C=Bb;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError)),s=v1(a,1,!1,null,null,o,d,null,g,v,C,T1),a[ie]=s.current,zh(a),new rp(s)},hc.hydrateRoot=function(a,s,o){if(!l(a))throw Error(r(299));var d=!1,g="",v=Lb,C=zb,E=Bb,U=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),s=v1(a,1,!0,s,o??null,d,g,U,v,C,E,T1),s.context=y1(null),o=s.current,d=zr(),d=Xr(d),g=Qi(d),g.callback=null,Xi(o,g,d),o=d,s.current.lanes=o,Yr(s,o),Ba(s),a[ie]=s.current,zh(a),new dd(s)},hc.version="19.2.0",hc}var $1;function xD(){if($1)return lp.exports;$1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lp.exports=gD(),lp.exports}var vD=xD();const yD=Ka(vD);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var U1="popstate";function bD(e={}){function t(l,c){let{pathname:u="/",search:f="",hash:m=""}=Nl(l.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Wg("",{pathname:u,search:f,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(l,c){let u=l.document.querySelector("base"),f="";if(u&&u.getAttribute("href")){let m=l.location.href,h=m.indexOf("#");f=h===-1?m:m.slice(0,h)}return f+"#"+(typeof c=="string"?c:Ac(c))}function r(l,c){pa(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return wD(t,n,r,e)}function ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jD(){return Math.random().toString(36).substring(2,10)}function q1(e,t){return{usr:e.state,key:e.key,idx:t}}function Wg(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Nl(t):t,state:n,key:t&&t.key||r||jD()}}function Ac({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Nl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function wD(e,t,n,r={}){let{window:l=document.defaultView,v5Compat:c=!1}=r,u=l.history,f="POP",m=null,h=p();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function p(){return(u.state||{idx:null}).idx}function x(){f="POP";let S=p(),D=S==null?null:S-h;h=S,m&&m({action:f,location:w.location,delta:D})}function b(S,D){f="PUSH";let P=Wg(w.location,S,D);n&&n(P,S),h=p()+1;let O=q1(P,h),I=w.createHref(P);try{u.pushState(O,"",I)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;l.location.assign(I)}c&&m&&m({action:f,location:w.location,delta:1})}function y(S,D){f="REPLACE";let P=Wg(w.location,S,D);n&&n(P,S),h=p();let O=q1(P,h),I=w.createHref(P);u.replaceState(O,"",I),c&&m&&m({action:f,location:w.location,delta:0})}function N(S){return ND(S)}let w={get action(){return f},get location(){return e(l,u)},listen(S){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(U1,x),m=S,()=>{l.removeEventListener(U1,x),m=null}},createHref(S){return t(l,S)},createURL:N,encodeLocation(S){let D=N(S);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:b,replace:y,go(S){return u.go(S)}};return w}function ND(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ln(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Ac(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function tk(e,t,n="/"){return SD(e,t,n,!1)}function SD(e,t,n,r){let l=typeof t=="string"?Nl(t):t,c=Oi(l.pathname||"/",n);if(c==null)return null;let u=nk(e);kD(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let h=RD(c);f=ID(u[m],h,r)}return f}function nk(e,t=[],n=[],r="",l=!1){let c=(u,f,m=l,h)=>{let p={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&m)return;ln(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let x=Si([r,p.relativePath]),b=n.concat(p);u.children&&u.children.length>0&&(ln(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),nk(u.children,t,b,x,m)),!(u.path==null&&!u.index)&&t.push({path:x,score:MD(x,u.index),routesMeta:b})};return e.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))c(u,f);else for(let h of rk(u.path))c(u,f,!0,h)}),t}function rk(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return l?[c,""]:[c];let u=rk(r.join("/")),f=[];return f.push(...u.map(m=>m===""?c:[c,m].join("/"))),l&&f.push(...u),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function kD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:_D(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var CD=/^:[\w-]+$/,OD=3,AD=2,TD=1,DD=10,ED=-2,H1=e=>e==="*";function MD(e,t){let n=e.split("/"),r=n.length;return n.some(H1)&&(r+=ED),t&&(r+=AD),n.filter(l=>!H1(l)).reduce((l,c)=>l+(CD.test(c)?OD:c===""?TD:DD),r)}function _D(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function ID(e,t,n=!1){let{routesMeta:r}=e,l={},c="/",u=[];for(let f=0;f<r.length;++f){let m=r[f],h=f===r.length-1,p=c==="/"?t:t.slice(c.length)||"/",x=Pd({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},p),b=m.route;if(!x&&h&&n&&!r[r.length-1].route.index&&(x=Pd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},p)),!x)return null;Object.assign(l,x.params),u.push({params:l,pathname:Si([c,x.pathname]),pathnameBase:$D(Si([c,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(c=Si([c,x.pathnameBase]))}return u}function Pd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=PD(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let c=l[0],u=c.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:x},b)=>{if(p==="*"){let N=f[b]||"";u=c.slice(0,c.length-N.length).replace(/(.)\/+$/,"$1")}const y=f[b];return x&&!y?h[p]=void 0:h[p]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:c,pathnameBase:u,pattern:e}}function PD(e,t=!1,n=!0){pa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function RD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pa(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Oi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function LD(e,t="/"){let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?Nl(e):e;return{pathname:n?n.startsWith("/")?n:zD(n,t):t,search:UD(r),hash:qD(l)}}function zD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function dp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function G0(e){let t=BD(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function W0(e,t,n,r=!1){let l;typeof e=="string"?l=Nl(e):(l={...e},ln(!l.pathname||!l.pathname.includes("?"),dp("?","pathname","search",l)),ln(!l.pathname||!l.pathname.includes("#"),dp("#","pathname","hash",l)),ln(!l.search||!l.search.includes("#"),dp("#","search","hash",l)));let c=e===""||l.pathname==="",u=c?"/":l.pathname,f;if(u==null)f=n;else{let x=t.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),x-=1;l.pathname=b.join("/")}f=x>=0?t[x]:"/"}let m=LD(l,f),h=u&&u!=="/"&&u.endsWith("/"),p=(c||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(h||p)&&(m.pathname+="/"),m}var Si=e=>e.join("/").replace(/\/\/+/g,"/"),$D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),UD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function HD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var ak=["POST","PUT","PATCH","DELETE"];new Set(ak);var FD=["GET",...ak];new Set(FD);var go=j.createContext(null);go.displayName="DataRouter";var Nf=j.createContext(null);Nf.displayName="DataRouterState";j.createContext(!1);var ik=j.createContext({isTransitioning:!1});ik.displayName="ViewTransition";var VD=j.createContext(new Map);VD.displayName="Fetchers";var KD=j.createContext(null);KD.displayName="Await";var Ea=j.createContext(null);Ea.displayName="Navigation";var Uc=j.createContext(null);Uc.displayName="Location";var Ga=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ga.displayName="Route";var Y0=j.createContext(null);Y0.displayName="RouteError";function GD(e,{relative:t}={}){ln(xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(Ea),{hash:l,pathname:c,search:u}=qc(e,{relative:t}),f=c;return n!=="/"&&(f=c==="/"?n:Si([n,c])),r.createHref({pathname:f,search:u,hash:l})}function xo(){return j.useContext(Uc)!=null}function _i(){return ln(xo(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Uc).location}var sk="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lk(e){j.useContext(Ea).static||j.useLayoutEffect(e)}function ok(){let{isDataRoute:e}=j.useContext(Ga);return e?sE():WD()}function WD(){ln(xo(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(go),{basename:t,navigator:n}=j.useContext(Ea),{matches:r}=j.useContext(Ga),{pathname:l}=_i(),c=JSON.stringify(G0(r)),u=j.useRef(!1);return lk(()=>{u.current=!0}),j.useCallback((m,h={})=>{if(pa(u.current,sk),!u.current)return;if(typeof m=="number"){n.go(m);return}let p=W0(m,JSON.parse(c),l,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Si([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,c,l,e])}j.createContext(null);function qc(e,{relative:t}={}){let{matches:n}=j.useContext(Ga),{pathname:r}=_i(),l=JSON.stringify(G0(n));return j.useMemo(()=>W0(e,JSON.parse(l),r,t==="path"),[e,l,r,t])}function YD(e,t){return ck(e,t)}function ck(e,t,n,r,l){var P;ln(xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=j.useContext(Ea),{matches:u}=j.useContext(Ga),f=u[u.length-1],m=f?f.params:{},h=f?f.pathname:"/",p=f?f.pathnameBase:"/",x=f&&f.route;{let O=x&&x.path||"";uk(h,!x||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let b=_i(),y;if(t){let O=typeof t=="string"?Nl(t):t;ln(p==="/"||((P=O.pathname)==null?void 0:P.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${O.pathname}" was given in the \`location\` prop.`),y=O}else y=b;let N=y.pathname||"/",w=N;if(p!=="/"){let O=p.replace(/^\//,"").split("/");w="/"+N.replace(/^\//,"").split("/").slice(O.length).join("/")}let S=tk(e,{pathname:w});pa(x||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),pa(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=eE(S&&S.map(O=>Object.assign({},O,{params:Object.assign({},m,O.params),pathname:Si([p,c.encodeLocation?c.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:Si([p,c.encodeLocation?c.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),u,n,r,l);return t&&D?j.createElement(Uc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},D):D}function QD(){let e=iE(),t=HD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:c},"ErrorBoundary")," or"," ",j.createElement("code",{style:c},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:l},n):null,u)}var XD=j.createElement(QD,null),ZD=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?j.createElement(Ga.Provider,{value:this.props.routeContext},j.createElement(Y0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JD({routeContext:e,match:t,children:n}){let r=j.useContext(go);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Ga.Provider,{value:e},n)}function eE(e,t=[],n=null,r=null,l=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,u=n==null?void 0:n.errors;if(u!=null){let h=c.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);ln(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,h+1))}let f=!1,m=-1;if(n)for(let h=0;h<c.length;h++){let p=c[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=h),p.route.id){let{loaderData:x,errors:b}=n,y=p.route.loader&&!x.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||y){f=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((h,p,x)=>{let b,y=!1,N=null,w=null;n&&(b=u&&p.route.id?u[p.route.id]:void 0,N=p.route.errorElement||XD,f&&(m<0&&x===0?(uk("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):m===x&&(y=!0,w=p.route.hydrateFallbackElement||null)));let S=t.concat(c.slice(0,x+1)),D=()=>{let P;return b?P=N:y?P=w:p.route.Component?P=j.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=h,j.createElement(JD,{match:p,routeContext:{outlet:h,matches:S,isDataRoute:n!=null},children:P})};return n&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?j.createElement(ZD,{location:n.location,revalidation:n.revalidation,component:N,error:b,children:D(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):D()},null)}function Q0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tE(e){let t=j.useContext(go);return ln(t,Q0(e)),t}function nE(e){let t=j.useContext(Nf);return ln(t,Q0(e)),t}function rE(e){let t=j.useContext(Ga);return ln(t,Q0(e)),t}function X0(e){let t=rE(e),n=t.matches[t.matches.length-1];return ln(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function aE(){return X0("useRouteId")}function iE(){var r;let e=j.useContext(Y0),t=nE("useRouteError"),n=X0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function sE(){let{router:e}=tE("useNavigate"),t=X0("useNavigate"),n=j.useRef(!1);return lk(()=>{n.current=!0}),j.useCallback(async(l,c={})=>{pa(n.current,sk),n.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:t,...c}))},[e,t])}var F1={};function uk(e,t,n){!t&&!F1[e]&&(F1[e]=!0,pa(!1,n))}j.memo(lE);function lE({routes:e,future:t,state:n,unstable_onError:r}){return ck(e,void 0,n,r,t)}function V1({to:e,replace:t,state:n,relative:r}){ln(xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=j.useContext(Ea);pa(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=j.useContext(Ga),{pathname:u}=_i(),f=ok(),m=W0(e,G0(c),u,r==="path"),h=JSON.stringify(m);return j.useEffect(()=>{f(JSON.parse(h),{replace:t,state:n,relative:r})},[f,h,r,t,n]),null}function Sc(e){ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oE({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:l,static:c=!1}){ln(!xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=j.useMemo(()=>({basename:u,navigator:l,static:c,future:{}}),[u,l,c]);typeof n=="string"&&(n=Nl(n));let{pathname:m="/",search:h="",hash:p="",state:x=null,key:b="default"}=n,y=j.useMemo(()=>{let N=Oi(m,u);return N==null?null:{location:{pathname:N,search:h,hash:p,state:x,key:b},navigationType:r}},[u,m,h,p,x,b,r]);return pa(y!=null,`<Router basename="${u}"> is not able to match the URL "${m}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:j.createElement(Ea.Provider,{value:f},j.createElement(Uc.Provider,{children:t,value:y}))}function cE({children:e,location:t}){return YD(Yg(e),t)}function Yg(e,t=[]){let n=[];return j.Children.forEach(e,(r,l)=>{if(!j.isValidElement(r))return;let c=[...t,l];if(r.type===j.Fragment){n.push.apply(n,Yg(r.props.children,c));return}ln(r.type===Sc,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ln(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Yg(r.props.children,c)),n.push(u)}),n}var Dd="get",Ed="application/x-www-form-urlencoded";function Sf(e){return e!=null&&typeof e.tagName=="string"}function uE(e){return Sf(e)&&e.tagName.toLowerCase()==="button"}function dE(e){return Sf(e)&&e.tagName.toLowerCase()==="form"}function fE(e){return Sf(e)&&e.tagName.toLowerCase()==="input"}function mE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hE(e,t){return e.button===0&&(!t||t==="_self")&&!mE(e)}var md=null;function pE(){if(md===null)try{new FormData(document.createElement("form"),0),md=!1}catch{md=!0}return md}var gE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fp(e){return e!=null&&!gE.has(e)?(pa(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ed}"`),null):e}function xE(e,t){let n,r,l,c,u;if(dE(e)){let f=e.getAttribute("action");r=f?Oi(f,t):null,n=e.getAttribute("method")||Dd,l=fp(e.getAttribute("enctype"))||Ed,c=new FormData(e)}else if(uE(e)||fE(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(r=m?Oi(m,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||Dd,l=fp(e.getAttribute("formenctype"))||fp(f.getAttribute("enctype"))||Ed,c=new FormData(f,e),!pE()){let{name:h,type:p,value:x}=e;if(p==="image"){let b=h?`${h}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else h&&c.append(h,x)}}else{if(Sf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Dd,r=null,l=Ed,u=e}return c&&l==="text/plain"&&(u=c,c=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Z0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vE(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Oi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function yE(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bE(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function jE(e,t,n){let r=await Promise.all(e.map(async l=>{let c=t.routes[l.route.id];if(c){let u=await yE(c,n);return u.links?u.links():[]}return[]}));return kE(r.flat(1).filter(bE).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function K1(e,t,n,r,l,c){let u=(m,h)=>n[h]?m.route.id!==n[h].route.id:!0,f=(m,h)=>{var p;return n[h].pathname!==m.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==m.params["*"]};return c==="assets"?t.filter((m,h)=>u(m,h)||f(m,h)):c==="data"?t.filter((m,h)=>{var x;let p=r.routes[m.route.id];if(!p||!p.hasLoader)return!1;if(u(m,h)||f(m,h))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function wE(e,t,{includeHydrateFallback:n}={}){return NE(e.map(r=>{let l=t.routes[r.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function NE(e){return[...new Set(e)]}function SE(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function kE(e,t){let n=new Set;return new Set(t),e.reduce((r,l)=>{let c=JSON.stringify(SE(l));return n.has(c)||(n.add(c),r.push({key:c,link:l})),r},[])}function dk(){let e=j.useContext(go);return Z0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function CE(){let e=j.useContext(Nf);return Z0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var J0=j.createContext(void 0);J0.displayName="FrameworkContext";function fk(){let e=j.useContext(J0);return Z0(e,"You must render this element inside a <HydratedRouter> element"),e}function OE(e,t){let n=j.useContext(J0),[r,l]=j.useState(!1),[c,u]=j.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:h,onMouseLeave:p,onTouchStart:x}=t,b=j.useRef(null);j.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let w=D=>{D.forEach(P=>{u(P.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[e]),j.useEffect(()=>{if(r){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{l(!0)},N=()=>{l(!1),u(!1)};return n?e!=="intent"?[c,b,{}]:[c,b,{onFocus:pc(f,y),onBlur:pc(m,N),onMouseEnter:pc(h,y),onMouseLeave:pc(p,N),onTouchStart:pc(x,y)}]:[!1,b,{}]}function pc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function AE({page:e,...t}){let{router:n}=dk(),r=j.useMemo(()=>tk(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?j.createElement(DE,{page:e,matches:r,...t}):null}function TE(e){let{manifest:t,routeModules:n}=fk(),[r,l]=j.useState([]);return j.useEffect(()=>{let c=!1;return jE(e,t,n).then(u=>{c||l(u)}),()=>{c=!0}},[e,t,n]),r}function DE({page:e,matches:t,...n}){let r=_i(),{manifest:l,routeModules:c}=fk(),{basename:u}=dk(),{loaderData:f,matches:m}=CE(),h=j.useMemo(()=>K1(e,t,m,l,r,"data"),[e,t,m,l,r]),p=j.useMemo(()=>K1(e,t,m,l,r,"assets"),[e,t,m,l,r]),x=j.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let N=new Set,w=!1;if(t.forEach(D=>{var O;let P=l.routes[D.route.id];!P||!P.hasLoader||(!h.some(I=>I.route.id===D.route.id)&&D.route.id in f&&((O=c[D.route.id])!=null&&O.shouldRevalidate)||P.hasClientLoader?w=!0:N.add(D.route.id))}),N.size===0)return[];let S=vE(e,u,"data");return w&&N.size>0&&S.searchParams.set("_routes",t.filter(D=>N.has(D.route.id)).map(D=>D.route.id).join(",")),[S.pathname+S.search]},[u,f,r,l,h,t,e,c]),b=j.useMemo(()=>wE(p,l),[p,l]),y=TE(p);return j.createElement(j.Fragment,null,x.map(N=>j.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),b.map(N=>j.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),y.map(({key:N,link:w})=>j.createElement("link",{key:N,nonce:n.nonce,...w})))}function EE(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var mk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mk&&(window.__reactRouterVersion="7.9.4")}catch{}function ME({basename:e,children:t,window:n}){let r=j.useRef();r.current==null&&(r.current=bD({window:n,v5Compat:!0}));let l=r.current,[c,u]=j.useState({action:l.action,location:l.location}),f=j.useCallback(m=>{j.startTransition(()=>u(m))},[u]);return j.useLayoutEffect(()=>l.listen(f),[l,f]),j.createElement(oE,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l})}var hk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pk=j.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:l,reloadDocument:c,replace:u,state:f,target:m,to:h,preventScrollReset:p,viewTransition:x,...b},y){let{basename:N}=j.useContext(Ea),w=typeof h=="string"&&hk.test(h),S,D=!1;if(typeof h=="string"&&w&&(S=h,mk))try{let Y=new URL(window.location.href),X=h.startsWith("//")?new URL(Y.protocol+h):new URL(h),le=Oi(X.pathname,N);X.origin===Y.origin&&le!=null?h=le+X.search+X.hash:D=!0}catch{pa(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=GD(h,{relative:l}),[O,I,R]=OE(r,b),M=PE(h,{replace:u,state:f,target:m,preventScrollReset:p,relative:l,viewTransition:x});function B(Y){t&&t(Y),Y.defaultPrevented||M(Y)}let $=j.createElement("a",{...b,...R,href:S||P,onClick:D||c?t:B,ref:EE(y,I),target:m,"data-discover":!w&&n==="render"?"true":void 0});return O&&!w?j.createElement(j.Fragment,null,$,j.createElement(AE,{page:P})):$});pk.displayName="Link";var Qg=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:l=!1,style:c,to:u,viewTransition:f,children:m,...h},p){let x=qc(u,{relative:h.relative}),b=_i(),y=j.useContext(Nf),{navigator:N,basename:w}=j.useContext(Ea),S=y!=null&&$E(x)&&f===!0,D=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,P=b.pathname,O=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(P=P.toLowerCase(),O=O?O.toLowerCase():null,D=D.toLowerCase()),O&&w&&(O=Oi(O,w)||O);const I=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let R=P===D||!l&&P.startsWith(D)&&P.charAt(I)==="/",M=O!=null&&(O===D||!l&&O.startsWith(D)&&O.charAt(D.length)==="/"),B={isActive:R,isPending:M,isTransitioning:S},$=R?t:void 0,Y;typeof r=="function"?Y=r(B):Y=[r,R?"active":null,M?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let X=typeof c=="function"?c(B):c;return j.createElement(pk,{...h,"aria-current":$,className:Y,ref:p,style:X,to:u,viewTransition:f},typeof m=="function"?m(B):m)});Qg.displayName="NavLink";var _E=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:l,state:c,method:u=Dd,action:f,onSubmit:m,relative:h,preventScrollReset:p,viewTransition:x,...b},y)=>{let N=zE(),w=BE(f,{relative:h}),S=u.toLowerCase()==="get"?"get":"post",D=typeof f=="string"&&hk.test(f),P=O=>{if(m&&m(O),O.defaultPrevented)return;O.preventDefault();let I=O.nativeEvent.submitter,R=(I==null?void 0:I.getAttribute("formmethod"))||u;N(I||O.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:l,state:c,relative:h,preventScrollReset:p,viewTransition:x})};return j.createElement("form",{ref:y,method:S,action:w,onSubmit:r?m:P,...b,"data-discover":!D&&e==="render"?"true":void 0})});_E.displayName="Form";function IE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gk(e){let t=j.useContext(go);return ln(t,IE(e)),t}function PE(e,{target:t,replace:n,state:r,preventScrollReset:l,relative:c,viewTransition:u}={}){let f=ok(),m=_i(),h=qc(e,{relative:c});return j.useCallback(p=>{if(hE(p,t)){p.preventDefault();let x=n!==void 0?n:Ac(m)===Ac(h);f(e,{replace:x,state:r,preventScrollReset:l,relative:c,viewTransition:u})}},[m,f,h,n,r,t,e,l,c,u])}var RE=0,LE=()=>`__${String(++RE)}__`;function zE(){let{router:e}=gk("useSubmit"),{basename:t}=j.useContext(Ea),n=aE();return j.useCallback(async(r,l={})=>{let{action:c,method:u,encType:f,formData:m,body:h}=xE(r,t);if(l.navigate===!1){let p=l.fetcherKey||LE();await e.fetch(p,n,l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:h,formMethod:l.method||u,formEncType:l.encType||f,flushSync:l.flushSync})}else await e.navigate(l.action||c,{preventScrollReset:l.preventScrollReset,formData:m,body:h,formMethod:l.method||u,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,t,n])}function BE(e,{relative:t}={}){let{basename:n}=j.useContext(Ea),r=j.useContext(Ga);ln(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),c={...qc(e||".",{relative:t})},u=_i();if(e==null){c.search=u.search;let f=new URLSearchParams(c.search),m=f.getAll("index");if(m.some(p=>p==="")){f.delete("index"),m.filter(x=>x).forEach(x=>f.append("index",x));let p=f.toString();c.search=p?`?${p}`:""}}return(!e||e===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:Si([n,c.pathname])),Ac(c)}function $E(e,{relative:t}={}){let n=j.useContext(ik);ln(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=gk("useViewTransitionState"),l=qc(e,{relative:t});if(!n.isTransitioning)return!1;let c=Oi(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Oi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pd(l.pathname,u)!=null||Pd(l.pathname,c)!=null}var xk=ek(),yt=(e=>(e.DASHBOARD="dashboard",e.INVENTORY="inventory",e.POS="pos",e.WORK_ORDERS="work_orders",e.ACCOUNTING="accounting",e.CRM="crm",e.HRM="hrm",e.REPORTS="reports",e.PLANNING="planning",e.ADMIN_SETTINGS="admin_settings",e))(yt||{});const UE=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),qE=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),HE=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),FE=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),VE=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),KE=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),GE=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),WE=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),YE=({className:e="w-6 h-6"})=>i.jsx("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),QE=({className:e="w-6 h-6"})=>i.jsxs("svg",{className:e,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Hc=[{id:yt.DASHBOARD,name:"Dashboard",description:"Centraal overzicht van uw bedrijfsactiviteiten.",icon:UE},{id:yt.INVENTORY,name:"Voorraadbeheer",description:"Beheer grondstoffen, halffabricaten en eindproducten.",icon:qE},{id:yt.POS,name:"Kassasysteem (POS)",description:"Verwerk betalingen en registreer verkopen.",icon:HE},{id:yt.WORK_ORDERS,name:"Werkorders",description:"Stroomlijn productieprocessen en monitor de voortgang.",icon:FE},{id:yt.ACCOUNTING,name:"Boekhouding & Offertes",description:"Genereer offertes, facturen en beheer financile gegevens.",icon:VE},{id:yt.CRM,name:"Klantenbeheer (CRM)",description:"Beheer klantgegevens, taken en verkoopkansen.",icon:KE},{id:yt.HRM,name:"Personeelsbeheer (HRM)",description:"Beheer medewerkers, verlof en prestaties.",icon:GE},{id:yt.PLANNING,name:"Planning & Agenda",description:"Plan werkzaamheden, afspraken en monitor deadlines.",icon:YE},{id:yt.REPORTS,name:"Rapportages",description:"Genereer rapporten en analyseer bedrijfsprestaties.",icon:WE}],Xg={id:yt.ADMIN_SETTINGS,name:"Admin Instellingen",description:"Beheer de actieve modules voor alle gebruikers.",icon:QE};[...Hc,Xg].reduce((e,t)=>(e[t.id]=t,e),{});const XE=({activeModules:e,isAdmin:t,notifications:n,isMobileOpen:r,onMobileClose:l})=>{const c=Hc.filter(y=>e[y.id]),u=n.filter(y=>!y.read).length,f=j.useRef(null),m=j.useRef(null),h=50,p=y=>{m.current=null,f.current=y.touches[0].clientX},x=y=>{m.current=y.touches[0].clientX},b=()=>{if(!f.current||!m.current)return;f.current-m.current>h&&r&&l()};return i.jsxs(i.Fragment,{children:[r&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:l,onTouchStart:p,onTouchMove:x,onTouchEnd:b}),i.jsxs("aside",{className:`
          fixed lg:static inset-y-0 left-0 z-50
          w-64 bg-neutral text-white flex flex-col
          transform transition-transform duration-300 ease-in-out
          ${r?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        `,onTouchStart:p,onTouchMove:x,onTouchEnd:b,children:[i.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Bedrijfsbeheer"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Dashboard Systeem"})]}),i.jsx("button",{onClick:l,className:"lg:hidden p-2 hover:bg-gray-700 rounded-lg transition-colors","aria-label":"Sluit menu",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u>0&&i.jsxs("div",{className:"mt-3 px-3 py-2 bg-red-500 rounded-lg flex items-center justify-between",children:[i.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:"Nieuwe meldingen"}),i.jsx("span",{className:"px-2 py-1 bg-white text-red-500 text-xs font-bold rounded-full",children:u})]})]}),i.jsxs("nav",{className:"flex-1 overflow-y-auto py-2 sm:py-4",children:[c.map(y=>{const N=y.icon;return i.jsxs(Qg,{to:`/${y.id}`,onClick:l,className:({isActive:w})=>`flex items-center px-4 sm:px-6 py-3 hover:bg-gray-700 transition-colors ${w?"bg-primary text-white":"text-gray-300"}`,children:[i.jsx(N,{className:"w-5 h-5 mr-3 flex-shrink-0"}),i.jsx("span",{className:"font-medium text-sm sm:text-base",children:y.name})]},y.id)}),t&&i.jsxs(Qg,{to:`/${yt.ADMIN_SETTINGS}`,onClick:l,className:({isActive:y})=>`flex items-center px-4 sm:px-6 py-3 hover:bg-gray-700 transition-colors mt-4 border-t border-gray-700 ${y?"bg-primary text-white":"text-gray-300"}`,children:[i.jsx(Xg.icon,{className:"w-5 h-5 mr-3 flex-shrink-0"}),i.jsx("span",{className:"font-medium text-sm sm:text-base",children:Xg.name})]})]}),i.jsx("div",{className:"p-4 sm:p-6 border-t border-gray-700",children:i.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-gray-700 rounded-lg",children:[i.jsx("svg",{className:"w-5 h-5 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-400",children:"Versie"}),i.jsx("p",{className:"text-sm font-semibold text-white",children:"4.5.0"})]})]})})]})]})},ZE=({isAdmin:e,notifications:t,setNotifications:n,currentUser:r,onLogout:l,onMobileMenuToggle:c})=>{const[u,f]=j.useState(!1),[m,h]=j.useState(!1),p=t.filter(w=>!w.read).length,x=w=>{n(t.map(S=>S.id===w?{...S,read:!0}:S))},b=()=>{n(t.map(w=>({...w,read:!0})))},y=w=>{switch(w){case"warning":return"border-l-orange-500 bg-orange-50";case"error":return"border-l-red-500 bg-red-50";case"success":return"border-l-green-500 bg-green-50";default:return"border-l-blue-500 bg-blue-50"}},N=w=>w.split(" ").map(S=>S[0]).join("").toUpperCase().slice(0,2);return i.jsxs("header",{className:"bg-white border-b border-base-300 px-4 sm:px-6 lg:px-8 py-3 sm:py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[i.jsx("button",{onClick:c,className:"lg:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0","aria-label":"Open menu",children:i.jsx("svg",{className:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),i.jsxs("div",{className:"min-w-0",children:[i.jsxs("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-neutral truncate",children:["Welkom, ",r.name.split(" ")[0]]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 hidden sm:block",children:"Bedrijfsbeheer Dashboard"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>f(!u),className:"relative p-2 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Meldingen",children:[i.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),p>0&&i.jsx("span",{className:"absolute top-0 right-0 w-4 h-4 sm:w-5 sm:h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:p})]}),u&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),i.jsxs("div",{className:"absolute right-0 mt-2 w-[calc(100vw-2rem)] sm:w-96 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-96 overflow-y-auto",children:[i.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-200 flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-neutral text-sm sm:text-base",children:"Meldingen"}),p>0&&i.jsx("button",{onClick:b,className:"text-xs sm:text-sm text-primary hover:text-secondary",children:"Alles gelezen"})]}),i.jsx("div",{className:"divide-y divide-gray-200",children:t.length===0?i.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"Geen meldingen"}):t.slice(0,10).map(w=>i.jsxs("div",{className:`p-3 sm:p-4 hover:bg-gray-50 cursor-pointer border-l-4 ${y(w.type)} ${w.read?"":"bg-blue-50"}`,onClick:()=>x(w.id),children:[i.jsx("p",{className:`text-xs sm:text-sm ${w.read?"":"font-semibold"} text-neutral`,children:w.message}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(w.date).toLocaleString("nl-NL")})]},w.id))})]})]})]}),e&&i.jsx("span",{className:"hidden sm:inline-block px-2 sm:px-3 py-1 bg-primary text-white text-xs sm:text-sm rounded-full",children:"Admin"}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>h(!m),className:"flex items-center gap-1 sm:gap-2 hover:bg-gray-100 rounded-lg p-1 sm:p-2 transition-colors","aria-label":"Gebruikersmenu",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-primary rounded-full flex items-center justify-center text-white font-semibold text-xs sm:text-sm flex-shrink-0",children:N(r.name)}),i.jsxs("div",{className:"text-left hidden md:block",children:[i.jsx("p",{className:"text-sm font-medium text-neutral",children:r.name}),i.jsx("p",{className:"text-xs text-gray-500",children:r.role})]}),i.jsx("svg",{className:"w-4 h-4 text-gray-500 hidden sm:block",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),m&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>h(!1)}),i.jsxs("div",{className:"absolute right-0 mt-2 w-56 sm:w-64 bg-white rounded-lg shadow-xl border border-gray-200 z-50",children:[i.jsxs("div",{className:"p-3 sm:p-4 border-b border-gray-200",children:[i.jsx("p",{className:"font-semibold text-neutral text-sm sm:text-base",children:r.name}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:r.email}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r.role}),e&&i.jsx("span",{className:"inline-block sm:hidden mt-2 px-2 py-1 bg-primary text-white text-xs rounded-full",children:"Admin"})]}),i.jsx("div",{className:"p-2",children:i.jsxs("button",{onClick:l,className:"w-full flex items-center gap-3 px-3 sm:px-4 py-2 text-left text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[i.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),i.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Uitloggen"})]})})]})]})]})]})]})},JE=({employees:e,onLogin:t})=>{const[n,r]=j.useState(""),[l,c]=j.useState(""),[u,f]=j.useState(""),m=p=>{p.preventDefault(),f("");const x=e.find(b=>b.email===n);if(!x){f("Gebruiker niet gevonden");return}if(x.password!==l){f("Onjuist wachtwoord");return}t(x)},h=p=>{r(p.email),c(p.password||""),setTimeout(()=>t(p),100)};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary to-secondary flex items-center justify-center p-4 sm:p-6 lg:p-8",children:i.jsxs("div",{className:"max-w-md w-full",children:[i.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-white rounded-full mx-auto mb-4 flex items-center justify-center",children:i.jsx("svg",{className:"w-10 h-10 sm:w-12 sm:h-12 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:"Bedrijfsbeheer"}),i.jsx("p",{className:"text-sm sm:text-base text-white opacity-90",children:"Dashboard Systeem"})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-6 sm:p-8",children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-neutral mb-4 sm:mb-6",children:"Inloggen"}),i.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),i.jsx("input",{type:"email",value:n,onChange:p=>r(p.target.value),autoComplete:"email",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"naam@bedrijf.nl",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Wachtwoord"}),i.jsx("input",{type:"password",value:l,onChange:p=>c(p.target.value),autoComplete:"current-password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"",required:!0})]}),u&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-600",children:u})}),i.jsx("button",{type:"submit",className:"w-full bg-primary text-white py-2 sm:py-3 rounded-lg font-semibold hover:bg-secondary transition-colors text-sm sm:text-base touch-manipulation",children:"Inloggen"})]}),i.jsxs("div",{className:"mt-6 sm:mt-8 pt-4 sm:pt-6 border-t border-gray-200",children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3 text-center",children:"Demo accounts:"}),i.jsx("div",{className:"space-y-2",children:e.slice(0,4).map(p=>i.jsx("button",{onClick:()=>h(p),className:"w-full px-3 sm:px-4 py-2 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 rounded-lg text-sm text-left transition-colors touch-manipulation",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-neutral",children:p.name}),i.jsx("p",{className:"text-xs text-gray-500",children:p.role})]}),p.role==="Manager Productie"&&i.jsx("span",{className:"px-2 py-1 bg-primary text-white text-xs rounded",children:"Admin"})]})},p.id))}),i.jsx("p",{className:"text-xs text-gray-500 mt-3 text-center",children:'Wachtwoord voor alle accounts: "1234"'})]})]}),i.jsx("p",{className:"text-center text-white text-sm mt-6 opacity-75",children:" 2025 Bedrijfsbeheer Dashboard"})]})})},ex="bedrijfsbeheer_analytics",vk=()=>{try{const e=localStorage.getItem(ex);return e?JSON.parse(e).events||[]:[]}catch(e){return console.error("Error loading analytics:",e),[]}},tx=e=>{try{const t=vk(),n={...e,id:`event_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString()};t.push(n);const r=t.slice(-1e4);localStorage.setItem(ex,JSON.stringify({events:r,lastUpdated:new Date().toISOString()}))}catch(t){console.error("Error saving analytics:",t)}},il=(e,t,n,r,l,c)=>{tx({userId:e,userRole:t,module:n,action:r,actionType:l,metadata:c})},G1=(e,t,n,r,l)=>{tx({userId:e,userRole:t,module:r,action:`navigate_to_${r}`,actionType:"navigate",duration:l,metadata:{fromModule:n}})},e6=(e,t,n,r,l,c,u)=>{tx({userId:e,userRole:t,module:n,action:`complete_${r}`,actionType:"complete",duration:l,metadata:{taskType:r,outcome:"success",errors:u}})},W1=(e,t,n)=>{const r=e.filter(u=>{if(!t&&!n)return!0;const f=new Date(u.timestamp);return!(t&&f<t||n&&f>n)}),l=new Map;r.forEach(u=>{const f=l.get(u.module)||{sessions:new Set,time:0,actions:0,errors:0,lastUsed:new Date(0),events:[]},m=`${u.userId}_${u.timestamp.split("T")[0]}`;f.sessions.add(m),u.duration&&(f.time+=u.duration/6e4),f.actions++,u.actionType==="error"&&f.errors++;const h=new Date(u.timestamp);h>f.lastUsed&&(f.lastUsed=h),f.events.push(u),l.set(u.module,f)});const c=[];return l.forEach((u,f)=>{const m=u.sessions.size>0?u.time/u.sessions.size:0,h=new Date,p=new Date(h.getTime()-336*60*60*1e3),x=new Date(h.getTime()-10080*60*1e3),b=new Date(h.getTime()-10080*60*1e3),y=u.events.filter(S=>{const D=new Date(S.timestamp);return D>=p&&D<x}).length,N=u.events.filter(S=>new Date(S.timestamp)>=b).length;let w="stable";if(y>0){const S=(N-y)/y*100;S>10?w="increasing":S<-10&&(w="decreasing")}c.push({module:f,totalSessions:u.sessions.size,totalTime:Math.round(u.time),averageSessionDuration:Math.round(m),uniqueUsers:new Set(u.events.map(S=>S.userId)).size,actionsCount:u.actions,errorCount:u.errors,lastUsed:u.lastUsed.toISOString(),usageTrend:w})}),c.sort((u,f)=>f.actionsCount-u.actionsCount)},Y1=(e,t,n)=>{const r=e.filter(u=>{if(!t&&!n)return!0;const f=new Date(u.timestamp);return!(t&&f<t||n&&f>n)}),l=new Map;r.forEach(u=>{const f=l.get(u.userId)||{name:u.userId,role:u.userRole,sessions:new Set,time:0,modules:new Set,actions:0,completedTasks:0,errors:0,lastActive:new Date(0),events:[]},m=`${u.userId}_${u.timestamp.split("T")[0]}`;f.sessions.add(m),u.duration&&(f.time+=u.duration/6e4),f.modules.add(u.module),f.actions++,u.actionType==="complete"&&f.completedTasks++,u.actionType==="error"&&f.errors++;const h=new Date(u.timestamp);h>f.lastActive&&(f.lastActive=h),f.events.push(u),l.set(u.userId,f)});const c=[];return l.forEach((u,f)=>{var N;const m=u.sessions.size>0?u.time/u.sessions.size:0,h=u.actions>0?u.completedTasks/u.actions*100:0,p=u.actions>0?u.errors/u.actions*100:0,x=Math.max(0,Math.min(100,h*.6+(100-p)*.4)),b=new Map;u.events.forEach(w=>{b.set(w.module,(b.get(w.module)||0)+1)});const y=((N=Array.from(b.entries()).sort((w,S)=>S[1]-w[1])[0])==null?void 0:N[0])||yt.DASHBOARD;c.push({userId:f,userName:u.name,role:u.role,totalSessions:u.sessions.size,totalTime:Math.round(u.time),modulesUsed:Array.from(u.modules),mostUsedModule:y,averageSessionDuration:Math.round(m),lastActive:u.lastActive.toISOString(),efficiencyScore:Math.round(x)})}),c.sort((u,f)=>f.efficiencyScore-u.efficiencyScore)},t6=(e,t)=>{const n=[];return t.forEach(r=>{const l=e.filter(I=>r.steps.some(R=>I.action.includes(R)));if(l.length===0)return;const c=new Map;l.sort((I,R)=>new Date(I.timestamp).getTime()-new Date(R.timestamp).getTime()).forEach(I=>{let R=!1;for(const[M,B]of c.entries()){const $=B[B.length-1],Y=new Date($.timestamp).getTime(),le=(new Date(I.timestamp).getTime()-Y)/(1e3*60*60);if($.userId===I.userId&&$.timestamp.split("T")[0]===I.timestamp.split("T")[0]&&le<4){B.push(I),R=!0;break}}if(!R){const M=`${I.userId}_${I.timestamp.split("T")[0]}_${r.name}_${Date.now()}`;c.set(M,[I])}});let f=0,m=0,h=0,p=0;const x=new Map;c.forEach(I=>{if(I.length===0)return;const R=I.sort((X,le)=>new Date(X.timestamp).getTime()-new Date(le.timestamp).getTime()),M=new Date(R[0].timestamp),B=R.find(X=>X.actionType==="complete")||R[R.length-1],Y=(new Date(B.timestamp).getTime()-M.getTime())/6e4;f+=Y,m+=R.length,B.actionType==="complete"&&h++,R.some(X=>X.actionType==="error")&&p++;for(let X=1;X<R.length;X++){const le=new Date(R[X-1].timestamp),we=(new Date(R[X].timestamp).getTime()-le.getTime())/6e4,Te=R[X].action,De=x.get(Te)||{total:0,count:0};De.total+=we,De.count++,x.set(Te,De)}});const b=c.size,y=b>0?f/b:0,N=b>0?m/b:0,w=b>0?h/b*100:0,S=b>0?p/b*100:0;let D=0;c.forEach(I=>{const R=new Map;I.forEach(M=>{R.set(M.action,(R.get(M.action)||0)+1)}),Array.from(R.values()).some(M=>M>1)&&D++});const P=b>0?D/b*100:0,O=Array.from(x.entries()).map(([I,R])=>({step:I,averageWaitTime:R.count>0?R.total/R.count:0,frequency:R.count})).filter(I=>I.averageWaitTime>5).sort((I,R)=>R.averageWaitTime-I.averageWaitTime).slice(0,5);n.push({processName:r.name,averageCycleTime:Math.round(y),averageSteps:Math.round(N),completionRate:Math.round(w*100)/100,errorRate:Math.round(S*100)/100,reworkRate:Math.round(P*100)/100,bottleneckSteps:O})}),n},n6=(e,t,n,r)=>{const l=[];e.filter(m=>m.totalSessions<5&&m.usageTrend==="decreasing").forEach(m=>{l.push({id:`rec_low_usage_${m.module}`,priority:"medium",category:"feature",title:`Module "${m.module}" wordt weinig gebruikt`,description:`Deze module heeft slechts ${m.totalSessions} sessies. Overweeg betere onboarding of visibility verbetering.`,impact:"Verhoog module adoption met 30%",effort:"low",roi:60,metrics:{current:m.totalSessions,target:m.totalSessions*1.3,unit:"sessies"},actions:["Voeg module toe aan quick access menu","Maak onboarding tutorial voor deze module","Verzend awareness notificatie aan gebruikers"]})}),e.filter(m=>m.errorCount>0&&m.errorCount/m.actionsCount>.1).forEach(m=>{const h=Math.round(m.errorCount/m.actionsCount*100);l.push({id:`rec_errors_${m.module}`,priority:"high",category:"quality",title:`Hoge foutmeldingen in module "${m.module}"`,description:`${h}% van de acties resulteren in fouten. Dit wijst op usability of procesproblemen.`,impact:`Verlaag foutpercentage van ${h}% naar <5%`,effort:"medium",roi:85,metrics:{current:h,target:5,unit:"%"},actions:["Analyseer meest voorkomende fouten","Voeg input validatie toe","Verbeter error messages met duidelijke instructies","Overweeg contextuele help"]})}),n.forEach(m=>{if(m.bottleneckSteps.length>0){const h=m.bottleneckSteps[0];l.push({id:`rec_bottleneck_${m.processName}`,priority:"high",category:"process",title:`Bottleneck gedetecteerd in proces "${m.processName}"`,description:`Stap "${h.step}" heeft gemiddeld ${Math.round(h.averageWaitTime)} minuten wachttijd.`,impact:`Verlaag proces tijd met ${Math.round(h.averageWaitTime*.5)} minuten`,effort:"medium",roi:75,metrics:{current:Math.round(h.averageWaitTime),target:Math.round(h.averageWaitTime*.5),unit:"minuten"},actions:[`Automatiseer stap "${h.step}" waar mogelijk`,"Voeg parallel processing toe","Verbeter resource allocation","Implementeer queue management"]})}m.reworkRate>15&&l.push({id:`rec_rework_${m.processName}`,priority:"medium",category:"quality",title:`Hoge rework rate in proces "${m.processName}"`,description:`${Math.round(m.reworkRate)}% van de taken vereisen meerdere pogingen.`,impact:"Verlaag rework rate naar <5%",effort:"medium",roi:70,metrics:{current:Math.round(m.reworkRate),target:5,unit:"%"},actions:["Verbeter first-time-right rate","Voeg validatie toe aan kritieke stappen","Maak templates/standaarden","Train gebruikers op best practices"]})});const f=t.filter(m=>m.efficiencyScore<60);return f.length>0&&l.push({id:"rec_low_efficiency_users",priority:"medium",category:"usability",title:`${f.length} gebruiker(s) met lage efficiency score`,description:"Sommige gebruikers hebben moeite met het systeem. Extra training of UI verbeteringen kunnen helpen.",impact:"Verhoog efficiency score met 20 punten",effort:"low",roi:65,metrics:{current:Math.round(f.reduce((m,h)=>m+h.efficiencyScore,0)/f.length),target:Math.round(f.reduce((m,h)=>m+h.efficiencyScore,0)/f.length)+20,unit:"score"},actions:["Identificeer specifieke problemen per gebruiker","Bied training sessies aan","Verzamel feedback over moeilijke workflows","Overweeg personalized UI/help"]}),n.forEach(m=>{m.averageCycleTime>60&&m.averageSteps>5&&l.push({id:`rec_automation_${m.processName}`,priority:"low",category:"automation",title:`Automatisering mogelijkheid in "${m.processName}"`,description:`Proces duurt gemiddeld ${Math.round(m.averageCycleTime)} minuten met ${Math.round(m.averageSteps)} stappen.`,impact:"Reduceer proces tijd met 50%",effort:"high",roi:55,metrics:{current:Math.round(m.averageCycleTime),target:Math.round(m.averageCycleTime*.5),unit:"minuten"},actions:["Identificeer repetitieve stappen","Automatiseer data entry waar mogelijk","Implementeer workflow automation","Overweeg batch processing"]})}),l.sort((m,h)=>{const p={high:3,medium:2,low:1};return p[m.priority]!==p[h.priority]?p[h.priority]-p[m.priority]:h.roi-m.roi})},r6=(e="month")=>{const t=vk();if(t.length===0)return{period:e,startDate:new Date().toISOString(),endDate:new Date().toISOString(),totalEvents:0,totalUsers:0,totalTime:0,moduleStats:[],userStats:[],processMetrics:[],recommendations:[],trends:{usageGrowth:0,efficiencyChange:0,errorRateChange:0}};const n=new Date;let r,l=n;switch(e){case"day":r=new Date(n.getTime()-1440*60*1e3);break;case"week":r=new Date(n.getTime()-10080*60*1e3);break;case"month":r=new Date(n.getTime()-720*60*60*1e3);break;case"quarter":r=new Date(n.getTime()-2160*60*60*1e3);break;case"year":r=new Date(n.getTime()-365*24*60*60*1e3);break;default:r=new Date(n.getTime()-720*60*60*1e3)}const c=W1(t,r,l),u=Y1(t,r,l),m=t6(t,[{name:"Offerte  Factuur",steps:["create_quote","create_invoice","convert_to_invoice","validate_invoice","send_invoice","complete"]},{name:"Offerte  Werkorder",steps:["create_quote","convert_to_workorder","create_workorder","start_workorder","complete_workorder","complete"]},{name:"Werkorder  Factuur",steps:["create_workorder","complete_workorder","complete","auto_create_invoice","validate_invoice"]},{name:"Werkorder Lifecycle",steps:["create_workorder","start_workorder","update_status","complete_workorder","complete"]},{name:"Factuur Validatie",steps:["create_invoice","view","validate_invoice","send_invoice","complete"]}]),h=n6(c,u,m),p=new Date(r.getTime()-(l.getTime()-r.getTime())),x=W1(t,p,r),b=c.reduce((M,B)=>M+B.actionsCount,0),y=x.reduce((M,B)=>M+B.actionsCount,0),N=y>0?(b-y)/y*100:0,w=u.length>0?u.reduce((M,B)=>M+B.efficiencyScore,0)/u.length:0,S=Y1(t,p,r),D=S.length>0?S.reduce((M,B)=>M+B.efficiencyScore,0)/S.length:0,P=D>0?(w-D)/D*100:0,O=c.reduce((M,B)=>M+B.errorCount,0)/(c.reduce((M,B)=>M+B.actionsCount,0)||1)*100,I=x.reduce((M,B)=>M+B.errorCount,0)/(x.reduce((M,B)=>M+B.actionsCount,0)||1)*100,R=I>0?(O-I)/I*100:0;return{period:e,startDate:r.toISOString(),endDate:l.toISOString(),totalEvents:t.length,totalUsers:new Set(t.map(M=>M.userId)).size,totalTime:Math.round(c.reduce((M,B)=>M+B.totalTime,0)),moduleStats:c,userStats:u,processMetrics:m,recommendations:h.slice(0,10),trends:{usageGrowth:Math.round(N*100)/100,efficiencyChange:Math.round(P*100)/100,errorRateChange:Math.round(R*100)/100}}},a6=()=>{localStorage.removeItem(ex)},mp=JSON.parse(`[{"category":"Connection","issue":"Database connection timeout","severity":"high","message":"Connections to Supabase free-tier instances may time out due to connection limits (max 60 connections) and inactive cold instances in NeonDB serverless. Connections exceeding pool size are rejected.","diagnostic_steps":["Check connection pool size in dashboard","Verify region proximity between app and database","Monitor connection count in real-time","Check for connection leaks in application code","Review connection timeout settings"],"suggested_fix":["Upgrade to Pro plan for higher connection limits","Configure PgBouncer connection pooling (transaction mode)","Move database instance closer to application region","Implement connection retry logic with exponential backoff","Use connection pooling library (pg.Pool) instead of direct connections","Set max connection lifetime to prevent stale connections"],"test_action":"retry_connection","latency":120,"occurrences":5,"vendor_specific_info":{"supabase":"Free tier: 60 connections max. Use Supabase Pooler (port 6543) for better pooling.","neondb":"Serverless instances have cold start delays. Consider Provisioned compute for consistent performance.","planetscale":"Connection limits vary by plan. Branch connections count separately."}},{"category":"Auth","issue":"Invalid API Key","severity":"medium","message":"401 Unauthorized errors occur when SUPABASE_ANON_KEY, SUPABASE_SERVICE_ROLE_KEY, or NeonDB connection string credentials are invalid, expired, or missing from environment variables.","diagnostic_steps":["Verify environment variables are set correctly","Check key expiration in Supabase dashboard","Validate key format (should start with eyJ for JWT keys)","Test API key with curl or Postman","Check for key rotation in recent deployments"],"suggested_fix":["Update keys in environment variables (.env file)","Regenerate keys in Supabase dashboard if compromised","Verify service role key is not exposed to frontend","Use Row Level Security (RLS) policies with anon key","Implement key rotation strategy"],"test_action":"validate_keys","occurrences":3},{"category":"Auth","issue":"Row Level Security (RLS) blocking queries","severity":"medium","message":"Queries return empty results or 403 errors when RLS policies are incorrectly configured or missing. Common in Supabase when tables have RLS enabled but no policies defined.","diagnostic_steps":["Check RLS status in table settings (pgadmin or dashboard)","Review existing RLS policies in auth.policies table","Test query with service role key (bypasses RLS)","Check user authentication context (auth.uid())","Verify policy conditions match query filters"],"suggested_fix":["Create appropriate RLS policies for SELECT, INSERT, UPDATE, DELETE","Use service role key for admin operations (server-side only)","Disable RLS on public tables if not needed (not recommended)","Test policies with different user roles","Use Supabase Dashboard to visualize and debug policies"],"test_action":"test_rls_policies","occurrences":8},{"category":"Performance","issue":"Slow query execution (>2s)","severity":"high","message":"Queries take longer than 2 seconds due to missing indexes, full table scans, or inefficient joins. Especially problematic on large tables in NeonDB serverless with cold starts.","diagnostic_steps":["Run EXPLAIN ANALYZE on slow queries","Check for missing indexes on WHERE/FOREIGN KEY columns","Monitor query execution time in dashboard","Identify N+1 query patterns in application code","Review database query logs for slow queries"],"suggested_fix":["Add indexes on frequently queried columns","Create composite indexes for multi-column filters","Use database query planner to optimize joins","Implement query result caching where appropriate","Consider denormalization for frequently joined data","Use prepared statements to improve query plan caching"],"test_action":"analyze_query_performance","latency":3200,"occurrences":12,"vendor_specific_info":{"neondb":"Serverless compute may have cold start delays (2-5s). Use Provisioned compute for consistent performance.","supabase":"Enable query performance monitoring in dashboard. Use Supabase Edge Functions for complex operations."}},{"category":"Performance","issue":"Cold start delay (serverless)","severity":"medium","message":"NeonDB serverless instances experience 2-5 second cold start delays when inactive for >5 minutes. First query after inactivity is significantly slower.","diagnostic_steps":["Measure first query latency after idle period","Monitor instance activation time in Neon dashboard","Check instance suspend settings","Compare cold vs warm query times"],"suggested_fix":["Upgrade to Provisioned compute (no cold starts)","Implement keep-alive queries every 4 minutes","Use connection pooling with persistent connections","Add retry logic with longer timeout for first request","Pre-warm critical endpoints during deployment"],"test_action":"test_cold_start","latency":4500,"occurrences":15,"vendor_specific_info":{"neondb":"Free tier: auto-suspend after 5 min. Pro: 30 min. Provisioned: never suspends.","planetscale":"Serverless branches auto-scale, minimal cold start impact."}},{"category":"Connection","issue":"Connection pool exhausted","severity":"high","message":"All available database connections are in use, causing new connection attempts to fail. Common with connection leaks, too many concurrent requests, or insufficient pool size.","diagnostic_steps":["Check current connection count vs max limit","Identify long-running queries holding connections","Review application connection pool configuration","Check for unclosed database connections in code","Monitor connection duration and idle time"],"suggested_fix":["Increase connection pool size (if plan allows)","Implement connection timeout and retry logic","Use connection pooler (Supabase Pooler, PgBouncer)","Fix connection leaks (always close connections)","Reduce connection lifetime (maxLifetime setting)","Upgrade database plan for higher connection limits"],"test_action":"check_connection_pool","occurrences":7,"vendor_specific_info":{"supabase":"Use port 6543 (Pooler) instead of 5432 (Direct) for better pooling. Pooler supports 200+ connections.","neondb":"Serverless: connection limits depend on compute size. Provisioned: higher limits available."}},{"category":"Schema","issue":"Migration failures on schema changes","severity":"high","message":"Database migrations fail due to foreign key constraints, existing data conflicts, or schema locks. Common when altering columns with data or adding NOT NULL constraints to existing tables.","diagnostic_steps":["Review migration SQL for constraint violations","Check for dependent foreign keys","Verify data compatibility with new schema","Test migration on staging branch first","Check for active transactions blocking DDL statements"],"suggested_fix":["Add default values before NOT NULL constraints","Migrate data in separate steps (add column  populate  make required)","Drop foreign keys temporarily during migration","Use PlanetScale branch workflow for safe schema changes","Run migrations during low-traffic periods","Use transaction-safe migration tools (Prisma, Flyway)"],"test_action":"test_migration","occurrences":4,"vendor_specific_info":{"planetscale":"Use deploy requests to test schema changes on branch before merging to main.","supabase":"Use Supabase CLI for version-controlled migrations. Test on local instance first."}},{"category":"Schema","issue":"Missing foreign key constraints","severity":"low","message":"Tables lack foreign key relationships, leading to orphaned records and data integrity issues. May cause inconsistent data in relationships.","diagnostic_steps":["Audit table relationships for missing foreign keys","Check for orphaned records in related tables","Review application code for data integrity checks","Validate referential integrity with queries"],"suggested_fix":["Add foreign key constraints to enforce relationships","Clean up existing orphaned records","Set CASCADE rules for DELETE/UPDATE operations","Add indexes on foreign key columns","Document schema relationships"],"test_action":"validate_foreign_keys","occurrences":6},{"category":"Config","issue":"SSL/TLS connection requirement","severity":"medium","message":"Database connections fail when SSL is required but not enabled in connection string. Supabase and NeonDB require SSL for secure connections.","diagnostic_steps":["Verify connection string includes ?sslmode=require","Check for SSL certificate errors in logs","Test connection with SSL enabled/disabled","Review connection library SSL settings"],"suggested_fix":["Add ?sslmode=require to connection string","Use ?sslmode=no-verify for development (not production)","Configure SSL certificates for custom domains","Update database client library to support SSL","Verify SSL certificate is not expired"],"test_action":"test_ssl_connection","occurrences":2},{"category":"Platform","issue":"Database storage quota exceeded","severity":"high","message":"Database has reached storage limit (e.g., Supabase free tier: 500MB, NeonDB free: 3GB). Writes are blocked until storage is freed or plan is upgraded.","diagnostic_steps":["Check current storage usage in dashboard","Identify largest tables and indexes","Review table sizes with pg_total_relation_size","Check for unused indexes consuming space","Analyze growth trends"],"suggested_fix":["Delete unused data or archive old records","Drop unused indexes","Vacuum database to reclaim space","Upgrade to higher tier plan","Implement data retention policies","Compress large text/JSON columns","Move historical data to cold storage"],"test_action":"check_storage_usage","occurrences":1,"vendor_specific_info":{"supabase":"Free: 500MB. Pro: 8GB+. Use Supabase Storage for file storage instead of database.","neondb":"Free: 3GB. Pro: 100GB+. Monitor branch storage separately."}},{"category":"Platform","issue":"Rate limit exceeded (API requests)","severity":"medium","message":"Supabase PostgREST API or NeonDB API requests exceed rate limits. Free tiers typically have 500 requests/second limit. Returns 429 Too Many Requests.","diagnostic_steps":["Monitor API request rate in dashboard","Identify endpoints with high request frequency","Check for N+1 query patterns","Review client-side polling intervals","Analyze API usage patterns"],"suggested_fix":["Implement request batching where possible","Add client-side caching to reduce API calls","Use database subscriptions (Supabase Realtime) instead of polling","Implement rate limiting in application code","Upgrade to Pro plan for higher limits","Optimize queries to reduce round trips"],"test_action":"check_rate_limits","occurrences":9,"vendor_specific_info":{"supabase":"Free: 500 req/s. Pro: 2000 req/s. Use Supabase Realtime subscriptions to reduce polling.","neondb":"API limits depend on plan. Consider connection pooling to reduce API calls."}},{"category":"SDK","issue":"SDK version compatibility issues","severity":"low","message":"Outdated Supabase client library or PostgreSQL driver version causes deprecated API warnings, missing features, or connection errors.","diagnostic_steps":["Check installed SDK version vs latest release","Review changelog for breaking changes","Test with latest SDK version in development","Check for deprecation warnings in console","Verify Node.js/Python version compatibility"],"suggested_fix":["Update to latest stable SDK version","Review migration guide for breaking changes","Update dependencies gradually","Test thoroughly after SDK upgrade","Pin versions in production after testing"],"test_action":"check_sdk_version","occurrences":3},{"category":"Security","issue":"Exposed service role key in frontend","severity":"high","message":"SUPABASE_SERVICE_ROLE_KEY or database credentials are exposed in frontend code or environment variables, allowing full database access bypassing RLS.","diagnostic_steps":["Audit frontend code for hardcoded keys","Check browser Network tab for keys in requests","Review environment variable usage","Scan codebase for credential patterns","Check Git history for committed secrets"],"suggested_fix":["Use only ANON key in frontend","Rotate exposed service role key immediately","Move service role key to backend-only environment","Use Supabase Edge Functions for authenticated operations","Implement proper server-side authentication","Add secrets scanning to CI/CD pipeline"],"test_action":"scan_for_exposed_keys","occurrences":2,"vendor_specific_info":{"supabase":"Service role key bypasses RLS - NEVER expose to frontend. Use only in server-side code or Edge Functions."}},{"category":"Security","issue":"Weak or default database passwords","severity":"high","message":"Database user passwords are weak, default, or reused across environments, creating security vulnerabilities.","diagnostic_steps":["Review password complexity requirements","Check for default passwords in connection strings","Audit password storage and rotation policies","Test password strength","Verify passwords are not in version control"],"suggested_fix":["Generate strong, unique passwords (16+ chars, mixed case, numbers, symbols)","Use password manager for credential storage","Implement password rotation policy","Use managed authentication (Supabase Auth) instead of direct DB auth","Enable two-factor authentication where supported","Store passwords only in secure environment variables"],"test_action":"validate_password_strength","occurrences":1},{"category":"Performance","issue":"N+1 query problem","severity":"medium","message":"Application executes one query per related record instead of batch fetching, causing hundreds of queries for list views. Common with Supabase client when fetching related data.","diagnostic_steps":["Monitor query count for list operations","Review application code for loops with database calls","Check for missing JOIN operations","Profile query execution patterns","Count database round trips per page load"],"suggested_fix":["Use JOIN queries to fetch related data in single query","Implement data fetching with relations (Supabase select with joins)","Use GraphQL-style resolvers with batching","Add application-level caching","Fetch all needed data upfront, filter in memory if small"],"test_action":"detect_n_plus_one","latency":850,"occurrences":11},{"category":"Config","issue":"Incorrect timezone configuration","severity":"low","message":"Database timezone differs from application timezone, causing timestamp mismatches. Dates stored in UTC but displayed in wrong timezone, or vice versa.","diagnostic_steps":["Check database timezone setting (SHOW timezone)","Compare with application timezone configuration","Verify timestamp storage format (UTC vs local)","Test date insertion and retrieval","Review client library timezone handling"],"suggested_fix":["Set database timezone to UTC (standard practice)","Configure application to use UTC internally","Convert timezones only in presentation layer","Use TIMESTAMPTZ instead of TIMESTAMP in PostgreSQL","Document timezone handling strategy"],"test_action":"check_timezone_config","occurrences":4},{"category":"Platform","issue":"Branch merge conflicts (PlanetScale)","severity":"medium","message":"Schema changes in development branch conflict with main branch when attempting to create deploy request. Common when multiple developers work on schema simultaneously.","diagnostic_steps":["Review schema differences between branches","Check for conflicting migrations","Verify branch is up to date with main","Compare table structures","Check PlanetScale deploy request status"],"suggested_fix":["Merge main branch changes into dev branch first","Resolve schema conflicts manually","Coordinate schema changes with team","Use branching strategy to isolate schema changes","Test merge in staging before production"],"test_action":"check_branch_conflicts","occurrences":5,"vendor_specific_info":{"planetscale":"Use branching for schema changes. Merge conflicts must be resolved before deploy. Cannot force push to main branch."}},{"category":"Performance","issue":"Inefficient JSON/JSONB queries","severity":"medium","message":"Queries on JSONB columns lack GIN indexes, causing full table scans. JSON path queries without proper indexing are slow on large datasets.","diagnostic_steps":["Identify queries filtering JSONB columns","Check for existing GIN indexes on JSONB columns","Run EXPLAIN on JSONB queries","Measure query performance with/without indexes"],"suggested_fix":["Create GIN indexes on JSONB columns used in WHERE clauses","Use jsonb_path_ops for better index performance","Extract frequently queried JSON fields to regular columns","Optimize JSONB query syntax for index usage","Consider document database for complex JSON structures"],"test_action":"analyze_jsonb_queries","latency":1800,"occurrences":6},{"category":"Connection","issue":"Network latency to database region","severity":"medium","message":"High latency (>100ms) between application and database regions causes slow query responses. Common when app and DB are in different continents.","diagnostic_steps":["Measure ping latency to database host","Compare latency from different application regions","Check database region in dashboard","Test query times from multiple locations","Monitor network hops with traceroute"],"suggested_fix":["Move database to same region as application","Use read replicas in multiple regions","Implement edge caching (CDN) for read-heavy queries","Use connection pooling with keep-alive","Consider multi-region deployment strategy"],"test_action":"measure_latency","latency":250,"occurrences":8,"vendor_specific_info":{"supabase":"Database regions: US, EU, APAC. Choose closest to users. Can migrate regions (downtime required).","neondb":"Multi-region support. Create read replicas in different regions for global apps."}},{"category":"Schema","issue":"Missing indexes on foreign keys","severity":"low","message":"Foreign key columns lack indexes, causing slow JOIN operations and FK constraint checks. PostgreSQL doesn't auto-create indexes on FK columns.","diagnostic_steps":["Identify foreign key columns without indexes","Check index usage statistics","Review slow JOIN queries","Run EXPLAIN on queries joining tables"],"suggested_fix":["Create indexes on all foreign key columns","Use composite indexes for multi-column foreign keys","Review index usage and remove unused indexes","Monitor index maintenance overhead"],"test_action":"check_foreign_key_indexes","latency":600,"occurrences":10},{"category":"Config","issue":"Connection string format errors","severity":"medium","message":"Database connection string is malformed, missing parameters, or contains special characters that break URL parsing. Common with environment variable substitutions.","diagnostic_steps":["Validate connection string format","Check for URL encoding issues with special characters","Verify all required parameters are present","Test connection string with database client","Review environment variable interpolation"],"suggested_fix":["URL-encode special characters in password/connection string","Use connection string builder libraries","Store connection string in secure environment variable","Validate connection string on application startup","Document required connection string format","Use connection URI format: postgresql://user:pass@host:port/db"],"test_action":"validate_connection_string","occurrences":3},{"category":"Misc","issue":"Database backup not configured","severity":"high","message":"No automated backups are configured, risking data loss in case of corruption, accidental deletion, or database failure. Free tiers may have limited backup retention.","diagnostic_steps":["Check backup settings in database dashboard","Verify backup frequency and retention period","Test backup restoration process","Review backup storage location","Check last successful backup timestamp"],"suggested_fix":["Enable automated daily backups","Configure point-in-time recovery (PITR) if available","Test backup restoration regularly","Store backups in separate region for disaster recovery","Document backup and restore procedures","Upgrade plan for longer backup retention if needed"],"test_action":"check_backup_status","occurrences":2,"vendor_specific_info":{"supabase":"Pro plan: 7 days PITR. Free tier: limited backups. Export data manually.","neondb":"Automated backups available. PITR on Pro plan. Branch snapshots for schema changes.","planetscale":"Automatic daily backups. Branch-based backup strategy."}},{"category":"Performance","issue":"Large transaction rollbacks","severity":"medium","message":"Large transactions (updating thousands of rows) take long to rollback on failure, locking resources and blocking other queries. Rollback time can exceed original transaction time.","diagnostic_steps":["Monitor transaction duration and size","Check for long-running transactions in pg_stat_activity","Identify transactions with many row updates","Review application error handling and rollback frequency"],"suggested_fix":["Break large transactions into smaller batches","Use idempotent operations to allow retries","Implement optimistic locking for conflicts","Set appropriate transaction timeout","Use savepoints for partial rollbacks","Consider async processing for large operations"],"test_action":"monitor_transactions","latency":5000,"occurrences":4}]`);function yk(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(n=yk(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Dt(){for(var e,t,n=0,r="",l=arguments.length;n<l;n++)(e=arguments[n])&&(t=yk(e))&&(r&&(r+=" "),r+=t);return r}var i6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function nx(e){if(typeof e!="string")return!1;var t=i6;return t.includes(e)}var s6=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function bk(e){if(typeof e!="string")return!1;var t=s6;return t.includes(e)}function jk(e){return typeof e=="string"&&e.startsWith("data-")}function Vr(e){var t=Object.entries(e).filter(n=>{var[r]=n;return bk(r)||jk(r)});return Object.fromEntries(t)}function ml(e){if(e==null)return null;if(j.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Vr(t)}return typeof e=="object"&&!Array.isArray(e)?Vr(e):null}function xr(e){var t=Object.entries(e).filter(n=>{var[r]=n;return bk(r)||jk(r)||nx(r)});return Object.fromEntries(t)}function l6(e){return e==null?null:j.isValidElement(e)?xr(e.props):typeof e=="object"&&!Array.isArray(e)?xr(e):null}var o6=["children","width","height","viewBox","className","style","title","desc"];function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zg.apply(null,arguments)}function c6(e,t){if(e==null)return{};var n,r,l=u6(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function u6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rx=j.forwardRef((e,t)=>{var{children:n,width:r,height:l,viewBox:c,className:u,style:f,title:m,desc:h}=e,p=c6(e,o6),x=c||{width:r,height:l,x:0,y:0},b=Dt("recharts-surface",u);return j.createElement("svg",Zg({},xr(p),{className:b,width:r,height:l,style:f,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),j.createElement("title",null,m),j.createElement("desc",null,h),n)}),d6=["children","className"];function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jg.apply(null,arguments)}function f6(e,t){if(e==null)return{};var n,r,l=m6(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function m6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Qn=j.forwardRef((e,t)=>{var{children:n,className:r}=e,l=f6(e,d6),c=Dt("recharts-layer",r);return j.createElement("g",Jg({className:c},xr(l),{ref:t}),n)}),wk=j.createContext(null),h6=()=>j.useContext(wk);function Yt(e){return function(){return e}}const Nk=Math.cos,Rd=Math.sin,Ma=Math.sqrt,Ld=Math.PI,kf=2*Ld,e0=Math.PI,t0=2*e0,nl=1e-6,p6=t0-nl;function Sk(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function g6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Sk;const n=10**t;return function(r){this._+=r[0];for(let l=1,c=r.length;l<c;++l)this._+=Math.round(arguments[l]*n)/n+r[l]}}class x6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Sk:g6(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,l){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+l}`}bezierCurveTo(t,n,r,l,c,u){this._append`C${+t},${+n},${+r},${+l},${this._x1=+c},${this._y1=+u}`}arcTo(t,n,r,l,c){if(t=+t,n=+n,r=+r,l=+l,c=+c,c<0)throw new Error(`negative radius: ${c}`);let u=this._x1,f=this._y1,m=r-t,h=l-n,p=u-t,x=f-n,b=p*p+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(b>nl)if(!(Math.abs(x*m-h*p)>nl)||!c)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-u,N=l-f,w=m*m+h*h,S=y*y+N*N,D=Math.sqrt(w),P=Math.sqrt(b),O=c*Math.tan((e0-Math.acos((w+b-S)/(2*D*P)))/2),I=O/P,R=O/D;Math.abs(I-1)>nl&&this._append`L${t+I*p},${n+I*x}`,this._append`A${c},${c},0,0,${+(x*y>p*N)},${this._x1=t+R*m},${this._y1=n+R*h}`}}arc(t,n,r,l,c,u){if(t=+t,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(l),m=r*Math.sin(l),h=t+f,p=n+m,x=1^u,b=u?l-c:c-l;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>nl||Math.abs(this._y1-p)>nl)&&this._append`L${h},${p}`,r&&(b<0&&(b=b%t0+t0),b>p6?this._append`A${r},${r},0,1,${x},${t-f},${n-m}A${r},${r},0,1,${x},${this._x1=h},${this._y1=p}`:b>nl&&this._append`A${r},${r},0,${+(b>=e0)},${x},${this._x1=t+r*Math.cos(c)},${this._y1=n+r*Math.sin(c)}`)}rect(t,n,r,l){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+l}h${-r}Z`}toString(){return this._}}function ax(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new x6(t)}function ix(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function kk(e){this._context=e}kk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Cf(e){return new kk(e)}function Ck(e){return e[0]}function Ok(e){return e[1]}function Ak(e,t){var n=Yt(!0),r=null,l=Cf,c=null,u=ax(f);e=typeof e=="function"?e:e===void 0?Ck:Yt(e),t=typeof t=="function"?t:t===void 0?Ok:Yt(t);function f(m){var h,p=(m=ix(m)).length,x,b=!1,y;for(r==null&&(c=l(y=u())),h=0;h<=p;++h)!(h<p&&n(x=m[h],h,m))===b&&((b=!b)?c.lineStart():c.lineEnd()),b&&c.point(+e(x,h,m),+t(x,h,m));if(y)return c=null,y+""||null}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:Yt(+m),f):e},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:Yt(+m),f):t},f.defined=function(m){return arguments.length?(n=typeof m=="function"?m:Yt(!!m),f):n},f.curve=function(m){return arguments.length?(l=m,r!=null&&(c=l(r)),f):l},f.context=function(m){return arguments.length?(m==null?r=c=null:c=l(r=m),f):r},f}function hd(e,t,n){var r=null,l=Yt(!0),c=null,u=Cf,f=null,m=ax(h);e=typeof e=="function"?e:e===void 0?Ck:Yt(+e),t=typeof t=="function"?t:Yt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Ok:Yt(+n);function h(x){var b,y,N,w=(x=ix(x)).length,S,D=!1,P,O=new Array(w),I=new Array(w);for(c==null&&(f=u(P=m())),b=0;b<=w;++b){if(!(b<w&&l(S=x[b],b,x))===D)if(D=!D)y=b,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),N=b-1;N>=y;--N)f.point(O[N],I[N]);f.lineEnd(),f.areaEnd()}D&&(O[b]=+e(S,b,x),I[b]=+t(S,b,x),f.point(r?+r(S,b,x):O[b],n?+n(S,b,x):I[b]))}if(P)return f=null,P+""||null}function p(){return Ak().defined(l).curve(u).context(c)}return h.x=function(x){return arguments.length?(e=typeof x=="function"?x:Yt(+x),r=null,h):e},h.x0=function(x){return arguments.length?(e=typeof x=="function"?x:Yt(+x),h):e},h.x1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:Yt(+x),h):r},h.y=function(x){return arguments.length?(t=typeof x=="function"?x:Yt(+x),n=null,h):t},h.y0=function(x){return arguments.length?(t=typeof x=="function"?x:Yt(+x),h):t},h.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:Yt(+x),h):n},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(n)},h.lineX1=function(){return p().x(r).y(t)},h.defined=function(x){return arguments.length?(l=typeof x=="function"?x:Yt(!!x),h):l},h.curve=function(x){return arguments.length?(u=x,c!=null&&(f=u(c)),h):u},h.context=function(x){return arguments.length?(x==null?c=f=null:f=u(c=x),h):c},h}class Tk{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function v6(e){return new Tk(e,!0)}function y6(e){return new Tk(e,!1)}const sx={draw(e,t){const n=Ma(t/Ld);e.moveTo(n,0),e.arc(0,0,n,0,kf)}},b6={draw(e,t){const n=Ma(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Dk=Ma(1/3),j6=Dk*2,w6={draw(e,t){const n=Ma(t/j6),r=n*Dk;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},N6={draw(e,t){const n=Ma(t),r=-n/2;e.rect(r,r,n,n)}},S6=.8908130915292852,Ek=Rd(Ld/10)/Rd(7*Ld/10),k6=Rd(kf/10)*Ek,C6=-Nk(kf/10)*Ek,O6={draw(e,t){const n=Ma(t*S6),r=k6*n,l=C6*n;e.moveTo(0,-n),e.lineTo(r,l);for(let c=1;c<5;++c){const u=kf*c/5,f=Nk(u),m=Rd(u);e.lineTo(m*n,-f*n),e.lineTo(f*r-m*l,m*r+f*l)}e.closePath()}},hp=Ma(3),A6={draw(e,t){const n=-Ma(t/(hp*3));e.moveTo(0,n*2),e.lineTo(-hp*n,-n),e.lineTo(hp*n,-n),e.closePath()}},ca=-.5,ua=Ma(3)/2,n0=1/Ma(12),T6=(n0/2+1)*3,D6={draw(e,t){const n=Ma(t/T6),r=n/2,l=n*n0,c=r,u=n*n0+n,f=-c,m=u;e.moveTo(r,l),e.lineTo(c,u),e.lineTo(f,m),e.lineTo(ca*r-ua*l,ua*r+ca*l),e.lineTo(ca*c-ua*u,ua*c+ca*u),e.lineTo(ca*f-ua*m,ua*f+ca*m),e.lineTo(ca*r+ua*l,ca*l-ua*r),e.lineTo(ca*c+ua*u,ca*u-ua*c),e.lineTo(ca*f+ua*m,ca*m-ua*f),e.closePath()}};function E6(e,t){let n=null,r=ax(l);e=typeof e=="function"?e:Yt(e||sx),t=typeof t=="function"?t:Yt(t===void 0?64:+t);function l(){let c;if(n||(n=c=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),c)return n=null,c+""||null}return l.type=function(c){return arguments.length?(e=typeof c=="function"?c:Yt(c),l):e},l.size=function(c){return arguments.length?(t=typeof c=="function"?c:Yt(+c),l):t},l.context=function(c){return arguments.length?(n=c??null,l):n},l}function zd(){}function Bd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Mk(e){this._context=e}Mk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function M6(e){return new Mk(e)}function _k(e){this._context=e}_k.prototype={areaStart:zd,areaEnd:zd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Bd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _6(e){return new _k(e)}function Ik(e){this._context=e}Ik.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Bd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I6(e){return new Ik(e)}function Pk(e){this._context=e}Pk.prototype={areaStart:zd,areaEnd:zd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function P6(e){return new Pk(e)}function Q1(e){return e<0?-1:1}function X1(e,t,n){var r=e._x1-e._x0,l=t-e._x1,c=(e._y1-e._y0)/(r||l<0&&-0),u=(n-e._y1)/(l||r<0&&-0),f=(c*l+u*r)/(r+l);return(Q1(c)+Q1(u))*Math.min(Math.abs(c),Math.abs(u),.5*Math.abs(f))||0}function Z1(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function pp(e,t,n){var r=e._x0,l=e._y0,c=e._x1,u=e._y1,f=(c-r)/3;e._context.bezierCurveTo(r+f,l+f*t,c-f,u-f*n,c,u)}function $d(e){this._context=e}$d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pp(this,this._t0,Z1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,pp(this,Z1(this,n=X1(this,e,t)),n);break;default:pp(this,this._t0,n=X1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Rk(e){this._context=new Lk(e)}(Rk.prototype=Object.create($d.prototype)).point=function(e,t){$d.prototype.point.call(this,t,e)};function Lk(e){this._context=e}Lk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,l,c){this._context.bezierCurveTo(t,e,r,n,c,l)}};function R6(e){return new $d(e)}function L6(e){return new Rk(e)}function zk(e){this._context=e}zk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=J1(e),l=J1(t),c=0,u=1;u<n;++c,++u)this._context.bezierCurveTo(r[0][c],l[0][c],r[1][c],l[1][c],e[u],t[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function J1(e){var t,n=e.length-1,r,l=new Array(n),c=new Array(n),u=new Array(n);for(l[0]=0,c[0]=2,u[0]=e[0]+2*e[1],t=1;t<n-1;++t)l[t]=1,c[t]=4,u[t]=4*e[t]+2*e[t+1];for(l[n-1]=2,c[n-1]=7,u[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=l[t]/c[t-1],c[t]-=r,u[t]-=r*u[t-1];for(l[n-1]=u[n-1]/c[n-1],t=n-2;t>=0;--t)l[t]=(u[t]-l[t+1])/c[t];for(c[n-1]=(e[n]+l[n-1])/2,t=0;t<n-1;++t)c[t]=2*e[t+1]-l[t+1];return[l,c]}function z6(e){return new zk(e)}function Of(e,t){this._context=e,this._t=t}Of.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function B6(e){return new Of(e,.5)}function $6(e){return new Of(e,0)}function U6(e){return new Of(e,1)}function lo(e,t){if((u=e.length)>1)for(var n=1,r,l,c=e[t[0]],u,f=c.length;n<u;++n)for(l=c,c=e[t[n]],r=0;r<f;++r)c[r][1]+=c[r][0]=isNaN(l[r][1])?l[r][0]:l[r][1]}function r0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function q6(e,t){return e[t]}function H6(e){const t=[];return t.key=e,t}function F6(){var e=Yt([]),t=r0,n=lo,r=q6;function l(c){var u=Array.from(e.apply(this,arguments),H6),f,m=u.length,h=-1,p;for(const x of c)for(f=0,++h;f<m;++f)(u[f][h]=[0,+r(x,u[f].key,h,c)]).data=x;for(f=0,p=ix(t(u));f<m;++f)u[p[f]].index=f;return n(u,p),u}return l.keys=function(c){return arguments.length?(e=typeof c=="function"?c:Yt(Array.from(c)),l):e},l.value=function(c){return arguments.length?(r=typeof c=="function"?c:Yt(+c),l):r},l.order=function(c){return arguments.length?(t=c==null?r0:typeof c=="function"?c:Yt(Array.from(c)),l):t},l.offset=function(c){return arguments.length?(n=c??lo,l):n},l}function V6(e,t){if((r=e.length)>0){for(var n,r,l=0,c=e[0].length,u;l<c;++l){for(u=n=0;n<r;++n)u+=e[n][l][1]||0;if(u)for(n=0;n<r;++n)e[n][l][1]/=u}lo(e,t)}}function K6(e,t){if((l=e.length)>0){for(var n=0,r=e[t[0]],l,c=r.length;n<c;++n){for(var u=0,f=0;u<l;++u)f+=e[u][n][1]||0;r[n][1]+=r[n][0]=-f/2}lo(e,t)}}function G6(e,t){if(!(!((u=e.length)>0)||!((c=(l=e[t[0]]).length)>0))){for(var n=0,r=1,l,c,u;r<c;++r){for(var f=0,m=0,h=0;f<u;++f){for(var p=e[t[f]],x=p[r][1]||0,b=p[r-1][1]||0,y=(x-b)/2,N=0;N<f;++N){var w=e[t[N]],S=w[r][1]||0,D=w[r-1][1]||0;y+=S-D}m+=x,h+=y*x}l[r-1][1]+=l[r-1][0]=n,m&&(n-=h/m)}l[r-1][1]+=l[r-1][0]=n,lo(e,t)}}var gp={},xp={},e2;function W6(){return e2||(e2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(xp)),xp}var vp={},t2;function Bk(){return t2||(t2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(vp)),vp}var yp={},n2;function lx(){return n2||(n2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(yp)),yp}var bp={},jp={},r2;function Y6(){return r2||(r2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(jp)),jp}var a2;function ox(){return a2||(a2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y6(),n=lx();function r(l){if(Array.isArray(l))return l.map(n.toKey);if(typeof l=="symbol")return[l];l=t.toString(l);const c=[],u=l.length;if(u===0)return c;let f=0,m="",h="",p=!1;for(l.charCodeAt(0)===46&&(c.push(""),f++);f<u;){const x=l[f];h?x==="\\"&&f+1<u?(f++,m+=l[f]):x===h?h="":m+=x:p?x==='"'||x==="'"?h=x:x==="]"?(p=!1,c.push(m),m=""):m+=x:x==="["?(p=!0,m&&(c.push(m),m="")):x==="."?m&&(c.push(m),m=""):m+=x,f++}return m&&c.push(m),c}e.toPath=r})(bp)),bp}var i2;function cx(){return i2||(i2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W6(),n=Bk(),r=lx(),l=ox();function c(f,m,h){if(f==null)return h;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return h;const p=f[m];return p===void 0?n.isDeepKey(m)?c(f,l.toPath(m),h):h:p}case"number":case"symbol":{typeof m=="number"&&(m=r.toKey(m));const p=f[m];return p===void 0?h:p}default:{if(Array.isArray(m))return u(f,m,h);if(Object.is(m==null?void 0:m.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return h;const p=f[m];return p===void 0?h:p}}}function u(f,m,h){if(m.length===0)return h;let p=f;for(let x=0;x<m.length;x++){if(p==null||t.isUnsafeProperty(m[x]))return h;p=p[m[x]]}return p===void 0?h:p}e.get=c})(gp)),gp}var wp,s2;function Q6(){return s2||(s2=1,wp=cx().get),wp}var X6=Q6();const hl=Ka(X6);var $n=e=>e===0?0:e>0?1:-1,ga=e=>typeof e=="number"&&e!=+e,Ai=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ke=e=>(typeof e=="number"||e instanceof Number)&&!ga(e),Fa=e=>Ke(e)||typeof e=="string",Z6=0,Tc=e=>{var t=++Z6;return"".concat(e||"").concat(t)},or=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ke(t)&&typeof t!="string")return r;var c;if(Ai(t)){if(n==null)return r;var u=t.indexOf("%");c=n*parseFloat(t.slice(0,u))/100}else c=+t;return ga(c)&&(c=r),l&&n!=null&&c>n&&(c=n),c},$k=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function pn(e,t,n){return Ke(e)&&Ke(t)?e+n*(t-e):t}function Uk(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):hl(r,t))===n)}var on=e=>e===null||typeof e>"u",Fc=e=>on(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),J6=["type","size","sizeType"];function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a0.apply(null,arguments)}function l2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function o2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(n),!0).forEach(function(r){eM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eM(e,t,n){return(t=tM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tM(e){var t=nM(e,"string");return typeof t=="symbol"?t:t+""}function nM(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rM(e,t){if(e==null)return{};var n,r,l=aM(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function aM(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qk={symbolCircle:sx,symbolCross:b6,symbolDiamond:w6,symbolSquare:N6,symbolStar:O6,symbolTriangle:A6,symbolWye:D6},iM=Math.PI/180,sM=e=>{var t="symbol".concat(Fc(e));return qk[t]||sx},lM=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*iM;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},oM=(e,t)=>{qk["symbol".concat(Fc(e))]=t},ux=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,l=rM(e,J6),c=o2(o2({},l),{},{type:t,size:n,sizeType:r}),u="circle";typeof t=="string"&&(u=t);var f=()=>{var b=sM(u),y=E6().type(b).size(lM(n,r,u)),N=y();if(N!==null)return N},{className:m,cx:h,cy:p}=c,x=xr(c);return h===+h&&p===+p&&n===+n?j.createElement("path",a0({},x,{className:Dt("recharts-symbols",m),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};ux.registerSymbol=oM;var dx=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(l=>{nx(l)&&(r[l]=(c=>n[l](n,c)))}),r},cM=(e,t,n)=>r=>(e(t,n,r),null),Vc=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(l=>{var c=e[l];nx(l)&&typeof c=="function"&&(r||(r={}),r[l]=cM(c,t,n))}),r};function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i0.apply(null,arguments)}function c2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function uM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(n),!0).forEach(function(r){fx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fx(e,t,n){return(t=dM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dM(e){var t=fM(e,"string");return typeof t=="symbol"?t:t+""}function fM(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var da=32;class mx extends j.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,l=da/2,c=da/6,u=da/3,f=t.inactive?r:t.color,m=n??t.type;if(m==="none")return null;if(m==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:l,x2:da,y2:l,className:"recharts-legend-icon"});if(m==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(l,"h").concat(u,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(2*u,",").concat(l,`
            H`).concat(da,"M").concat(2*u,",").concat(l,`
            A`).concat(c,",").concat(c,",0,1,1,").concat(u,",").concat(l),className:"recharts-legend-icon"});if(m==="rect")return j.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(da/8,"h").concat(da,"v").concat(da*3/4,"h").concat(-da,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var h=uM({},t);return delete h.legendIcon,j.cloneElement(t.legendIcon,h)}return j.createElement(ux,{fill:f,cx:l,cy:l,size:da,sizeType:"diameter",type:m})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:l,inactiveColor:c,iconType:u}=this.props,f={x:0,y:0,width:da,height:da},m={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,x)=>{var b=p.formatter||l,y=Dt({"recharts-legend-item":!0,["legend-item-".concat(x)]:!0,inactive:p.inactive});if(p.type==="none")return null;var N=p.inactive?c:p.color,w=b?b(p.value,p,x):p.value;return j.createElement("li",i0({className:y,style:m,key:"legend-item-".concat(x)},Vc(this.props,p,x)),j.createElement(rx,{width:n,height:n,viewBox:f,style:h,"aria-label":"".concat(w," legend icon")},this.renderIcon(p,u)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},w))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var l={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}fx(mx,"displayName","Legend");fx(mx,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Np={},Sp={},u2;function mM(){return u2||(u2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const l=new Map;for(let c=0;c<n.length;c++){const u=n[c],f=r(u);l.has(f)||l.set(f,u)}return Array.from(l.values())}e.uniqBy=t})(Sp)),Sp}var kp={},d2;function Hk(){return d2||(d2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(kp)),kp}var Cp={},Op={},Ap={},f2;function hM(){return f2||(f2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Ap)),Ap}var m2;function hx(){return m2||(m2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hM();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Op)),Op}var Tp={},h2;function pM(){return h2||(h2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Tp)),Tp}var p2;function gM(){return p2||(p2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hx(),n=pM();function r(l){return n.isObjectLike(l)&&t.isArrayLike(l)}e.isArrayLikeObject=r})(Cp)),Cp}var Dp={},Ep={},g2;function xM(){return g2||(g2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cx();function n(r){return function(l){return t.get(l,r)}}e.property=n})(Ep)),Ep}var Mp={},_p={},Ip={},Pp={},x2;function Fk(){return x2||(x2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Pp)),Pp}var Rp={},v2;function Vk(){return v2||(v2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Rp)),Rp}var Lp={},y2;function Kk(){return y2||(y2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Lp)),Lp}var b2;function vM(){return b2||(b2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fk(),n=Vk(),r=Kk();function l(p,x,b){return typeof b!="function"?l(p,x,()=>{}):c(p,x,function y(N,w,S,D,P,O){const I=b(N,w,S,D,P,O);return I!==void 0?!!I:c(N,w,y,O)},new Map)}function c(p,x,b,y){if(x===p)return!0;switch(typeof x){case"object":return u(p,x,b,y);case"function":return Object.keys(x).length>0?c(p,{...x},b,y):r.eq(p,x);default:return t.isObject(p)?typeof x=="string"?x==="":!0:r.eq(p,x)}}function u(p,x,b,y){if(x==null)return!0;if(Array.isArray(x))return m(p,x,b,y);if(x instanceof Map)return f(p,x,b,y);if(x instanceof Set)return h(p,x,b,y);const N=Object.keys(x);if(p==null)return N.length===0;if(N.length===0)return!0;if(y!=null&&y.has(x))return y.get(x)===p;y==null||y.set(x,p);try{for(let w=0;w<N.length;w++){const S=N[w];if(!n.isPrimitive(p)&&!(S in p)||x[S]===void 0&&p[S]!==void 0||x[S]===null&&p[S]!==null||!b(p[S],x[S],S,p,x,y))return!1}return!0}finally{y==null||y.delete(x)}}function f(p,x,b,y){if(x.size===0)return!0;if(!(p instanceof Map))return!1;for(const[N,w]of x.entries()){const S=p.get(N);if(b(S,w,N,p,x,y)===!1)return!1}return!0}function m(p,x,b,y){if(x.length===0)return!0;if(!Array.isArray(p))return!1;const N=new Set;for(let w=0;w<x.length;w++){const S=x[w];let D=!1;for(let P=0;P<p.length;P++){if(N.has(P))continue;const O=p[P];let I=!1;if(b(O,S,w,p,x,y)&&(I=!0),I){N.add(P),D=!0;break}}if(!D)return!1}return!0}function h(p,x,b,y){return x.size===0?!0:p instanceof Set?m([...p],[...x],b,y):!1}e.isMatchWith=l,e.isSetMatch=h})(Ip)),Ip}var j2;function Gk(){return j2||(j2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vM();function n(r,l){return t.isMatchWith(r,l,()=>{})}e.isMatch=n})(_p)),_p}var zp={},Bp={},$p={},w2;function yM(){return w2||(w2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})($p)),$p}var Up={},N2;function Wk(){return N2||(N2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Up)),Up}var qp={},S2;function Yk(){return S2||(S2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",l="[object Boolean]",c="[object Arguments]",u="[object Symbol]",f="[object Date]",m="[object Map]",h="[object Set]",p="[object Array]",x="[object Function]",b="[object ArrayBuffer]",y="[object Object]",N="[object Error]",w="[object DataView]",S="[object Uint8Array]",D="[object Uint8ClampedArray]",P="[object Uint16Array]",O="[object Uint32Array]",I="[object BigUint64Array]",R="[object Int8Array]",M="[object Int16Array]",B="[object Int32Array]",$="[object BigInt64Array]",Y="[object Float32Array]",X="[object Float64Array]";e.argumentsTag=c,e.arrayBufferTag=b,e.arrayTag=p,e.bigInt64ArrayTag=$,e.bigUint64ArrayTag=I,e.booleanTag=l,e.dataViewTag=w,e.dateTag=f,e.errorTag=N,e.float32ArrayTag=Y,e.float64ArrayTag=X,e.functionTag=x,e.int16ArrayTag=M,e.int32ArrayTag=B,e.int8ArrayTag=R,e.mapTag=m,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=h,e.stringTag=n,e.symbolTag=u,e.uint16ArrayTag=P,e.uint32ArrayTag=O,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=D})(qp)),qp}var Hp={},k2;function bM(){return k2||(k2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Hp)),Hp}var C2;function Qk(){return C2||(C2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yM(),n=Wk(),r=Yk(),l=Vk(),c=bM();function u(p,x){return f(p,void 0,p,new Map,x)}function f(p,x,b,y=new Map,N=void 0){const w=N==null?void 0:N(p,x,b,y);if(w!==void 0)return w;if(l.isPrimitive(p))return p;if(y.has(p))return y.get(p);if(Array.isArray(p)){const S=new Array(p.length);y.set(p,S);for(let D=0;D<p.length;D++)S[D]=f(p[D],D,b,y,N);return Object.hasOwn(p,"index")&&(S.index=p.index),Object.hasOwn(p,"input")&&(S.input=p.input),S}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const S=new RegExp(p.source,p.flags);return S.lastIndex=p.lastIndex,S}if(p instanceof Map){const S=new Map;y.set(p,S);for(const[D,P]of p)S.set(D,f(P,D,b,y,N));return S}if(p instanceof Set){const S=new Set;y.set(p,S);for(const D of p)S.add(f(D,void 0,b,y,N));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(c.isTypedArray(p)){const S=new(Object.getPrototypeOf(p)).constructor(p.length);y.set(p,S);for(let D=0;D<p.length;D++)S[D]=f(p[D],D,b,y,N);return S}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const S=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return y.set(p,S),m(S,p,b,y,N),S}if(typeof File<"u"&&p instanceof File){const S=new File([p],p.name,{type:p.type});return y.set(p,S),m(S,p,b,y,N),S}if(typeof Blob<"u"&&p instanceof Blob){const S=new Blob([p],{type:p.type});return y.set(p,S),m(S,p,b,y,N),S}if(p instanceof Error){const S=new p.constructor;return y.set(p,S),S.message=p.message,S.name=p.name,S.stack=p.stack,S.cause=p.cause,m(S,p,b,y,N),S}if(p instanceof Boolean){const S=new Boolean(p.valueOf());return y.set(p,S),m(S,p,b,y,N),S}if(p instanceof Number){const S=new Number(p.valueOf());return y.set(p,S),m(S,p,b,y,N),S}if(p instanceof String){const S=new String(p.valueOf());return y.set(p,S),m(S,p,b,y,N),S}if(typeof p=="object"&&h(p)){const S=Object.create(Object.getPrototypeOf(p));return y.set(p,S),m(S,p,b,y,N),S}return p}function m(p,x,b=p,y,N){const w=[...Object.keys(x),...t.getSymbols(x)];for(let S=0;S<w.length;S++){const D=w[S],P=Object.getOwnPropertyDescriptor(p,D);(P==null||P.writable)&&(p[D]=f(x[D],D,b,y,N))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=u,e.cloneDeepWithImpl=f,e.copyProperties=m})(Bp)),Bp}var O2;function jM(){return O2||(O2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qk();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(zp)),zp}var A2;function wM(){return A2||(A2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gk(),n=jM();function r(l){return l=n.cloneDeep(l),c=>t.isMatch(c,l)}e.matches=r})(Mp)),Mp}var Fp={},Vp={},Kp={},T2;function NM(){return T2||(T2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qk(),n=Yk();function r(l,c){return t.cloneDeepWith(l,(u,f,m,h)=>{const p=c==null?void 0:c(u,f,m,h);if(p!==void 0)return p;if(typeof l=="object")switch(Object.prototype.toString.call(l)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new l.constructor(l==null?void 0:l.valueOf());return t.copyProperties(x,l),x}case n.argumentsTag:{const x={};return t.copyProperties(x,l),x.length=l.length,x[Symbol.iterator]=l[Symbol.iterator],x}default:return}})}e.cloneDeepWith=r})(Kp)),Kp}var D2;function SM(){return D2||(D2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NM();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Vp)),Vp}var Gp={},Wp={},E2;function Xk(){return E2||(E2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,l=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<l;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Wp)),Wp}var Yp={},M2;function kM(){return M2||(M2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wk();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Yp)),Yp}var _2;function CM(){return _2||(_2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bk(),n=Xk(),r=kM(),l=ox();function c(u,f){let m;if(Array.isArray(f)?m=f:typeof f=="string"&&t.isDeepKey(f)&&(u==null?void 0:u[f])==null?m=l.toPath(f):m=[f],m.length===0)return!1;let h=u;for(let p=0;p<m.length;p++){const x=m[p];if((h==null||!Object.hasOwn(h,x))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(x)&&x<h.length))return!1;h=h[x]}return!0}e.has=c})(Gp)),Gp}var I2;function OM(){return I2||(I2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gk(),n=lx(),r=SM(),l=cx(),c=CM();function u(f,m){switch(typeof f){case"object":{Object.is(f==null?void 0:f.valueOf(),-0)&&(f="-0");break}case"number":{f=n.toKey(f);break}}return m=r.cloneDeep(m),function(h){const p=l.get(h,f);return p===void 0?c.has(h,f):m===void 0?p===void 0:t.isMatch(p,m)}}e.matchesProperty=u})(Fp)),Fp}var P2;function AM(){return P2||(P2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hk(),n=xM(),r=wM(),l=OM();function c(u){if(u==null)return t.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?l.matchesProperty(u[0],u[1]):r.matches(u);case"string":case"symbol":case"number":return n.property(u)}}e.iteratee=c})(Dp)),Dp}var R2;function TM(){return R2||(R2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mM(),n=Hk(),r=gM(),l=AM();function c(u,f=n.identity){return r.isArrayLikeObject(u)?t.uniqBy(Array.from(u),l.iteratee(f)):[]}e.uniqBy=c})(Np)),Np}var Qp,L2;function DM(){return L2||(L2=1,Qp=TM().uniqBy),Qp}var EM=DM();const z2=Ka(EM);function Zk(e,t,n){return t===!0?z2(e,n):typeof t=="function"?z2(e,t):e}var Xp={exports:{}},Zp={},Jp={exports:{}},eg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B2;function MM(){if(B2)return eg;B2=1;var e=po();function t(x,b){return x===b&&(x!==0||1/x===1/b)||x!==x&&b!==b}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,l=e.useEffect,c=e.useLayoutEffect,u=e.useDebugValue;function f(x,b){var y=b(),N=r({inst:{value:y,getSnapshot:b}}),w=N[0].inst,S=N[1];return c(function(){w.value=y,w.getSnapshot=b,m(w)&&S({inst:w})},[x,y,b]),l(function(){return m(w)&&S({inst:w}),x(function(){m(w)&&S({inst:w})})},[x]),u(y),y}function m(x){var b=x.getSnapshot;x=x.value;try{var y=b();return!n(x,y)}catch{return!0}}function h(x,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return eg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,eg}var $2;function _M(){return $2||($2=1,Jp.exports=MM()),Jp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U2;function IM(){if(U2)return Zp;U2=1;var e=po(),t=_M();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,l=t.useSyncExternalStore,c=e.useRef,u=e.useEffect,f=e.useMemo,m=e.useDebugValue;return Zp.useSyncExternalStoreWithSelector=function(h,p,x,b,y){var N=c(null);if(N.current===null){var w={hasValue:!1,value:null};N.current=w}else w=N.current;N=f(function(){function D(M){if(!P){if(P=!0,O=M,M=b(M),y!==void 0&&w.hasValue){var B=w.value;if(y(B,M))return I=B}return I=M}if(B=I,r(O,M))return B;var $=b(M);return y!==void 0&&y(B,$)?(O=M,B):(O=M,I=$)}var P=!1,O,I,R=x===void 0?null:x;return[function(){return D(p())},R===null?void 0:function(){return D(R())}]},[p,x,b,y]);var S=l(h,N[0],N[1]);return u(function(){w.hasValue=!0,w.value=S},[S]),m(S),S},Zp}var q2;function PM(){return q2||(q2=1,Xp.exports=IM()),Xp.exports}var RM=PM(),px=j.createContext(null),LM=e=>e,cn=()=>{var e=j.useContext(px);return e?e.store.dispatch:LM},Md=()=>{},zM=()=>Md,BM=(e,t)=>e===t;function $e(e){var t=j.useContext(px);return RM.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:zM,t?t.store.getState:Md,t?t.store.getState:Md,t?e:Md,BM)}function $M(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function UM(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function qM(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var H2=e=>Array.isArray(e)?e:[e];function HM(e){const t=Array.isArray(e[0])?e[0]:e;return qM(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function FM(e,t){const n=[],{length:r}=e;for(let l=0;l<r;l++)n.push(e[l].apply(null,t));return n}var VM=class{constructor(e){this.value=e}deref(){return this.value}},KM=typeof WeakRef<"u"?WeakRef:VM,GM=0,F2=1;function pd(){return{s:GM,v:void 0,o:null,p:null}}function Jk(e,t={}){let n=pd();const{resultEqualityCheck:r}=t;let l,c=0;function u(){var x;let f=n;const{length:m}=arguments;for(let b=0,y=m;b<y;b++){const N=arguments[b];if(typeof N=="function"||typeof N=="object"&&N!==null){let w=f.o;w===null&&(f.o=w=new WeakMap);const S=w.get(N);S===void 0?(f=pd(),w.set(N,f)):f=S}else{let w=f.p;w===null&&(f.p=w=new Map);const S=w.get(N);S===void 0?(f=pd(),w.set(N,f)):f=S}}const h=f;let p;if(f.s===F2)p=f.v;else if(p=e.apply(null,arguments),c++,r){const b=((x=l==null?void 0:l.deref)==null?void 0:x.call(l))??l;b!=null&&r(b,p)&&(p=b,c!==0&&c--),l=typeof p=="object"&&p!==null||typeof p=="function"?new KM(p):p}return h.s=F2,h.v=p,p}return u.clearCache=()=>{n=pd(),u.resetResultsCount()},u.resultsCount=()=>c,u.resetResultsCount=()=>{c=0},u}function WM(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...l)=>{let c=0,u=0,f,m={},h=l.pop();typeof h=="object"&&(m=h,h=l.pop()),$M(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...m},{memoize:x,memoizeOptions:b=[],argsMemoize:y=Jk,argsMemoizeOptions:N=[]}=p,w=H2(b),S=H2(N),D=HM(l),P=x(function(){return c++,h.apply(null,arguments)},...w),O=y(function(){u++;const R=FM(D,arguments);return f=P.apply(null,R),f},...S);return Object.assign(O,{resultFunc:h,memoizedResultFunc:P,dependencies:D,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>f,recomputations:()=>c,resetRecomputations:()=>{c=0},memoize:x,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var re=WM(Jk),YM=Object.assign((e,t=re)=>{UM(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(c=>e[c]);return t(r,(...c)=>c.reduce((u,f,m)=>(u[n[m]]=f,u),{}))},{withTypes:()=>YM}),tg={},ng={},rg={},V2;function QM(){return V2||(V2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,l,c)=>{if(r!==l){const u=t(r),f=t(l);if(u===f&&u===0){if(r<l)return c==="desc"?1:-1;if(r>l)return c==="desc"?-1:1}return c==="desc"?f-u:u-f}return 0};e.compareValues=n})(rg)),rg}var ag={},ig={},K2;function eC(){return K2||(K2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(ig)),ig}var G2;function XM(){return G2||(G2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eC(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function l(c,u){return Array.isArray(c)?!1:typeof c=="number"||typeof c=="boolean"||c==null||t.isSymbol(c)?!0:typeof c=="string"&&(r.test(c)||!n.test(c))||u!=null&&Object.hasOwn(u,c)}e.isKey=l})(ag)),ag}var W2;function ZM(){return W2||(W2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QM(),n=XM(),r=ox();function l(c,u,f,m){if(c==null)return[];f=m?void 0:f,Array.isArray(c)||(c=Object.values(c)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(f)||(f=f==null?[]:[f]),f=f.map(y=>String(y));const h=(y,N)=>{let w=y;for(let S=0;S<N.length&&w!=null;++S)w=w[N[S]];return w},p=(y,N)=>N==null||y==null?N:typeof y=="object"&&"key"in y?Object.hasOwn(N,y.key)?N[y.key]:h(N,y.path):typeof y=="function"?y(N):Array.isArray(y)?h(N,y):typeof N=="object"?N[y]:N,x=u.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return c.map(y=>({original:y,criteria:x.map(N=>p(N,y))})).slice().sort((y,N)=>{for(let w=0;w<x.length;w++){const S=t.compareValues(y.criteria[w],N.criteria[w],f[w]);if(S!==0)return S}return 0}).map(y=>y.original)}e.orderBy=l})(ng)),ng}var sg={},Y2;function JM(){return Y2||(Y2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const l=[],c=Math.floor(r),u=(f,m)=>{for(let h=0;h<f.length;h++){const p=f[h];Array.isArray(p)&&m<c?u(p,m+1):l.push(p)}};return u(n,0),l}e.flatten=t})(sg)),sg}var lg={},Q2;function tC(){return Q2||(Q2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xk(),n=hx(),r=Fk(),l=Kk();function c(u,f,m){return r.isObject(m)&&(typeof f=="number"&&n.isArrayLike(m)&&t.isIndex(f)&&f<m.length||typeof f=="string"&&f in m)?l.eq(m[f],u):!1}e.isIterateeCall=c})(lg)),lg}var X2;function e5(){return X2||(X2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZM(),n=JM(),r=tC();function l(c,...u){const f=u.length;return f>1&&r.isIterateeCall(c,u[0],u[1])?u=[]:f>2&&r.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),t.orderBy(c,n.flatten(u),["asc"])}e.sortBy=l})(tg)),tg}var og,Z2;function t5(){return Z2||(Z2=1,og=e5().sortBy),og}var n5=t5();const Af=Ka(n5);var nC=e=>e.legend.settings,r5=e=>e.legend.size,a5=e=>e.legend.payload,i5=re([a5,nC],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Af(r,n):r});function s5(){return $e(i5)}var gd=1;function rC(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=j.useState({height:0,left:0,top:0,width:0}),r=j.useCallback(l=>{if(l!=null){var c=l.getBoundingClientRect(),u={height:c.height,left:c.left,top:c.top,width:c.width};(Math.abs(u.height-t.height)>gd||Math.abs(u.left-t.left)>gd||Math.abs(u.top-t.top)>gd||Math.abs(u.width-t.width)>gd)&&n({height:u.height,left:u.left,top:u.top,width:u.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Wn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var l5=typeof Symbol=="function"&&Symbol.observable||"@@observable",J2=l5,cg=()=>Math.random().toString(36).substring(7).split("").join("."),o5={INIT:`@@redux/INIT${cg()}`,REPLACE:`@@redux/REPLACE${cg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cg()}`},Ud=o5;function gx(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function aC(e,t,n){if(typeof e!="function")throw new Error(Wn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Wn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Wn(1));return n(aC)(e,t)}let r=e,l=t,c=new Map,u=c,f=0,m=!1;function h(){u===c&&(u=new Map,c.forEach((S,D)=>{u.set(D,S)}))}function p(){if(m)throw new Error(Wn(3));return l}function x(S){if(typeof S!="function")throw new Error(Wn(4));if(m)throw new Error(Wn(5));let D=!0;h();const P=f++;return u.set(P,S),function(){if(D){if(m)throw new Error(Wn(6));D=!1,h(),u.delete(P),c=null}}}function b(S){if(!gx(S))throw new Error(Wn(7));if(typeof S.type>"u")throw new Error(Wn(8));if(typeof S.type!="string")throw new Error(Wn(17));if(m)throw new Error(Wn(9));try{m=!0,l=r(l,S)}finally{m=!1}return(c=u).forEach(P=>{P()}),S}function y(S){if(typeof S!="function")throw new Error(Wn(10));r=S,b({type:Ud.REPLACE})}function N(){const S=x;return{subscribe(D){if(typeof D!="object"||D===null)throw new Error(Wn(11));function P(){const I=D;I.next&&I.next(p())}return P(),{unsubscribe:S(P)}},[J2](){return this}}}return b({type:Ud.INIT}),{dispatch:b,subscribe:x,getState:p,replaceReducer:y,[J2]:N}}function c5(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Ud.INIT})>"u")throw new Error(Wn(12));if(typeof n(void 0,{type:Ud.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wn(13))})}function iC(e){const t=Object.keys(e),n={};for(let c=0;c<t.length;c++){const u=t[c];typeof e[u]=="function"&&(n[u]=e[u])}const r=Object.keys(n);let l;try{c5(n)}catch(c){l=c}return function(u={},f){if(l)throw l;let m=!1;const h={};for(let p=0;p<r.length;p++){const x=r[p],b=n[x],y=u[x],N=b(y,f);if(typeof N>"u")throw f&&f.type,new Error(Wn(14));h[x]=N,m=m||N!==y}return m=m||r.length!==Object.keys(u).length,m?h:u}}function qd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function u5(...e){return t=>(n,r)=>{const l=t(n,r);let c=()=>{throw new Error(Wn(15))};const u={getState:l.getState,dispatch:(m,...h)=>c(m,...h)},f=e.map(m=>m(u));return c=qd(...f)(l.dispatch),{...l,dispatch:c}}}function sC(e){return gx(e)&&"type"in e&&typeof e.type=="string"}var lC=Symbol.for("immer-nothing"),ew=Symbol.for("immer-draftable"),Kr=Symbol.for("immer-state");function Ta(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Dc=Object.getPrototypeOf;function pl(e){return!!e&&!!e[Kr]}function Ti(e){var t;return e?oC(e)||Array.isArray(e)||!!e[ew]||!!((t=e.constructor)!=null&&t[ew])||Kc(e)||Df(e):!1}var d5=Object.prototype.constructor.toString(),tw=new WeakMap;function oC(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=tw.get(n);return r===void 0&&(r=Function.toString.call(n),tw.set(n,r)),r===d5}function Hd(e,t,n=!0){Tf(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(l=>{t(l,e[l],e)}):e.forEach((r,l)=>t(l,r,e))}function Tf(e){const t=e[Kr];return t?t.type_:Array.isArray(e)?1:Kc(e)?2:Df(e)?3:0}function s0(e,t){return Tf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function cC(e,t,n){const r=Tf(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function f5(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Kc(e){return e instanceof Map}function Df(e){return e instanceof Set}function rl(e){return e.copy_||e.base_}function l0(e,t){if(Kc(e))return new Map(e);if(Df(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=oC(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Kr];let l=Reflect.ownKeys(r);for(let c=0;c<l.length;c++){const u=l[c],f=r[u];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(r[u]={configurable:!0,writable:!0,enumerable:f.enumerable,value:e[u]})}return Object.create(Dc(e),r)}else{const r=Dc(e);if(r!==null&&n)return{...e};const l=Object.create(r);return Object.assign(l,e)}}function xx(e,t=!1){return Ef(e)||pl(e)||!Ti(e)||(Tf(e)>1&&Object.defineProperties(e,{set:xd,add:xd,clear:xd,delete:xd}),Object.freeze(e),t&&Object.values(e).forEach(n=>xx(n,!0))),e}function m5(){Ta(2)}var xd={value:m5};function Ef(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var h5={};function gl(e){const t=h5[e];return t||Ta(0,e),t}var Ec;function uC(){return Ec}function p5(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nw(e,t){t&&(gl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function o0(e){c0(e),e.drafts_.forEach(g5),e.drafts_=null}function c0(e){e===Ec&&(Ec=e.parent_)}function rw(e){return Ec=p5(Ec,e)}function g5(e){const t=e[Kr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Kr].modified_&&(o0(t),Ta(4)),Ti(e)&&(e=Fd(t,e),t.parent_||Vd(t,e)),t.patches_&&gl("Patches").generateReplacementPatches_(n[Kr].base_,e,t.patches_,t.inversePatches_)):e=Fd(t,n,[]),o0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==lC?e:void 0}function Fd(e,t,n){if(Ef(t))return t;const r=e.immer_.shouldUseStrictIteration(),l=t[Kr];if(!l)return Hd(t,(c,u)=>iw(e,l,t,c,u,n),r),t;if(l.scope_!==e)return t;if(!l.modified_)return Vd(e,l.base_,!0),l.base_;if(!l.finalized_){l.finalized_=!0,l.scope_.unfinalizedDrafts_--;const c=l.copy_;let u=c,f=!1;l.type_===3&&(u=new Set(c),c.clear(),f=!0),Hd(u,(m,h)=>iw(e,l,c,m,h,n,f),r),Vd(e,c,!1),n&&e.patches_&&gl("Patches").generatePatches_(l,n,e.patches_,e.inversePatches_)}return l.copy_}function iw(e,t,n,r,l,c,u){if(l==null||typeof l!="object"&&!u)return;const f=Ef(l);if(!(f&&!u)){if(pl(l)){const m=c&&t&&t.type_!==3&&!s0(t.assigned_,r)?c.concat(r):void 0,h=Fd(e,l,m);if(cC(n,r,h),pl(h))e.canAutoFreeze_=!1;else return}else u&&n.add(l);if(Ti(l)&&!f){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===l&&f)return;Fd(e,l),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Kc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Vd(e,l)}}}function Vd(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&xx(t,n)}function x5(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:uC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=r,c=vx;n&&(l=[r],c=Mc);const{revoke:u,proxy:f}=Proxy.revocable(l,c);return r.draft_=f,r.revoke_=u,f}var vx={get(e,t){if(t===Kr)return e;const n=rl(e);if(!s0(n,t))return v5(e,n,t);const r=n[t];return e.finalized_||!Ti(r)?r:r===ug(e.base_,t)?(dg(e),e.copy_[t]=d0(r,e)):r},has(e,t){return t in rl(e)},ownKeys(e){return Reflect.ownKeys(rl(e))},set(e,t,n){const r=dC(rl(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const l=ug(rl(e),t),c=l==null?void 0:l[Kr];if(c&&c.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(f5(n,l)&&(n!==void 0||s0(e.base_,t)))return!0;dg(e),u0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ug(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,dg(e),u0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=rl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ta(11)},getPrototypeOf(e){return Dc(e.base_)},setPrototypeOf(){Ta(12)}},Mc={};Hd(vx,(e,t)=>{Mc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Mc.deleteProperty=function(e,t){return Mc.set.call(this,e,t,void 0)};Mc.set=function(e,t,n){return vx.set.call(this,e[0],t,n,e[0])};function ug(e,t){const n=e[Kr];return(n?rl(n):e)[t]}function v5(e,t,n){var l;const r=dC(t,n);return r?"value"in r?r.value:(l=r.get)==null?void 0:l.call(e.draft_):void 0}function dC(e,t){if(!(t in e))return;let n=Dc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Dc(n)}}function u0(e){e.modified_||(e.modified_=!0,e.parent_&&u0(e.parent_))}function dg(e){e.copy_||(e.copy_=l0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var y5=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const c=n;n=t;const u=this;return function(m=c,...h){return u.produce(m,p=>n.call(this,p,...h))}}typeof n!="function"&&Ta(6),r!==void 0&&typeof r!="function"&&Ta(7);let l;if(Ti(t)){const c=rw(this),u=d0(t,void 0);let f=!0;try{l=n(u),f=!1}finally{f?o0(c):c0(c)}return nw(c,r),aw(l,c)}else if(!t||typeof t!="object"){if(l=n(t),l===void 0&&(l=t),l===lC&&(l=void 0),this.autoFreeze_&&xx(l,!0),r){const c=[],u=[];gl("Patches").generateReplacementPatches_(t,l,c,u),r(c,u)}return l}else Ta(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(u,...f)=>this.produceWithPatches(u,m=>t(m,...f));let r,l;return[this.produce(t,n,(u,f)=>{r=u,l=f}),r,l]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ti(e)||Ta(8),pl(e)&&(e=ki(e));const t=rw(this),n=d0(e,void 0);return n[Kr].isManual_=!0,c0(t),n}finishDraft(e,t){const n=e&&e[Kr];(!n||!n.isManual_)&&Ta(9);const{scope_:r}=n;return nw(r,t),aw(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const l=t[n];if(l.path.length===0&&l.op==="replace"){e=l.value;break}}n>-1&&(t=t.slice(n+1));const r=gl("Patches").applyPatches_;return pl(e)?r(e,t):this.produce(e,l=>r(l,t))}};function d0(e,t){const n=Kc(e)?gl("MapSet").proxyMap_(e,t):Df(e)?gl("MapSet").proxySet_(e,t):x5(e,t);return(t?t.scope_:uC()).drafts_.push(n),n}function ki(e){return pl(e)||Ta(10,e),fC(e)}function fC(e){if(!Ti(e)||Ef(e))return e;const t=e[Kr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=l0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=l0(e,!0);return Hd(n,(l,c)=>{cC(n,l,fC(c))},r),t&&(t.finalized_=!1),n}var b5=new y5,mC=b5.produce;function hC(e){return({dispatch:n,getState:r})=>l=>c=>typeof c=="function"?c(n,r,e):l(c)}var j5=hC(),w5=hC,N5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qd:qd.apply(null,arguments)};function xa(e,t){function n(...r){if(t){let l=t(...r);if(!l)throw new Error(Fr(0));return{type:e,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>sC(r)&&r.type===e,n}var pC=class kc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,kc.prototype)}static get[Symbol.species](){return kc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new kc(...t[0].concat(this)):new kc(...t.concat(this))}};function sw(e){return Ti(e)?mC(e,()=>{}):e}function vd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function S5(e){return typeof e=="boolean"}var k5=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:l=!0,actionCreatorCheck:c=!0}=t??{};let u=new pC;return n&&(S5(n)?u.push(j5):u.push(w5(n.extraArgument))),u},gC="RTK_autoBatch",hr=()=>e=>({payload:e,meta:{[gC]:!0}}),lw=e=>t=>{setTimeout(t,e)},xC=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let l=!0,c=!1,u=!1;const f=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:lw(10):e.type==="callback"?e.queueNotification:lw(e.timeout),h=()=>{u=!1,c&&(c=!1,f.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const x=()=>l&&p(),b=r.subscribe(x);return f.add(p),()=>{b(),f.delete(p)}},dispatch(p){var x;try{return l=!((x=p==null?void 0:p.meta)!=null&&x[gC]),c=!l,c&&(u||(u=!0,m(h))),r.dispatch(p)}finally{l=!0}}})},C5=e=>function(n){const{autoBatch:r=!0}=n??{};let l=new pC(e);return r&&l.push(xC(typeof r=="object"?r:void 0)),l};function O5(e){const t=k5(),{reducer:n=void 0,middleware:r,devTools:l=!0,preloadedState:c=void 0,enhancers:u=void 0}=e||{};let f;if(typeof n=="function")f=n;else if(gx(n))f=iC(n);else throw new Error(Fr(1));let m;typeof r=="function"?m=r(t):m=t();let h=qd;l&&(h=N5({trace:!1,...typeof l=="object"&&l}));const p=u5(...m),x=C5(p);let b=typeof u=="function"?u(x):x();const y=h(...b);return aC(f,c,y)}function vC(e){const t={},n=[];let r;const l={addCase(c,u){const f=typeof c=="string"?c:c.type;if(!f)throw new Error(Fr(28));if(f in t)throw new Error(Fr(29));return t[f]=u,l},addAsyncThunk(c,u){return u.pending&&(t[c.pending.type]=u.pending),u.rejected&&(t[c.rejected.type]=u.rejected),u.fulfilled&&(t[c.fulfilled.type]=u.fulfilled),u.settled&&n.push({matcher:c.settled,reducer:u.settled}),l},addMatcher(c,u){return n.push({matcher:c,reducer:u}),l},addDefaultCase(c){return r=c,l}};return e(l),[t,n,r]}function A5(e){return typeof e=="function"}function T5(e,t){let[n,r,l]=vC(t),c;if(A5(e))c=()=>sw(e());else{const f=sw(e);c=()=>f}function u(f=c(),m){let h=[n[m.type],...r.filter(({matcher:p})=>p(m)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[l]),h.reduce((p,x)=>{if(x)if(pl(p)){const y=x(p,m);return y===void 0?p:y}else{if(Ti(p))return mC(p,b=>x(b,m));{const b=x(p,m);if(b===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return p},f)}return u.getInitialState=c,u}var D5="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",E5=(e=21)=>{let t="",n=e;for(;n--;)t+=D5[Math.random()*64|0];return t},M5=Symbol.for("rtk-slice-createasyncthunk");function _5(e,t){return`${e}/${t}`}function I5({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[M5];return function(l){const{name:c,reducerPath:u=c}=l;if(!c)throw new Error(Fr(11));const f=(typeof l.reducers=="function"?l.reducers(R5()):l.reducers)||{},m=Object.keys(f),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(I,R){const M=typeof I=="string"?I:I.type;if(!M)throw new Error(Fr(12));if(M in h.sliceCaseReducersByType)throw new Error(Fr(13));return h.sliceCaseReducersByType[M]=R,p},addMatcher(I,R){return h.sliceMatchers.push({matcher:I,reducer:R}),p},exposeAction(I,R){return h.actionCreators[I]=R,p},exposeCaseReducer(I,R){return h.sliceCaseReducersByName[I]=R,p}};m.forEach(I=>{const R=f[I],M={reducerName:I,type:_5(c,I),createNotation:typeof l.reducers=="function"};z5(R)?$5(M,R,p,t):L5(M,R,p)});function x(){const[I={},R=[],M=void 0]=typeof l.extraReducers=="function"?vC(l.extraReducers):[l.extraReducers],B={...I,...h.sliceCaseReducersByType};return T5(l.initialState,$=>{for(let Y in B)$.addCase(Y,B[Y]);for(let Y of h.sliceMatchers)$.addMatcher(Y.matcher,Y.reducer);for(let Y of R)$.addMatcher(Y.matcher,Y.reducer);M&&$.addDefaultCase(M)})}const b=I=>I,y=new Map,N=new WeakMap;let w;function S(I,R){return w||(w=x()),w(I,R)}function D(){return w||(w=x()),w.getInitialState()}function P(I,R=!1){function M($){let Y=$[I];return typeof Y>"u"&&R&&(Y=vd(N,M,D)),Y}function B($=b){const Y=vd(y,R,()=>new WeakMap);return vd(Y,$,()=>{const X={};for(const[le,he]of Object.entries(l.selectors??{}))X[le]=P5(he,$,()=>vd(N,$,D),R);return X})}return{reducerPath:I,getSelectors:B,get selectors(){return B(M)},selectSlice:M}}const O={name:c,reducer:S,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:D,...P(u),injectInto(I,{reducerPath:R,...M}={}){const B=R??u;return I.inject({reducerPath:B,reducer:S},M),{...O,...P(B,!0)}}};return O}}function P5(e,t,n,r){function l(c,...u){let f=t(c);return typeof f>"u"&&r&&(f=n()),e(f,...u)}return l.unwrapped=e,l}var Gr=I5();function R5(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function L5({type:e,reducerName:t,createNotation:n},r,l){let c,u;if("reducer"in r){if(n&&!B5(r))throw new Error(Fr(17));c=r.reducer,u=r.prepare}else c=r;l.addCase(e,c).exposeCaseReducer(t,c).exposeAction(t,u?xa(e,u):xa(e))}function z5(e){return e._reducerDefinitionType==="asyncThunk"}function B5(e){return e._reducerDefinitionType==="reducerWithPrepare"}function $5({type:e,reducerName:t},n,r,l){if(!l)throw new Error(Fr(18));const{payloadCreator:c,fulfilled:u,pending:f,rejected:m,settled:h,options:p}=n,x=l(e,c,p);r.exposeAction(t,x),u&&r.addCase(x.fulfilled,u),f&&r.addCase(x.pending,f),m&&r.addCase(x.rejected,m),h&&r.addMatcher(x.settled,h),r.exposeCaseReducer(t,{fulfilled:u||yd,pending:f||yd,rejected:m||yd,settled:h||yd})}function yd(){}var U5="task",yC="listener",bC="completed",yx="cancelled",q5=`task-${yx}`,H5=`task-${bC}`,f0=`${yC}-${yx}`,F5=`${yC}-${bC}`,Mf=class{constructor(e){ap(this,"name","TaskAbortError");ap(this,"message");this.code=e,this.message=`${U5} ${yx} (reason: ${e})`}},bx=(e,t)=>{if(typeof e!="function")throw new TypeError(Fr(32))},Kd=()=>{},jC=(e,t=Kd)=>(e.catch(t),e),wC=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),cl=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ul=e=>{if(e.aborted){const{reason:t}=e;throw new Mf(t)}};function NC(e,t){let n=Kd;return new Promise((r,l)=>{const c=()=>l(new Mf(e.reason));if(e.aborted){c();return}n=wC(e,c),t.finally(()=>n()).then(r,l)}).finally(()=>{n=Kd})}var V5=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Mf?"cancelled":"rejected",error:n}}finally{t==null||t()}},Gd=e=>t=>jC(NC(e,t).then(n=>(ul(e),n))),SC=e=>{const t=Gd(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:io}=Object,ow={},_f="listenerMiddleware",K5=(e,t)=>{const n=r=>wC(e,()=>cl(r,e.reason));return(r,l)=>{bx(r);const c=new AbortController;n(c);const u=V5(async()=>{ul(e),ul(c.signal);const f=await r({pause:Gd(c.signal),delay:SC(c.signal),signal:c.signal});return ul(c.signal),f},()=>cl(c,H5));return l!=null&&l.autoJoin&&t.push(u.catch(Kd)),{result:Gd(e)(u),cancel(){cl(c,q5)}}}},G5=(e,t)=>{const n=async(r,l)=>{ul(t);let c=()=>{};const f=[new Promise((m,h)=>{let p=e({predicate:r,effect:(x,b)=>{b.unsubscribe(),m([x,b.getState(),b.getOriginalState()])}});c=()=>{p(),h()}})];l!=null&&f.push(new Promise(m=>setTimeout(m,l,null)));try{const m=await NC(t,Promise.race(f));return ul(t),m}finally{c()}};return(r,l)=>jC(n(r,l))},kC=e=>{let{type:t,actionCreator:n,matcher:r,predicate:l,effect:c}=e;if(t)l=xa(t).match;else if(n)t=n.type,l=n.match;else if(r)l=r;else if(!l)throw new Error(Fr(21));return bx(c),{predicate:l,type:t,effect:c}},CC=io(e=>{const{type:t,predicate:n,effect:r}=kC(e);return{id:E5(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Fr(22))}}},{withTypes:()=>CC}),cw=(e,t)=>{const{type:n,effect:r,predicate:l}=kC(t);return Array.from(e.values()).find(c=>(typeof n=="string"?c.type===n:c.predicate===l)&&c.effect===r)},m0=e=>{e.pending.forEach(t=>{cl(t,f0)})},W5=(e,t)=>()=>{for(const n of t.keys())m0(n);e.clear()},uw=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},OC=io(xa(`${_f}/add`),{withTypes:()=>OC}),Y5=xa(`${_f}/removeAll`),AC=io(xa(`${_f}/remove`),{withTypes:()=>AC}),Q5=(...e)=>{console.error(`${_f}/error`,...e)},Gc=(e={})=>{const t=new Map,n=new Map,r=y=>{const N=n.get(y)??0;n.set(y,N+1)},l=y=>{const N=n.get(y)??1;N===1?n.delete(y):n.set(y,N-1)},{extra:c,onError:u=Q5}=e;bx(u);const f=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),N=>{y.unsubscribe(),N!=null&&N.cancelActive&&m0(y)}),m=y=>{const N=cw(t,y)??CC(y);return f(N)};io(m,{withTypes:()=>m});const h=y=>{const N=cw(t,y);return N&&(N.unsubscribe(),y.cancelActive&&m0(N)),!!N};io(h,{withTypes:()=>h});const p=async(y,N,w,S)=>{const D=new AbortController,P=G5(m,D.signal),O=[];try{y.pending.add(D),r(y),await Promise.resolve(y.effect(N,io({},w,{getOriginalState:S,condition:(I,R)=>P(I,R).then(Boolean),take:P,delay:SC(D.signal),pause:Gd(D.signal),extra:c,signal:D.signal,fork:K5(D.signal,O),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((I,R,M)=>{I!==D&&(cl(I,f0),M.delete(I))})},cancel:()=>{cl(D,f0),y.pending.delete(D)},throwIfCancelled:()=>{ul(D.signal)}})))}catch(I){I instanceof Mf||uw(u,I,{raisedBy:"effect"})}finally{await Promise.all(O),cl(D,F5),l(y),y.pending.delete(D)}},x=W5(t,n);return{middleware:y=>N=>w=>{if(!sC(w))return N(w);if(OC.match(w))return m(w.payload);if(Y5.match(w)){x();return}if(AC.match(w))return h(w.payload);let S=y.getState();const D=()=>{if(S===ow)throw new Error(Fr(23));return S};let P;try{if(P=N(w),t.size>0){const O=y.getState(),I=Array.from(t.values());for(const R of I){let M=!1;try{M=R.predicate(w,O,S)}catch(B){M=!1,uw(u,B,{raisedBy:"predicate"})}M&&p(R,w,y,D)}}}finally{S=ow}return P},startListening:m,stopListening:h,clearListeners:x}};function Fr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var X5={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},TC=Gr({name:"chartLayout",initialState:X5,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,l,c;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(l=t.payload.bottom)!==null&&l!==void 0?l:0,e.margin.left=(c=t.payload.left)!==null&&c!==void 0?c:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Z5,setLayout:J5,setChartSize:e_,setScale:t_}=TC.actions,n_=TC.reducer;function dw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function fw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(n),!0).forEach(function(r){r_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r_(e,t,n){return(t=a_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a_(e){var t=i_(e,"string");return typeof t=="symbol"?t:t+""}function i_(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wd=Math.PI/180,s_=e=>e*180/Math.PI,kn=(e,t,n,r)=>({x:e+Math.cos(-Wd*r)*n,y:t+Math.sin(-Wd*r)*n}),DC=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},l_=(e,t)=>{var{x:n,y:r}=e,{x:l,y:c}=t;return Math.sqrt((n-l)**2+(r-c)**2)},o_=(e,t)=>{var{x:n,y:r}=e,{cx:l,cy:c}=t,u=l_({x:n,y:r},{x:l,y:c});if(u<=0)return{radius:u,angle:0};var f=(n-l)/u,m=Math.acos(f);return r>c&&(m=2*Math.PI-m),{radius:u,angle:s_(m),angleInRadian:m}},c_=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),l=Math.floor(n/360),c=Math.min(r,l);return{startAngle:t-c*360,endAngle:n-c*360}},u_=(e,t)=>{var{startAngle:n,endAngle:r}=t,l=Math.floor(n/360),c=Math.floor(r/360),u=Math.min(l,c);return e+u*360},d_=(e,t)=>{var{x:n,y:r}=e,{radius:l,angle:c}=o_({x:n,y:r},t),{innerRadius:u,outerRadius:f}=t;if(l<u||l>f||l===0)return null;var{startAngle:m,endAngle:h}=c_(t),p=c,x;if(m<=h){for(;p>h;)p-=360;for(;p<m;)p+=360;x=p>=m&&p<=h}else{for(;p>m;)p-=360;for(;p<h;)p+=360;x=p>=h&&p<=m}return x?fw(fw({},t),{},{radius:l,angle:u_(p,t)}):null};function EC(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function mw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mw(Object(n),!0).forEach(function(r){f_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f_(e,t,n){return(t=m_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m_(e){var t=h_(e,"string");return typeof t=="symbol"?t:t+""}function h_(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qt(e,t,n){return on(e)||on(t)?n:Fa(t)?hl(e,t,n):typeof t=="function"?t(e):n}var p_=(e,t,n,r,l)=>{var c,u=-1,f=(c=t==null?void 0:t.length)!==null&&c!==void 0?c:0;if(f<=1||e==null)return 0;if(r==="angleAxis"&&l!=null&&Math.abs(Math.abs(l[1]-l[0])-360)<=1e-6)for(var m=0;m<f;m++){var h=m>0?n[m-1].coordinate:n[f-1].coordinate,p=n[m].coordinate,x=m>=f-1?n[0].coordinate:n[m+1].coordinate,b=void 0;if($n(p-h)!==$n(x-p)){var y=[];if($n(x-p)===$n(l[1]-l[0])){b=x;var N=p+l[1]-l[0];y[0]=Math.min(N,(N+h)/2),y[1]=Math.max(N,(N+h)/2)}else{b=h;var w=x+l[1]-l[0];y[0]=Math.min(p,(w+p)/2),y[1]=Math.max(p,(w+p)/2)}var S=[Math.min(p,(b+p)/2),Math.max(p,(b+p)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){({index:u}=n[m]);break}}else{var D=Math.min(h,x),P=Math.max(h,x);if(e>(D+p)/2&&e<=(P+p)/2){({index:u}=n[m]);break}}}else if(t){for(var O=0;O<f;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<f-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===f-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:u}=t[O]);break}}return u},g_=(e,t,n)=>{if(t&&n){var{width:r,height:l}=n,{align:c,verticalAlign:u,layout:f}=t;if((f==="vertical"||f==="horizontal"&&u==="middle")&&c!=="center"&&Ke(e[c]))return ma(ma({},e),{},{[c]:e[c]+(r||0)});if((f==="horizontal"||f==="vertical"&&c==="center")&&u!=="middle"&&Ke(e[u]))return ma(ma({},e),{},{[u]:e[u]+(l||0)})}return e},Cs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",MC=(e,t,n,r)=>{if(r)return e.map(f=>f.coordinate);var l,c,u=e.map(f=>(f.coordinate===t&&(l=!0),f.coordinate===n&&(c=!0),f.coordinate));return l||u.push(t),c||u.push(n),u},_C=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:l,range:c,scale:u,realScaleType:f,isCategorical:m,categoricalDomain:h,tickCount:p,ticks:x,niceTicks:b,axisType:y}=e;if(!u)return null;var N=f==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,w=l==="category"&&u.bandwidth?u.bandwidth()/N:0;if(w=y==="angleAxis"&&c&&c.length>=2?$n(c[0]-c[1])*2*w:w,x||b){var S=(x||b||[]).map((D,P)=>{var O=r?r.indexOf(D):D;return{coordinate:u(O)+w,value:D,offset:w,index:P}});return S.filter(D=>!ga(D.coordinate))}return m&&h?h.map((D,P)=>({coordinate:u(D)+w,value:D,index:P,offset:w})):u.ticks&&p!=null?u.ticks(p).map((D,P)=>({coordinate:u(D)+w,value:D,offset:w,index:P})):u.domain().map((D,P)=>({coordinate:u(D)+w,value:r?r[D]:D,index:P,offset:w}))},hw=1e-4,x_=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),l=Math.min(r[0],r[1])-hw,c=Math.max(r[0],r[1])+hw,u=e(t[0]),f=e(t[n-1]);(u<l||u>c||f<l||f>c)&&e.domain([t[0],t[n-1]])}},v_=(e,t)=>{if(!t||t.length!==2||!Ke(t[0])||!Ke(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),l=[e[0],e[1]];return(!Ke(e[0])||e[0]<n)&&(l[0]=n),(!Ke(e[1])||e[1]>r)&&(l[1]=r),l[0]>r&&(l[0]=r),l[1]<n&&(l[1]=n),l},y_=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var l=0,c=0,u=0;u<t;++u){var f=ga(e[u][n][1])?e[u][n][0]:e[u][n][1];f>=0?(e[u][n][0]=l,e[u][n][1]=l+f,l=e[u][n][1]):(e[u][n][0]=c,e[u][n][1]=c+f,c=e[u][n][1])}},b_=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var l=0,c=0;c<t;++c){var u=ga(e[c][n][1])?e[c][n][0]:e[c][n][1];u>=0?(e[c][n][0]=l,e[c][n][1]=l+u,l=e[c][n][1]):(e[c][n][0]=0,e[c][n][1]=0)}},j_={sign:y_,expand:V6,none:lo,silhouette:K6,wiggle:G6,positive:b_},w_=(e,t,n)=>{var r=j_[n],l=F6().keys(t).value((c,u)=>+Qt(c,u,0)).order(r0).offset(r);return l(e)};function N_(e){return e==null?void 0:String(e)}function pw(e){var{axis:t,ticks:n,bandSize:r,entry:l,index:c,dataKey:u}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!on(l[t.dataKey])){var f=Uk(n,"value",l[t.dataKey]);if(f)return f.coordinate+r/2}return n[c]?n[c].coordinate+r/2:null}var m=Qt(l,on(u)?t.dataKey:u);return on(m)?null:t.scale(m)}var gw=e=>{var{axis:t,ticks:n,offset:r,bandSize:l,entry:c,index:u}=e;if(t.type==="category")return n[u]?n[u].coordinate+r:null;var f=Qt(c,t.dataKey,t.scale.domain()[u]);return on(f)?null:t.scale(f)-l/2+r},S_=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),l=Math.max(n[0],n[1]);return r<=0&&l>=0?0:l<0?l:r}return n[0]},k_=e=>{var t=e.flat(2).filter(Ke);return[Math.min(...t),Math.max(...t)]},C_=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],O_=(e,t,n)=>{if(e!=null)return C_(Object.keys(e).reduce((r,l)=>{var c=e[l],{stackedData:u}=c,f=u.reduce((m,h)=>{var p=EC(h,t,n),x=k_(p);return[Math.min(m[0],x[0]),Math.max(m[1],x[1])]},[1/0,-1/0]);return[Math.min(f[0],r[0]),Math.max(f[1],r[1])]},[1/0,-1/0]))},xw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_c=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var l=Af(t,p=>p.coordinate),c=1/0,u=1,f=l.length;u<f;u++){var m=l[u],h=l[u-1];c=Math.min((m.coordinate||0)-(h.coordinate||0),c)}return c===1/0?0:c}return n?void 0:0};function yw(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:l,name:c}=e;return ma(ma({},t),{},{dataKey:n,payload:r,value:l,name:c})}function vo(e,t){if(e)return String(e);if(typeof t=="string")return t}function A_(e,t,n,r,l){if(n==="horizontal"||n==="vertical"){var c=e>=l.left&&e<=l.left+l.width&&t>=l.top&&t<=l.top+l.height;return c?{x:e,y:t}:null}return r?d_({x:e,y:t},r):null}var T_=(e,t,n,r)=>{var l=t.find(h=>h&&h.index===n);if(l){if(e==="horizontal")return{x:l.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:l.coordinate};if(e==="centric"){var c=l.coordinate,{radius:u}=r;return ma(ma(ma({},r),kn(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}var f=l.coordinate,{angle:m}=r;return ma(ma(ma({},r),kn(r.cx,r.cy,f,m)),{},{angle:m,radius:f})}return{x:0,y:0}},D_=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ii=e=>e.layout.width,Pi=e=>e.layout.height,E_=e=>e.layout.scale,IC=e=>e.layout.margin,If=re(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Pf=re(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),PC="data-recharts-item-index",RC="data-recharts-item-data-key",Wc=60;function bw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bw(Object(n),!0).forEach(function(r){M_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M_(e,t,n){return(t=__(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function __(e){var t=I_(e,"string");return typeof t=="symbol"?t:t+""}function I_(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P_=e=>e.brush.height;function R_(e){var t=Pf(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var l=typeof r.width=="number"?r.width:Wc;return n+l}return n},0)}function L_(e){var t=Pf(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var l=typeof r.width=="number"?r.width:Wc;return n+l}return n},0)}function z_(e){var t=If(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function B_(e){var t=If(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var In=re([Ii,Pi,IC,P_,R_,L_,z_,B_,nC,r5],(e,t,n,r,l,c,u,f,m,h)=>{var p={left:(n.left||0)+l,right:(n.right||0)+c},x={top:(n.top||0)+u,bottom:(n.bottom||0)+f},b=bd(bd({},x),p),y=b.bottom;b.bottom+=r,b=g_(b,m,h);var N=e-b.left-b.right,w=t-b.top-b.bottom;return bd(bd({brushBottom:y},b),{},{width:Math.max(N,0),height:Math.max(w,0)})}),$_=re(In,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),jx=re(Ii,Pi,(e,t)=>({x:0,y:0,width:e,height:t})),U_=j.createContext(null),vr=()=>j.useContext(U_)!=null,Rf=e=>e.brush,Lf=re([Rf,In,IC],(e,t,n)=>({height:e.height,x:Ke(e.x)?e.x:t.left,y:Ke(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Ke(e.width)?e.width:t.width})),fg={},mg={},hg={},jw;function q_(){return jw||(jw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:l,edges:c}={}){let u,f=null;const m=c!=null&&c.includes("leading"),h=c==null||c.includes("trailing"),p=()=>{f!==null&&(n.apply(u,f),u=void 0,f=null)},x=()=>{h&&p(),w()};let b=null;const y=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,x()},r)},N=()=>{b!==null&&(clearTimeout(b),b=null)},w=()=>{N(),u=void 0,f=null},S=()=>{p()},D=function(...P){if(l!=null&&l.aborted)return;u=this,f=P;const O=b==null;y(),m&&O&&p()};return D.schedule=y,D.cancel=w,D.flush=S,l==null||l.addEventListener("abort",w,{once:!0}),D}e.debounce=t})(hg)),hg}var ww;function H_(){return ww||(ww=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q_();function n(r,l=0,c={}){typeof c!="object"&&(c={});const{leading:u=!1,trailing:f=!0,maxWait:m}=c,h=Array(2);u&&(h[0]="leading"),f&&(h[1]="trailing");let p,x=null;const b=t.debounce(function(...w){p=r.apply(this,w),x=null},l,{edges:h}),y=function(...w){return m!=null&&(x===null&&(x=Date.now()),Date.now()-x>=m)?(p=r.apply(this,w),x=Date.now(),b.cancel(),b.schedule(),p):(b.apply(this,w),p)},N=()=>(b.flush(),p);return y.cancel=b.cancel,y.flush=N,y}e.debounce=n})(mg)),mg}var Nw;function F_(){return Nw||(Nw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H_();function n(r,l=0,c={}){const{leading:u=!0,trailing:f=!0}=c;return t.debounce(r,l,{leading:u,maxWait:l,trailing:f})}e.throttle=n})(fg)),fg}var pg,Sw;function V_(){return Sw||(Sw=1,pg=F_().throttle),pg}var K_=V_();const G_=Ka(K_);var Yd=function(t,n){for(var r=arguments.length,l=new Array(r>2?r-2:0),c=2;c<r;c++)l[c-2]=arguments[c]},LC=(e,t,n)=>{var{width:r="100%",height:l="100%",aspect:c,maxHeight:u}=n,f=Ai(r)?e:Number(r),m=Ai(l)?t:Number(l);return c&&c>0&&(f?m=f/c:m&&(f=m*c),u&&m>u&&(m=u)),{calculatedWidth:f,calculatedHeight:m}},W_={width:0,height:0,overflow:"visible"},Y_={width:0,overflowX:"visible"},Q_={height:0,overflowY:"visible"},X_={},Z_=e=>{var{width:t,height:n}=e,r=Ai(t),l=Ai(n);return r&&l?W_:r?Y_:l?Q_:X_};function J_(e){var{width:t,height:n,aspect:r}=e,l=t,c=n;return l===void 0&&c===void 0?(l="100%",c="100%"):l===void 0?l=r&&r>0?void 0:"100%":c===void 0&&(c=r&&r>0?void 0:"100%"),{width:l,height:c}}function cr(e){return Number.isFinite(e)}function oo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h0.apply(null,arguments)}function kw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Cw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kw(Object(n),!0).forEach(function(r){eI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eI(e,t,n){return(t=tI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tI(e){var t=nI(e,"string");return typeof t=="symbol"?t:t+""}function nI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zC=j.createContext({width:-1,height:-1});function BC(e){var{children:t,width:n,height:r}=e,l=j.useMemo(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:j.createElement(zC.Provider,{value:l},t)}var wx=()=>j.useContext(zC),rI=j.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:l,height:c,minWidth:u=0,minHeight:f,maxHeight:m,children:h,debounce:p=0,id:x,className:b,onResize:y,style:N={}}=e,w=j.useRef(null),S=j.useRef();S.current=y,j.useImperativeHandle(t,()=>w.current);var[D,P]=j.useState({containerWidth:r.width,containerHeight:r.height}),O=j.useCallback(($,Y)=>{P(X=>{var le=Math.round($),he=Math.round(Y);return X.containerWidth===le&&X.containerHeight===he?X:{containerWidth:le,containerHeight:he}})},[]);j.useEffect(()=>{var $=he=>{var we,{width:Te,height:De}=he[0].contentRect;O(Te,De),(we=S.current)===null||we===void 0||we.call(S,Te,De)};p>0&&($=G_($,p,{trailing:!0,leading:!1}));var Y=new ResizeObserver($),{width:X,height:le}=w.current.getBoundingClientRect();return O(X,le),Y.observe(w.current),()=>{Y.disconnect()}},[O,p]);var{containerWidth:I,containerHeight:R}=D;Yd(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:M,calculatedHeight:B}=LC(I,R,{width:l,height:c,aspect:n,maxHeight:m});return Yd(M>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,B,l,c,u,f,n),j.createElement("div",{id:x?"".concat(x):void 0,className:Dt("recharts-responsive-container",b),style:Cw(Cw({},N),{},{width:l,height:c,minWidth:u,minHeight:f,maxHeight:m}),ref:w},j.createElement("div",{style:Z_({width:l,height:c})},j.createElement(BC,{width:M,height:B},h)))}),vi=j.forwardRef((e,t)=>{var n=wx();if(oo(n.width)&&oo(n.height))return e.children;var{width:r,height:l}=J_({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:c,calculatedHeight:u}=LC(void 0,void 0,{width:r,height:l,aspect:e.aspect,maxHeight:e.maxHeight});return Ke(c)&&Ke(u)?j.createElement(BC,{width:c,height:u},e.children):j.createElement(rI,h0({},e,{width:r,height:l,ref:t}))}),zf=()=>{var e,t=vr(),n=$e($_),r=$e(Lf),l=(e=$e(Rf))===null||e===void 0?void 0:e.padding;return!t||!r||!l?n:{width:r.width-l.left-l.right,height:r.height-l.top-l.bottom,x:l.left,y:l.top}},aI={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},$C=()=>{var e;return(e=$e(In))!==null&&e!==void 0?e:aI},Nx=()=>$e(Ii),Sx=()=>$e(Pi),iI=()=>$e(e=>e.layout.margin),Ct=e=>e.layout.layoutType,Bf=()=>$e(Ct),$f=e=>{var t=cn(),n=vr(),{width:r,height:l}=e,c=wx(),u=r,f=l;return c&&(u=c.width>0?c.width:r,f=c.height>0?c.height:l),j.useEffect(()=>{!n&&oo(u)&&oo(f)&&t(e_({width:u,height:f}))},[t,n,u,f]),null},sI={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},UC=Gr({name:"legend",initialState:sI,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:hr()},removeLegendPayload:{reducer(e,t){var n=ki(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:hr()}}}),{setLegendSize:Ow,setLegendSettings:lI,addLegendPayload:qC,removeLegendPayload:HC}=UC.actions,oI=UC.reducer,cI=["contextPayload"];function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p0.apply(null,arguments)}function Aw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function co(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(n),!0).forEach(function(r){kx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kx(e,t,n){return(t=uI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uI(e){var t=dI(e,"string");return typeof t=="symbol"?t:t+""}function dI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fI(e,t){if(e==null)return{};var n,r,l=mI(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function mI(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hI(e){return e.value}function pI(e){var{contextPayload:t}=e,n=fI(e,cI),r=Zk(t,e.payloadUniqBy,hI),l=co(co({},n),{},{payload:r});return j.isValidElement(e.content)?j.cloneElement(e.content,l):typeof e.content=="function"?j.createElement(e.content,l):j.createElement(mx,l)}function gI(e,t,n,r,l,c){var{layout:u,align:f,verticalAlign:m}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(f==="center"&&u==="vertical"?h={left:((r||0)-c.width)/2}:h=f==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?p={top:((l||0)-c.height)/2}:p=m==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),co(co({},h),p)}function xI(e){var t=cn();return j.useEffect(()=>{t(lI(e))},[t,e]),null}function vI(e){var t=cn();return j.useEffect(()=>(t(Ow(e)),()=>{t(Ow({width:0,height:0}))}),[t,e]),null}function yI(e){var t=s5(),n=h6(),r=iI(),{width:l,height:c,wrapperStyle:u,portal:f}=e,[m,h]=rC([t]),p=Nx(),x=Sx();if(p==null||x==null)return null;var b=p-(r.left||0)-(r.right||0),y=Ua.getWidthOrHeight(e.layout,c,l,b),N=f?u:co(co({position:"absolute",width:(y==null?void 0:y.width)||l||"auto",height:(y==null?void 0:y.height)||c||"auto"},gI(u,e,r,p,x,m)),u),w=f??n;if(w==null)return null;var S=j.createElement("div",{className:"recharts-legend-wrapper",style:N,ref:h},j.createElement(xI,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),j.createElement(vI,{width:m.width,height:m.height}),j.createElement(pI,p0({},e,y,{margin:r,chartWidth:p,chartHeight:x,contextPayload:t})));return xk.createPortal(S,w)}class Ua extends j.PureComponent{static getWidthOrHeight(t,n,r,l){return t==="vertical"&&Ke(n)?{height:n}:t==="horizontal"?{width:r||l}:null}render(){return j.createElement(yI,this.props)}}kx(Ua,"displayName","Legend");kx(Ua,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g0.apply(null,arguments)}function Tw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function gg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(n),!0).forEach(function(r){bI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bI(e,t,n){return(t=jI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jI(e){var t=wI(e,"string");return typeof t=="symbol"?t:t+""}function wI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NI(e){return Array.isArray(e)&&Fa(e[0])&&Fa(e[1])?e.join(" ~ "):e}var SI=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:l={},payload:c,formatter:u,itemSorter:f,wrapperClassName:m,labelClassName:h,label:p,labelFormatter:x,accessibilityLayer:b=!1}=e,y=()=>{if(c&&c.length){var R={padding:0,margin:0},M=(f?Af(c,f):c).map((B,$)=>{if(B.type==="none")return null;var Y=B.formatter||u||NI,{value:X,name:le}=B,he=X,we=le;if(Y){var Te=Y(X,le,B,$,c);if(Array.isArray(Te))[he,we]=Te;else if(Te!=null)he=Te;else return null}var De=gg({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},r);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:De},Fa(we)?j.createElement("span",{className:"recharts-tooltip-item-name"},we):null,Fa(we)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},he),j.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:R},M)}return null},N=gg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=gg({margin:0},l),S=!on(p),D=S?p:"",P=Dt("recharts-default-tooltip",m),O=Dt("recharts-tooltip-label",h);S&&x&&c!==void 0&&c!==null&&(D=x(p,c));var I=b?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",g0({className:P,style:N},I),j.createElement("p",{className:O,style:w},j.isValidElement(D)?D:"".concat(D)),y())},gc="recharts-tooltip-wrapper",kI={visibility:"hidden"};function CI(e){var{coordinate:t,translateX:n,translateY:r}=e;return Dt(gc,{["".concat(gc,"-right")]:Ke(n)&&t&&Ke(t.x)&&n>=t.x,["".concat(gc,"-left")]:Ke(n)&&t&&Ke(t.x)&&n<t.x,["".concat(gc,"-bottom")]:Ke(r)&&t&&Ke(t.y)&&r>=t.y,["".concat(gc,"-top")]:Ke(r)&&t&&Ke(t.y)&&r<t.y})}function Dw(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:l,position:c,reverseDirection:u,tooltipDimension:f,viewBox:m,viewBoxDimension:h}=e;if(c&&Ke(c[r]))return c[r];var p=n[r]-f-(l>0?l:0),x=n[r]+l;if(t[r])return u[r]?p:x;var b=m[r];if(b==null)return 0;if(u[r]){var y=p,N=b;return y<N?Math.max(x,b):Math.max(p,b)}if(h==null)return 0;var w=x+f,S=b+h;return w>S?Math.max(p,b):Math.max(x,b)}function OI(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function AI(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:l,reverseDirection:c,tooltipBox:u,useTranslate3d:f,viewBox:m}=e,h,p,x;return u.height>0&&u.width>0&&n?(p=Dw({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:l,reverseDirection:c,tooltipDimension:u.width,viewBox:m,viewBoxDimension:m.width}),x=Dw({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:l,reverseDirection:c,tooltipDimension:u.height,viewBox:m,viewBoxDimension:m.height}),h=OI({translateX:p,translateY:x,useTranslate3d:f})):h=kI,{cssProperties:h,cssClasses:CI({translateX:p,translateY:x,coordinate:n})}}function Ew(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function jd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(n),!0).forEach(function(r){x0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ew(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x0(e,t,n){return(t=TI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TI(e){var t=DI(e,"string");return typeof t=="symbol"?t:t+""}function DI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class EI extends j.PureComponent{constructor(){super(...arguments),x0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),x0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,l,c;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(l=(c=this.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&l!==void 0?l:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:l,children:c,coordinate:u,hasPayload:f,isAnimationActive:m,offset:h,position:p,reverseDirection:x,useTranslate3d:b,viewBox:y,wrapperStyle:N,lastBoundingBox:w,innerRef:S,hasPortalFromProps:D}=this.props,{cssClasses:P,cssProperties:O}=AI({allowEscapeViewBox:n,coordinate:u,offsetTopLeft:h,position:p,reverseDirection:x,tooltipBox:{height:w.height,width:w.width},useTranslate3d:b,viewBox:y}),I=D?{}:jd(jd({transition:m&&t?"transform ".concat(r,"ms ").concat(l):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&f?"visible":"hidden",position:"absolute",top:0,left:0}),R=jd(jd({},I),{},{visibility:!this.state.dismissed&&t&&f?"visible":"hidden"},N);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:R,ref:S},c)}}var MI=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Os={devToolsEnabled:!1,isSsr:MI()},FC=()=>$e(e=>e.rootProps.accessibilityLayer);function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v0.apply(null,arguments)}function Mw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function _w(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mw(Object(n),!0).forEach(function(r){_I(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _I(e,t,n){return(t=II(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function II(e){var t=PI(e,"string");return typeof t=="symbol"?t:t+""}function PI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iw={curveBasisClosed:_6,curveBasisOpen:I6,curveBasis:M6,curveBumpX:v6,curveBumpY:y6,curveLinearClosed:P6,curveLinear:Cf,curveMonotoneX:R6,curveMonotoneY:L6,curveNatural:z6,curveStep:B6,curveStepAfter:U6,curveStepBefore:$6},wd=e=>cr(e.x)&&cr(e.y),xc=e=>e.x,vc=e=>e.y,RI=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Fc(e));return(n==="curveMonotone"||n==="curveBump")&&t?Iw["".concat(n).concat(t==="vertical"?"Y":"X")]:Iw[n]||Cf},LI=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:l,connectNulls:c=!1}=e,u=RI(t,l),f=c?n.filter(wd):n,m;if(Array.isArray(r)){var h=c?r.filter(x=>wd(x)):r,p=f.map((x,b)=>_w(_w({},x),{},{base:h[b]}));return l==="vertical"?m=hd().y(vc).x1(xc).x0(x=>x.base.x):m=hd().x(xc).y1(vc).y0(x=>x.base.y),m.defined(wd).curve(u),m(p)}return l==="vertical"&&Ke(r)?m=hd().y(vc).x1(xc).x0(r):Ke(r)?m=hd().x(xc).y1(vc).y0(r):m=Ak().x(xc).y(vc),m.defined(wd).curve(u),m(f)},Cx=e=>{var{className:t,points:n,path:r,pathRef:l}=e;if((!n||!n.length)&&!r)return null;var c=n&&n.length?LI(e):r;return j.createElement("path",v0({},Vr(e),dx(e),{className:Dt("recharts-curve",t),d:c===null?void 0:c,ref:l}))},zI=["x","y","top","left","width","height","className"];function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y0.apply(null,arguments)}function Pw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function BI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(n),!0).forEach(function(r){$I(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $I(e,t,n){return(t=UI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UI(e){var t=qI(e,"string");return typeof t=="symbol"?t:t+""}function qI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HI(e,t){if(e==null)return{};var n,r,l=FI(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function FI(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var VI=(e,t,n,r,l,c)=>"M".concat(e,",").concat(l,"v").concat(r,"M").concat(c,",").concat(t,"h").concat(n),KI=e=>{var{x:t=0,y:n=0,top:r=0,left:l=0,width:c=0,height:u=0,className:f}=e,m=HI(e,zI),h=BI({x:t,y:n,top:r,left:l,width:c,height:u},m);return!Ke(t)||!Ke(n)||!Ke(c)||!Ke(u)||!Ke(r)||!Ke(l)?null:j.createElement("path",y0({},xr(h),{className:Dt("recharts-cross",f),d:VI(t,n,c,u,r,l)}))};function GI(e,t,n,r){var l=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-l:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-l,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Rw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function WI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(n),!0).forEach(function(r){YI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YI(e,t,n){return(t=QI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QI(e){var t=XI(e,"string");return typeof t=="symbol"?t:t+""}function XI(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xn(e,t){var n=WI({},e),r=t,l=Object.keys(t),c=l.reduce((u,f)=>(u[f]===void 0&&r[f]!==void 0&&(u[f]=r[f]),u),n);return c}function ZI(){}function JI(e){return e!=null}function Lw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function zw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lw(Object(n),!0).forEach(function(r){eP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eP(e,t,n){return(t=tP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tP(e){var t=nP(e,"string");return typeof t=="symbol"?t:t+""}function nP(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rP=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),VC=(e,t,n)=>e.map(r=>"".concat(rP(r)," ").concat(t,"ms ").concat(n)).join(","),aP=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(l=>r.includes(l))),Ic=(e,t)=>Object.keys(t).reduce((n,r)=>zw(zw({},n),{},{[r]:e(r,t[r])}),{});function Bw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(n),!0).forEach(function(r){iP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iP(e,t,n){return(t=sP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sP(e){var t=lP(e,"string");return typeof t=="symbol"?t:t+""}function lP(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qd=(e,t,n)=>e+(t-e)*n,b0=e=>{var{from:t,to:n}=e;return t!==n},KC=(e,t,n)=>{var r=Ic((l,c)=>{if(b0(c)){var[u,f]=e(c.from,c.to,c.velocity);return Yn(Yn({},c),{},{from:u,velocity:f})}return c},t);return n<1?Ic((l,c)=>b0(c)?Yn(Yn({},c),{},{velocity:Qd(c.velocity,r[l].velocity,n),from:Qd(c.from,r[l].from,n)}):c,t):KC(e,r,n-1)};function oP(e,t,n,r,l,c){var u,f=r.reduce((b,y)=>Yn(Yn({},b),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),m=()=>Ic((b,y)=>y.from,f),h=()=>!Object.values(f).filter(b0).length,p=null,x=b=>{u||(u=b);var y=b-u,N=y/n.dt;f=KC(n,f,N),l(Yn(Yn(Yn({},e),t),m())),u=b,h()||(p=c.setTimeout(x))};return()=>(p=c.setTimeout(x),()=>{p()})}function cP(e,t,n,r,l,c,u){var f=null,m=l.reduce((x,b)=>Yn(Yn({},x),{},{[b]:[e[b],t[b]]}),{}),h,p=x=>{h||(h=x);var b=(x-h)/r,y=Ic((w,S)=>Qd(...S,n(b)),m);if(c(Yn(Yn(Yn({},e),t),y)),b<1)f=u.setTimeout(p);else{var N=Ic((w,S)=>Qd(...S,n(1)),m);c(Yn(Yn(Yn({},e),t),N))}};return()=>(f=u.setTimeout(p),()=>{f()})}const uP=(e,t,n,r,l,c)=>{var u=aP(e,t);return n.isStepper===!0?oP(e,t,n,u,l,c):cP(e,t,n,r,u,l,c)};var Xd=1e-4,GC=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],WC=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),$w=(e,t)=>n=>{var r=GC(e,t);return WC(r,n)},dP=(e,t)=>n=>{var r=GC(e,t),l=[...r.map((c,u)=>c*u).slice(1),0];return WC(l,n)},Uw=function(){for(var t,n,r,l,c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];if(u.length===1)switch(u[0]){case"linear":[t,r,n,l]=[0,0,1,1];break;case"ease":[t,r,n,l]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,l]=[.42,0,1,1];break;case"ease-out":[t,r,n,l]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,l]=[0,0,.58,1];break;default:{var m=u[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([t,r,n,l]=m[1].split(")")[0].split(",").map(N=>parseFloat(N)))}}else u.length===4&&([t,r,n,l]=u);var h=$w(t,n),p=$w(r,l),x=dP(t,n),b=N=>N>1?1:N<0?0:N,y=N=>{for(var w=N>1?1:N,S=w,D=0;D<8;++D){var P=h(S)-w,O=x(S);if(Math.abs(P-w)<Xd||O<Xd)return p(S);S=b(S-P/O)}return p(S)};return y.isStepper=!1,y},fP=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:l=17}=t,c=(u,f,m)=>{var h=-(u-f)*n,p=m*r,x=m+(h-p)*l/1e3,b=m*l/1e3+u;return Math.abs(b-f)<Xd&&Math.abs(x)<Xd?[f,0]:[b,x]};return c.isStepper=!0,c.dt=l,c},mP=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Uw(e);case"spring":return fP();default:if(e.split("(")[0]==="cubic-bezier")return Uw(e)}return typeof e=="function"?e:null};function hP(e){var t,n=()=>null,r=!1,l=null,c=u=>{if(!r){if(Array.isArray(u)){if(!u.length)return;var f=u,[m,...h]=f;if(typeof m=="number"){l=e.setTimeout(c.bind(null,h),m);return}c(m),l=e.setTimeout(c.bind(null,h));return}typeof u=="string"&&(t=u,n(t)),typeof u=="object"&&(t=u,n(t)),typeof u=="function"&&u()}};return{stop:()=>{r=!0},start:u=>{r=!1,l&&(l(),l=null),c(u)},subscribe:u=>(n=u,()=>{n=()=>null}),getTimeoutController:()=>e}}class pP{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),l=null,c=u=>{u-r>=n?t(u):typeof requestAnimationFrame=="function"&&(l=requestAnimationFrame(c))};return l=requestAnimationFrame(c),()=>{cancelAnimationFrame(l)}}}function gP(){return hP(new pP)}var xP=j.createContext(gP);function vP(e,t){var n=j.useContext(xP);return j.useMemo(()=>t??n(e),[e,t,n])}var yP={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},qw={t:0},xg={t:1};function Yc(e){var t=Xn(e,yP),{isActive:n,canBegin:r,duration:l,easing:c,begin:u,onAnimationEnd:f,onAnimationStart:m,children:h}=t,p=vP(t.animationId,t.animationManager),[x,b]=j.useState(n?qw:xg),y=j.useRef(null);return j.useEffect(()=>{n||b(xg)},[n]),j.useEffect(()=>{if(!n||!r)return ZI;var N=uP(qw,xg,mP(c),l,b,p.getTimeoutController()),w=()=>{y.current=N()};return p.start([m,u,w,l,f]),()=>{p.stop(),y.current&&y.current(),f()}},[n,r,l,c,u,m,f,p]),h(x.t)}function Qc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=j.useRef(Tc(t)),r=j.useRef(e);return r.current!==e&&(n.current=Tc(t),r.current=e),n.current}var bP=["radius"],jP=["radius"];function Hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Fw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(n),!0).forEach(function(r){wP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wP(e,t,n){return(t=NP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NP(e){var t=SP(e,"string");return typeof t=="symbol"?t:t+""}function SP(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zd.apply(null,arguments)}function Vw(e,t){if(e==null)return{};var n,r,l=kP(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function kP(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Kw=(e,t,n,r,l)=>{var c=Math.min(Math.abs(n)/2,Math.abs(r)/2),u=r>=0?1:-1,f=n>=0?1:-1,m=r>=0&&n>=0||r<0&&n<0?1:0,h;if(c>0&&l instanceof Array){for(var p=[0,0,0,0],x=0,b=4;x<b;x++)p[x]=l[x]>c?c:l[x];h="M".concat(e,",").concat(t+u*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(m,",").concat(e+f*p[0],",").concat(t)),h+="L ".concat(e+n-f*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(m,`,
        `).concat(e+n,",").concat(t+u*p[1])),h+="L ".concat(e+n,",").concat(t+r-u*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(m,`,
        `).concat(e+n-f*p[2],",").concat(t+r)),h+="L ".concat(e+f*p[3],",").concat(t+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+r-u*p[3])),h+="Z"}else if(c>0&&l===+l&&l>0){var y=Math.min(c,l);h="M ".concat(e,",").concat(t+u*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e+f*y,",").concat(t,`
            L `).concat(e+n-f*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e+n,",").concat(t+u*y,`
            L `).concat(e+n,",").concat(t+r-u*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e+n-f*y,",").concat(t+r,`
            L `).concat(e+f*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e,",").concat(t+r-u*y," Z")}else h="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},CP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YC=e=>{var t=Xn(e,CP),n=j.useRef(null),[r,l]=j.useState(-1);j.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ce=n.current.getTotalLength();ce&&l(ce)}catch{}},[]);var{x:c,y:u,width:f,height:m,radius:h,className:p}=t,{animationEasing:x,animationDuration:b,animationBegin:y,isAnimationActive:N,isUpdateAnimationActive:w}=t,S=j.useRef(f),D=j.useRef(m),P=j.useRef(c),O=j.useRef(u),I=j.useMemo(()=>({x:c,y:u,width:f,height:m,radius:h}),[c,u,f,m,h]),R=Qc(I,"rectangle-");if(c!==+c||u!==+u||f!==+f||m!==+m||f===0||m===0)return null;var M=Dt("recharts-rectangle",p);if(!w){var B=xr(t),{radius:$}=B,Y=Vw(B,bP);return j.createElement("path",Zd({},Y,{radius:typeof h=="number"?h:void 0,className:M,d:Kw(c,u,f,m,h)}))}var X=S.current,le=D.current,he=P.current,we=O.current,Te="0px ".concat(r===-1?1:r,"px"),De="".concat(r,"px 0px"),Z=VC(["strokeDasharray"],b,typeof x=="string"?x:void 0);return j.createElement(Yc,{animationId:R,key:R,canBegin:r>0,duration:b,easing:x,isActive:w,begin:y},ce=>{var ke=pn(X,f,ce),G=pn(le,m,ce),Ne=pn(he,c,ce),z=pn(we,u,ce);n.current&&(S.current=ke,D.current=G,P.current=Ne,O.current=z);var L;N?ce>0?L={transition:Z,strokeDasharray:De}:L={strokeDasharray:Te}:L={strokeDasharray:De};var se=xr(t),{radius:ve}=se,Ee=Vw(se,jP);return j.createElement("path",Zd({},Ee,{radius:typeof h=="number"?h:void 0,className:M,d:Kw(Ne,z,ke,G,h),ref:n,style:Fw(Fw({},L),t.style)}))})};function QC(e){var{cx:t,cy:n,radius:r,startAngle:l,endAngle:c}=e,u=kn(t,n,r,l),f=kn(t,n,r,c);return{points:[u,f],cx:t,cy:n,radius:r,startAngle:l,endAngle:c}}function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j0.apply(null,arguments)}var OP=(e,t)=>{var n=$n(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Nd=e=>{var{cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:u,cornerRadius:f,cornerIsExternal:m}=e,h=f*(u?1:-1)+r,p=Math.asin(f/h)/Wd,x=m?l:l+c*p,b=kn(t,n,h,x),y=kn(t,n,r,x),N=m?l-c*p:l,w=kn(t,n,h*Math.cos(p*Wd),N);return{center:b,circleTangency:y,lineTangency:w,theta:p}},XC=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:l,startAngle:c,endAngle:u}=e,f=OP(c,u),m=c+f,h=kn(t,n,l,c),p=kn(t,n,l,m),x="M ".concat(h.x,",").concat(h.y,`
    A `).concat(l,",").concat(l,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(c>m),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var b=kn(t,n,r,c),y=kn(t,n,r,m);x+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(c<=m),`,
            `).concat(b.x,",").concat(b.y," Z")}else x+="L ".concat(t,",").concat(n," Z");return x},AP=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:l,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:m,endAngle:h}=e,p=$n(h-m),{circleTangency:x,lineTangency:b,theta:y}=Nd({cx:t,cy:n,radius:l,angle:m,sign:p,cornerRadius:c,cornerIsExternal:f}),{circleTangency:N,lineTangency:w,theta:S}=Nd({cx:t,cy:n,radius:l,angle:h,sign:-p,cornerRadius:c,cornerIsExternal:f}),D=f?Math.abs(m-h):Math.abs(m-h)-y-S;if(D<0)return u?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(c,",").concat(c,",0,0,1,").concat(c*2,`,0
        a`).concat(c,",").concat(c,",0,0,1,").concat(-c*2,`,0
      `):XC({cx:t,cy:n,innerRadius:r,outerRadius:l,startAngle:m,endAngle:h});var P="M ".concat(b.x,",").concat(b.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(p<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(l,",").concat(l,",0,").concat(+(D>180),",").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(c,",").concat(c,",0,0,").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:I,theta:R}=Nd({cx:t,cy:n,radius:r,angle:m,sign:p,isExternal:!0,cornerRadius:c,cornerIsExternal:f}),{circleTangency:M,lineTangency:B,theta:$}=Nd({cx:t,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:c,cornerIsExternal:f}),Y=f?Math.abs(m-h):Math.abs(m-h)-R-$;if(Y<0&&c===0)return"".concat(P,"L").concat(t,",").concat(n,"Z");P+="L".concat(B.x,",").concat(B.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(Y>180),",").concat(+(p>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(c,",").concat(c,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,"Z")}else P+="L".concat(t,",").concat(n,"Z");return P},TP={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ZC=e=>{var t=Xn(e,TP),{cx:n,cy:r,innerRadius:l,outerRadius:c,cornerRadius:u,forceCornerRadius:f,cornerIsExternal:m,startAngle:h,endAngle:p,className:x}=t;if(c<l||h===p)return null;var b=Dt("recharts-sector",x),y=c-l,N=or(u,y,0,!0),w;return N>0&&Math.abs(h-p)<360?w=AP({cx:n,cy:r,innerRadius:l,outerRadius:c,cornerRadius:Math.min(N,y/2),forceCornerRadius:f,cornerIsExternal:m,startAngle:h,endAngle:p}):w=XC({cx:n,cy:r,innerRadius:l,outerRadius:c,startAngle:h,endAngle:p}),j.createElement("path",j0({},xr(t),{className:b,d:w}))};function DP(e,t,n){var r,l,c,u;if(e==="horizontal")r=t.x,c=r,l=n.top,u=n.top+n.height;else if(e==="vertical")l=t.y,u=l,r=n.left,c=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:f,cy:m,innerRadius:h,outerRadius:p,angle:x}=t,b=kn(f,m,h,x),y=kn(f,m,p,x);r=b.x,l=b.y,c=y.x,u=y.y}else return QC(t);return[{x:r,y:l},{x:c,y:u}]}var vg={},yg={},bg={},Gw;function EP(){return Gw||(Gw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eC();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(bg)),bg}var Ww;function MP(){return Ww||(Ww=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EP();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(yg)),yg}var Yw;function _P(){return Yw||(Yw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tC(),n=MP();function r(l,c,u){u&&typeof u!="number"&&t.isIterateeCall(l,c,u)&&(c=u=void 0),l=n.toFinite(l),c===void 0?(c=l,l=0):c=n.toFinite(c),u=u===void 0?l<c?1:-1:n.toFinite(u);const f=Math.max(Math.ceil((c-l)/(u||1)),0),m=new Array(f);for(let h=0;h<f;h++)m[h]=l,l+=u;return m}e.range=r})(vg)),vg}var jg,Qw;function IP(){return Qw||(Qw=1,jg=_P().range),jg}var PP=IP();const JC=Ka(PP);function bs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function RP(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ox(e){let t,n,r;e.length!==2?(t=bs,n=(f,m)=>bs(e(f),m),r=(f,m)=>e(f)-m):(t=e===bs||e===RP?e:LP,n=e,r=e);function l(f,m,h=0,p=f.length){if(h<p){if(t(m,m)!==0)return p;do{const x=h+p>>>1;n(f[x],m)<0?h=x+1:p=x}while(h<p)}return h}function c(f,m,h=0,p=f.length){if(h<p){if(t(m,m)!==0)return p;do{const x=h+p>>>1;n(f[x],m)<=0?h=x+1:p=x}while(h<p)}return h}function u(f,m,h=0,p=f.length){const x=l(f,m,h,p-1);return x>h&&r(f[x-1],m)>-r(f[x],m)?x-1:x}return{left:l,center:u,right:c}}function LP(){return 0}function eO(e){return e===null?NaN:+e}function*zP(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const BP=Ox(bs),Xc=BP.right;Ox(eO).center;class Xw extends Map{constructor(t,n=qP){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,l]of t)this.set(r,l)}get(t){return super.get(Zw(this,t))}has(t){return super.has(Zw(this,t))}set(t,n){return super.set($P(this,t),n)}delete(t){return super.delete(UP(this,t))}}function Zw({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function $P({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function UP({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function qP(e){return e!==null&&typeof e=="object"?e.valueOf():e}function HP(e=bs){if(e===bs)return tO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function tO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const FP=Math.sqrt(50),VP=Math.sqrt(10),KP=Math.sqrt(2);function Jd(e,t,n){const r=(t-e)/Math.max(0,n),l=Math.floor(Math.log10(r)),c=r/Math.pow(10,l),u=c>=FP?10:c>=VP?5:c>=KP?2:1;let f,m,h;return l<0?(h=Math.pow(10,-l)/u,f=Math.round(e*h),m=Math.round(t*h),f/h<e&&++f,m/h>t&&--m,h=-h):(h=Math.pow(10,l)*u,f=Math.round(e/h),m=Math.round(t/h),f*h<e&&++f,m*h>t&&--m),m<f&&.5<=n&&n<2?Jd(e,t,n*2):[f,m,h]}function w0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[l,c,u]=r?Jd(t,e,n):Jd(e,t,n);if(!(c>=l))return[];const f=c-l+1,m=new Array(f);if(r)if(u<0)for(let h=0;h<f;++h)m[h]=(c-h)/-u;else for(let h=0;h<f;++h)m[h]=(c-h)*u;else if(u<0)for(let h=0;h<f;++h)m[h]=(l+h)/-u;else for(let h=0;h<f;++h)m[h]=(l+h)*u;return m}function N0(e,t,n){return t=+t,e=+e,n=+n,Jd(e,t,n)[2]}function S0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,l=r?N0(t,e,n):N0(e,t,n);return(r?-1:1)*(l<0?1/-l:l)}function Jw(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function eN(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function nO(e,t,n=0,r=1/0,l){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(l=l===void 0?tO:HP(l);r>n;){if(r-n>600){const m=r-n+1,h=t-n+1,p=Math.log(m),x=.5*Math.exp(2*p/3),b=.5*Math.sqrt(p*x*(m-x)/m)*(h-m/2<0?-1:1),y=Math.max(n,Math.floor(t-h*x/m+b)),N=Math.min(r,Math.floor(t+(m-h)*x/m+b));nO(e,t,y,N,l)}const c=e[t];let u=n,f=r;for(yc(e,n,t),l(e[r],c)>0&&yc(e,n,r);u<f;){for(yc(e,u,f),++u,--f;l(e[u],c)<0;)++u;for(;l(e[f],c)>0;)--f}l(e[n],c)===0?yc(e,n,f):(++f,yc(e,f,r)),f<=t&&(n=f+1),t<=f&&(r=f-1)}return e}function yc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function GP(e,t,n){if(e=Float64Array.from(zP(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return eN(e);if(t>=1)return Jw(e);var r,l=(r-1)*t,c=Math.floor(l),u=Jw(nO(e,c).subarray(0,c+1)),f=eN(e.subarray(c+1));return u+(f-u)*(l-c)}}function WP(e,t,n=eO){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,l=(r-1)*t,c=Math.floor(l),u=+n(e[c],c,e),f=+n(e[c+1],c+1,e);return u+(f-u)*(l-c)}}function YP(e,t,n){e=+e,t=+t,n=(l=arguments.length)<2?(t=e,e=0,1):l<3?1:+n;for(var r=-1,l=Math.max(0,Math.ceil((t-e)/n))|0,c=new Array(l);++r<l;)c[r]=e+r*n;return c}function ya(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ri(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const k0=Symbol("implicit");function Ax(){var e=new Xw,t=[],n=[],r=k0;function l(c){let u=e.get(c);if(u===void 0){if(r!==k0)return r;e.set(c,u=t.push(c)-1)}return n[u%n.length]}return l.domain=function(c){if(!arguments.length)return t.slice();t=[],e=new Xw;for(const u of c)e.has(u)||e.set(u,t.push(u)-1);return l},l.range=function(c){return arguments.length?(n=Array.from(c),l):n.slice()},l.unknown=function(c){return arguments.length?(r=c,l):r},l.copy=function(){return Ax(t,n).unknown(r)},ya.apply(l,arguments),l}function Tx(){var e=Ax().unknown(void 0),t=e.domain,n=e.range,r=0,l=1,c,u,f=!1,m=0,h=0,p=.5;delete e.unknown;function x(){var b=t().length,y=l<r,N=y?l:r,w=y?r:l;c=(w-N)/Math.max(1,b-m+h*2),f&&(c=Math.floor(c)),N+=(w-N-c*(b-m))*p,u=c*(1-m),f&&(N=Math.round(N),u=Math.round(u));var S=YP(b).map(function(D){return N+c*D});return n(y?S.reverse():S)}return e.domain=function(b){return arguments.length?(t(b),x()):t()},e.range=function(b){return arguments.length?([r,l]=b,r=+r,l=+l,x()):[r,l]},e.rangeRound=function(b){return[r,l]=b,r=+r,l=+l,f=!0,x()},e.bandwidth=function(){return u},e.step=function(){return c},e.round=function(b){return arguments.length?(f=!!b,x()):f},e.padding=function(b){return arguments.length?(m=Math.min(1,h=+b),x()):m},e.paddingInner=function(b){return arguments.length?(m=Math.min(1,b),x()):m},e.paddingOuter=function(b){return arguments.length?(h=+b,x()):h},e.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),x()):p},e.copy=function(){return Tx(t(),[r,l]).round(f).paddingInner(m).paddingOuter(h).align(p)},ya.apply(x(),arguments)}function rO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return rO(t())},e}function QP(){return rO(Tx.apply(null,arguments).paddingInner(1))}function Dx(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function aO(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Zc(){}var Pc=.7,ef=1/Pc,so="\\s*([+-]?\\d+)\\s*",Rc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ha="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XP=/^#([0-9a-f]{3,8})$/,ZP=new RegExp(`^rgb\\(${so},${so},${so}\\)$`),JP=new RegExp(`^rgb\\(${Ha},${Ha},${Ha}\\)$`),eR=new RegExp(`^rgba\\(${so},${so},${so},${Rc}\\)$`),tR=new RegExp(`^rgba\\(${Ha},${Ha},${Ha},${Rc}\\)$`),nR=new RegExp(`^hsl\\(${Rc},${Ha},${Ha}\\)$`),rR=new RegExp(`^hsla\\(${Rc},${Ha},${Ha},${Rc}\\)$`),tN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dx(Zc,Lc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nN,formatHex:nN,formatHex8:aR,formatHsl:iR,formatRgb:rN,toString:rN});function nN(){return this.rgb().formatHex()}function aR(){return this.rgb().formatHex8()}function iR(){return iO(this).formatHsl()}function rN(){return this.rgb().formatRgb()}function Lc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=XP.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?aN(t):n===3?new Or(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Sd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Sd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ZP.exec(e))?new Or(t[1],t[2],t[3],1):(t=JP.exec(e))?new Or(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=eR.exec(e))?Sd(t[1],t[2],t[3],t[4]):(t=tR.exec(e))?Sd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=nR.exec(e))?lN(t[1],t[2]/100,t[3]/100,1):(t=rR.exec(e))?lN(t[1],t[2]/100,t[3]/100,t[4]):tN.hasOwnProperty(e)?aN(tN[e]):e==="transparent"?new Or(NaN,NaN,NaN,0):null}function aN(e){return new Or(e>>16&255,e>>8&255,e&255,1)}function Sd(e,t,n,r){return r<=0&&(e=t=n=NaN),new Or(e,t,n,r)}function sR(e){return e instanceof Zc||(e=Lc(e)),e?(e=e.rgb(),new Or(e.r,e.g,e.b,e.opacity)):new Or}function C0(e,t,n,r){return arguments.length===1?sR(e):new Or(e,t,n,r??1)}function Or(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Dx(Or,C0,aO(Zc,{brighter(e){return e=e==null?ef:Math.pow(ef,e),new Or(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pc:Math.pow(Pc,e),new Or(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Or(dl(this.r),dl(this.g),dl(this.b),tf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iN,formatHex:iN,formatHex8:lR,formatRgb:sN,toString:sN}));function iN(){return`#${sl(this.r)}${sl(this.g)}${sl(this.b)}`}function lR(){return`#${sl(this.r)}${sl(this.g)}${sl(this.b)}${sl((isNaN(this.opacity)?1:this.opacity)*255)}`}function sN(){const e=tf(this.opacity);return`${e===1?"rgb(":"rgba("}${dl(this.r)}, ${dl(this.g)}, ${dl(this.b)}${e===1?")":`, ${e})`}`}function tf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function dl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sl(e){return e=dl(e),(e<16?"0":"")+e.toString(16)}function lN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Da(e,t,n,r)}function iO(e){if(e instanceof Da)return new Da(e.h,e.s,e.l,e.opacity);if(e instanceof Zc||(e=Lc(e)),!e)return new Da;if(e instanceof Da)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,l=Math.min(t,n,r),c=Math.max(t,n,r),u=NaN,f=c-l,m=(c+l)/2;return f?(t===c?u=(n-r)/f+(n<r)*6:n===c?u=(r-t)/f+2:u=(t-n)/f+4,f/=m<.5?c+l:2-c-l,u*=60):f=m>0&&m<1?0:u,new Da(u,f,m,e.opacity)}function oR(e,t,n,r){return arguments.length===1?iO(e):new Da(e,t,n,r??1)}function Da(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Dx(Da,oR,aO(Zc,{brighter(e){return e=e==null?ef:Math.pow(ef,e),new Da(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pc:Math.pow(Pc,e),new Da(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,l=2*n-r;return new Or(wg(e>=240?e-240:e+120,l,r),wg(e,l,r),wg(e<120?e+240:e-120,l,r),this.opacity)},clamp(){return new Da(oN(this.h),kd(this.s),kd(this.l),tf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=tf(this.opacity);return`${e===1?"hsl(":"hsla("}${oN(this.h)}, ${kd(this.s)*100}%, ${kd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function oN(e){return e=(e||0)%360,e<0?e+360:e}function kd(e){return Math.max(0,Math.min(1,e||0))}function wg(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ex=e=>()=>e;function cR(e,t){return function(n){return e+n*t}}function uR(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function dR(e){return(e=+e)==1?sO:function(t,n){return n-t?uR(t,n,e):Ex(isNaN(t)?n:t)}}function sO(e,t){var n=t-e;return n?cR(e,n):Ex(isNaN(e)?t:e)}const cN=(function e(t){var n=dR(t);function r(l,c){var u=n((l=C0(l)).r,(c=C0(c)).r),f=n(l.g,c.g),m=n(l.b,c.b),h=sO(l.opacity,c.opacity);return function(p){return l.r=u(p),l.g=f(p),l.b=m(p),l.opacity=h(p),l+""}}return r.gamma=e,r})(1);function fR(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),l;return function(c){for(l=0;l<n;++l)r[l]=e[l]*(1-c)+t[l]*c;return r}}function mR(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hR(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,l=new Array(r),c=new Array(n),u;for(u=0;u<r;++u)l[u]=yo(e[u],t[u]);for(;u<n;++u)c[u]=t[u];return function(f){for(u=0;u<r;++u)c[u]=l[u](f);return c}}function pR(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function nf(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function gR(e,t){var n={},r={},l;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(l in t)l in e?n[l]=yo(e[l],t[l]):r[l]=t[l];return function(c){for(l in n)r[l]=n[l](c);return r}}var O0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ng=new RegExp(O0.source,"g");function xR(e){return function(){return e}}function vR(e){return function(t){return e(t)+""}}function yR(e,t){var n=O0.lastIndex=Ng.lastIndex=0,r,l,c,u=-1,f=[],m=[];for(e=e+"",t=t+"";(r=O0.exec(e))&&(l=Ng.exec(t));)(c=l.index)>n&&(c=t.slice(n,c),f[u]?f[u]+=c:f[++u]=c),(r=r[0])===(l=l[0])?f[u]?f[u]+=l:f[++u]=l:(f[++u]=null,m.push({i:u,x:nf(r,l)})),n=Ng.lastIndex;return n<t.length&&(c=t.slice(n),f[u]?f[u]+=c:f[++u]=c),f.length<2?m[0]?vR(m[0].x):xR(t):(t=m.length,function(h){for(var p=0,x;p<t;++p)f[(x=m[p]).i]=x.x(h);return f.join("")})}function yo(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ex(t):(n==="number"?nf:n==="string"?(r=Lc(t))?(t=r,cN):yR:t instanceof Lc?cN:t instanceof Date?pR:mR(t)?fR:Array.isArray(t)?hR:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gR:nf)(e,t)}function Mx(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function bR(e,t){t===void 0&&(t=e,e=yo);for(var n=0,r=t.length-1,l=t[0],c=new Array(r<0?0:r);n<r;)c[n]=e(l,l=t[++n]);return function(u){var f=Math.max(0,Math.min(r-1,Math.floor(u*=r)));return c[f](u-f)}}function jR(e){return function(){return e}}function rf(e){return+e}var uN=[0,1];function gr(e){return e}function A0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:jR(isNaN(t)?NaN:.5)}function wR(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function NR(e,t,n){var r=e[0],l=e[1],c=t[0],u=t[1];return l<r?(r=A0(l,r),c=n(u,c)):(r=A0(r,l),c=n(c,u)),function(f){return c(r(f))}}function SR(e,t,n){var r=Math.min(e.length,t.length)-1,l=new Array(r),c=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)l[u]=A0(e[u],e[u+1]),c[u]=n(t[u],t[u+1]);return function(f){var m=Xc(e,f,1,r)-1;return c[m](l[m](f))}}function Jc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Uf(){var e=uN,t=uN,n=yo,r,l,c,u=gr,f,m,h;function p(){var b=Math.min(e.length,t.length);return u!==gr&&(u=wR(e[0],e[b-1])),f=b>2?SR:NR,m=h=null,x}function x(b){return b==null||isNaN(b=+b)?c:(m||(m=f(e.map(r),t,n)))(r(u(b)))}return x.invert=function(b){return u(l((h||(h=f(t,e.map(r),nf)))(b)))},x.domain=function(b){return arguments.length?(e=Array.from(b,rf),p()):e.slice()},x.range=function(b){return arguments.length?(t=Array.from(b),p()):t.slice()},x.rangeRound=function(b){return t=Array.from(b),n=Mx,p()},x.clamp=function(b){return arguments.length?(u=b?!0:gr,p()):u!==gr},x.interpolate=function(b){return arguments.length?(n=b,p()):n},x.unknown=function(b){return arguments.length?(c=b,x):c},function(b,y){return r=b,l=y,p()}}function _x(){return Uf()(gr,gr)}function kR(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function af(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function uo(e){return e=af(Math.abs(e)),e?e[1]:NaN}function CR(e,t){return function(n,r){for(var l=n.length,c=[],u=0,f=e[0],m=0;l>0&&f>0&&(m+f+1>r&&(f=Math.max(1,r-m)),c.push(n.substring(l-=f,l+f)),!((m+=f+1)>r));)f=e[u=(u+1)%e.length];return c.reverse().join(t)}}function OR(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var AR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zc(e){if(!(t=AR.exec(e)))throw new Error("invalid format: "+e);var t;return new Ix({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}zc.prototype=Ix.prototype;function Ix(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ix.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function TR(e){e:for(var t=e.length,n=1,r=-1,l;n<t;++n)switch(e[n]){case".":r=l=n;break;case"0":r===0&&(r=n),l=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(l+1):e}var lO;function DR(e,t){var n=af(e,t);if(!n)return e+"";var r=n[0],l=n[1],c=l-(lO=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,u=r.length;return c===u?r:c>u?r+new Array(c-u+1).join("0"):c>0?r.slice(0,c)+"."+r.slice(c):"0."+new Array(1-c).join("0")+af(e,Math.max(0,t+c-1))[0]}function dN(e,t){var n=af(e,t);if(!n)return e+"";var r=n[0],l=n[1];return l<0?"0."+new Array(-l).join("0")+r:r.length>l+1?r.slice(0,l+1)+"."+r.slice(l+1):r+new Array(l-r.length+2).join("0")}const fN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:kR,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dN(e*100,t),r:dN,s:DR,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function mN(e){return e}var hN=Array.prototype.map,pN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ER(e){var t=e.grouping===void 0||e.thousands===void 0?mN:CR(hN.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",l=e.decimal===void 0?".":e.decimal+"",c=e.numerals===void 0?mN:OR(hN.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function h(x){x=zc(x);var b=x.fill,y=x.align,N=x.sign,w=x.symbol,S=x.zero,D=x.width,P=x.comma,O=x.precision,I=x.trim,R=x.type;R==="n"?(P=!0,R="g"):fN[R]||(O===void 0&&(O=12),I=!0,R="g"),(S||b==="0"&&y==="=")&&(S=!0,b="0",y="=");var M=w==="$"?n:w==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",B=w==="$"?r:/[%p]/.test(R)?u:"",$=fN[R],Y=/[defgprs%]/.test(R);O=O===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function X(le){var he=M,we=B,Te,De,Z;if(R==="c")we=$(le)+we,le="";else{le=+le;var ce=le<0||1/le<0;if(le=isNaN(le)?m:$(Math.abs(le),O),I&&(le=TR(le)),ce&&+le==0&&N!=="+"&&(ce=!1),he=(ce?N==="("?N:f:N==="-"||N==="("?"":N)+he,we=(R==="s"?pN[8+lO/3]:"")+we+(ce&&N==="("?")":""),Y){for(Te=-1,De=le.length;++Te<De;)if(Z=le.charCodeAt(Te),48>Z||Z>57){we=(Z===46?l+le.slice(Te+1):le.slice(Te))+we,le=le.slice(0,Te);break}}}P&&!S&&(le=t(le,1/0));var ke=he.length+le.length+we.length,G=ke<D?new Array(D-ke+1).join(b):"";switch(P&&S&&(le=t(G+le,G.length?D-we.length:1/0),G=""),y){case"<":le=he+le+we+G;break;case"=":le=he+G+le+we;break;case"^":le=G.slice(0,ke=G.length>>1)+he+le+we+G.slice(ke);break;default:le=G+he+le+we;break}return c(le)}return X.toString=function(){return x+""},X}function p(x,b){var y=h((x=zc(x),x.type="f",x)),N=Math.max(-8,Math.min(8,Math.floor(uo(b)/3)))*3,w=Math.pow(10,-N),S=pN[8+N/3];return function(D){return y(w*D)+S}}return{format:h,formatPrefix:p}}var Cd,Px,oO;MR({thousands:",",grouping:[3],currency:["$",""]});function MR(e){return Cd=ER(e),Px=Cd.format,oO=Cd.formatPrefix,Cd}function _R(e){return Math.max(0,-uo(Math.abs(e)))}function IR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(uo(t)/3)))*3-uo(Math.abs(e)))}function PR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,uo(t)-uo(e))+1}function cO(e,t,n,r){var l=S0(e,t,n),c;switch(r=zc(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(c=IR(l,u))&&(r.precision=c),oO(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(c=PR(l,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=c-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(c=_R(l))&&(r.precision=c-(r.type==="%")*2);break}}return Px(r)}function As(e){var t=e.domain;return e.ticks=function(n){var r=t();return w0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var l=t();return cO(l[0],l[l.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),l=0,c=r.length-1,u=r[l],f=r[c],m,h,p=10;for(f<u&&(h=u,u=f,f=h,h=l,l=c,c=h);p-- >0;){if(h=N0(u,f,n),h===m)return r[l]=u,r[c]=f,t(r);if(h>0)u=Math.floor(u/h)*h,f=Math.ceil(f/h)*h;else if(h<0)u=Math.ceil(u*h)/h,f=Math.floor(f*h)/h;else break;m=h}return e},e}function uO(){var e=_x();return e.copy=function(){return Jc(e,uO())},ya.apply(e,arguments),As(e)}function dO(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,rf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return dO(e).unknown(t)},e=arguments.length?Array.from(e,rf):[0,1],As(n)}function fO(e,t){e=e.slice();var n=0,r=e.length-1,l=e[n],c=e[r],u;return c<l&&(u=n,n=r,r=u,u=l,l=c,c=u),e[n]=t.floor(l),e[r]=t.ceil(c),e}function gN(e){return Math.log(e)}function xN(e){return Math.exp(e)}function RR(e){return-Math.log(-e)}function LR(e){return-Math.exp(-e)}function zR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function BR(e){return e===10?zR:e===Math.E?Math.exp:t=>Math.pow(e,t)}function $R(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function vN(e){return(t,n)=>-e(-t,n)}function Rx(e){const t=e(gN,xN),n=t.domain;let r=10,l,c;function u(){return l=$R(r),c=BR(r),n()[0]<0?(l=vN(l),c=vN(c),e(RR,LR)):e(gN,xN),t}return t.base=function(f){return arguments.length?(r=+f,u()):r},t.domain=function(f){return arguments.length?(n(f),u()):n()},t.ticks=f=>{const m=n();let h=m[0],p=m[m.length-1];const x=p<h;x&&([h,p]=[p,h]);let b=l(h),y=l(p),N,w;const S=f==null?10:+f;let D=[];if(!(r%1)&&y-b<S){if(b=Math.floor(b),y=Math.ceil(y),h>0){for(;b<=y;++b)for(N=1;N<r;++N)if(w=b<0?N/c(-b):N*c(b),!(w<h)){if(w>p)break;D.push(w)}}else for(;b<=y;++b)for(N=r-1;N>=1;--N)if(w=b>0?N/c(-b):N*c(b),!(w<h)){if(w>p)break;D.push(w)}D.length*2<S&&(D=w0(h,p,S))}else D=w0(b,y,Math.min(y-b,S)).map(c);return x?D.reverse():D},t.tickFormat=(f,m)=>{if(f==null&&(f=10),m==null&&(m=r===10?"s":","),typeof m!="function"&&(!(r%1)&&(m=zc(m)).precision==null&&(m.trim=!0),m=Px(m)),f===1/0)return m;const h=Math.max(1,r*f/t.ticks().length);return p=>{let x=p/c(Math.round(l(p)));return x*r<r-.5&&(x*=r),x<=h?m(p):""}},t.nice=()=>n(fO(n(),{floor:f=>c(Math.floor(l(f))),ceil:f=>c(Math.ceil(l(f)))})),t}function mO(){const e=Rx(Uf()).domain([1,10]);return e.copy=()=>Jc(e,mO()).base(e.base()),ya.apply(e,arguments),e}function yN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function bN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Lx(e){var t=1,n=e(yN(t),bN(t));return n.constant=function(r){return arguments.length?e(yN(t=+r),bN(t)):t},As(n)}function hO(){var e=Lx(Uf());return e.copy=function(){return Jc(e,hO()).constant(e.constant())},ya.apply(e,arguments)}function jN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function UR(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function qR(e){return e<0?-e*e:e*e}function zx(e){var t=e(gr,gr),n=1;function r(){return n===1?e(gr,gr):n===.5?e(UR,qR):e(jN(n),jN(1/n))}return t.exponent=function(l){return arguments.length?(n=+l,r()):n},As(t)}function Bx(){var e=zx(Uf());return e.copy=function(){return Jc(e,Bx()).exponent(e.exponent())},ya.apply(e,arguments),e}function HR(){return Bx.apply(null,arguments).exponent(.5)}function wN(e){return Math.sign(e)*e*e}function FR(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function pO(){var e=_x(),t=[0,1],n=!1,r;function l(c){var u=FR(e(c));return isNaN(u)?r:n?Math.round(u):u}return l.invert=function(c){return e.invert(wN(c))},l.domain=function(c){return arguments.length?(e.domain(c),l):e.domain()},l.range=function(c){return arguments.length?(e.range((t=Array.from(c,rf)).map(wN)),l):t.slice()},l.rangeRound=function(c){return l.range(c).round(!0)},l.round=function(c){return arguments.length?(n=!!c,l):n},l.clamp=function(c){return arguments.length?(e.clamp(c),l):e.clamp()},l.unknown=function(c){return arguments.length?(r=c,l):r},l.copy=function(){return pO(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ya.apply(l,arguments),As(l)}function gO(){var e=[],t=[],n=[],r;function l(){var u=0,f=Math.max(1,t.length);for(n=new Array(f-1);++u<f;)n[u-1]=WP(e,u/f);return c}function c(u){return u==null||isNaN(u=+u)?r:t[Xc(n,u)]}return c.invertExtent=function(u){var f=t.indexOf(u);return f<0?[NaN,NaN]:[f>0?n[f-1]:e[0],f<n.length?n[f]:e[e.length-1]]},c.domain=function(u){if(!arguments.length)return e.slice();e=[];for(let f of u)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(bs),l()},c.range=function(u){return arguments.length?(t=Array.from(u),l()):t.slice()},c.unknown=function(u){return arguments.length?(r=u,c):r},c.quantiles=function(){return n.slice()},c.copy=function(){return gO().domain(e).range(t).unknown(r)},ya.apply(c,arguments)}function xO(){var e=0,t=1,n=1,r=[.5],l=[0,1],c;function u(m){return m!=null&&m<=m?l[Xc(r,m,0,n)]:c}function f(){var m=-1;for(r=new Array(n);++m<n;)r[m]=((m+1)*t-(m-n)*e)/(n+1);return u}return u.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,f()):[e,t]},u.range=function(m){return arguments.length?(n=(l=Array.from(m)).length-1,f()):l.slice()},u.invertExtent=function(m){var h=l.indexOf(m);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},u.unknown=function(m){return arguments.length&&(c=m),u},u.thresholds=function(){return r.slice()},u.copy=function(){return xO().domain([e,t]).range(l).unknown(c)},ya.apply(As(u),arguments)}function vO(){var e=[.5],t=[0,1],n,r=1;function l(c){return c!=null&&c<=c?t[Xc(e,c,0,r)]:n}return l.domain=function(c){return arguments.length?(e=Array.from(c),r=Math.min(e.length,t.length-1),l):e.slice()},l.range=function(c){return arguments.length?(t=Array.from(c),r=Math.min(e.length,t.length-1),l):t.slice()},l.invertExtent=function(c){var u=t.indexOf(c);return[e[u-1],e[u]]},l.unknown=function(c){return arguments.length?(n=c,l):n},l.copy=function(){return vO().domain(e).range(t).unknown(n)},ya.apply(l,arguments)}const Sg=new Date,kg=new Date;function Pn(e,t,n,r){function l(c){return e(c=arguments.length===0?new Date:new Date(+c)),c}return l.floor=c=>(e(c=new Date(+c)),c),l.ceil=c=>(e(c=new Date(c-1)),t(c,1),e(c),c),l.round=c=>{const u=l(c),f=l.ceil(c);return c-u<f-c?u:f},l.offset=(c,u)=>(t(c=new Date(+c),u==null?1:Math.floor(u)),c),l.range=(c,u,f)=>{const m=[];if(c=l.ceil(c),f=f==null?1:Math.floor(f),!(c<u)||!(f>0))return m;let h;do m.push(h=new Date(+c)),t(c,f),e(c);while(h<c&&c<u);return m},l.filter=c=>Pn(u=>{if(u>=u)for(;e(u),!c(u);)u.setTime(u-1)},(u,f)=>{if(u>=u)if(f<0)for(;++f<=0;)for(;t(u,-1),!c(u););else for(;--f>=0;)for(;t(u,1),!c(u););}),n&&(l.count=(c,u)=>(Sg.setTime(+c),kg.setTime(+u),e(Sg),e(kg),Math.floor(n(Sg,kg))),l.every=c=>(c=Math.floor(c),!isFinite(c)||!(c>0)?null:c>1?l.filter(r?u=>r(u)%c===0:u=>l.count(0,u)%c===0):l)),l}const sf=Pn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);sf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):sf);sf.range;const wi=1e3,ha=wi*60,Ni=ha*60,Di=Ni*24,$x=Di*7,NN=Di*30,Cg=Di*365,ll=Pn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getUTCSeconds());ll.range;const Ux=Pn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi)},(e,t)=>{e.setTime(+e+t*ha)},(e,t)=>(t-e)/ha,e=>e.getMinutes());Ux.range;const qx=Pn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ha)},(e,t)=>(t-e)/ha,e=>e.getUTCMinutes());qx.range;const Hx=Pn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi-e.getMinutes()*ha)},(e,t)=>{e.setTime(+e+t*Ni)},(e,t)=>(t-e)/Ni,e=>e.getHours());Hx.range;const Fx=Pn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ni)},(e,t)=>(t-e)/Ni,e=>e.getUTCHours());Fx.range;const eu=Pn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ha)/Di,e=>e.getDate()-1);eu.range;const qf=Pn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Di,e=>e.getUTCDate()-1);qf.range;const yO=Pn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Di,e=>Math.floor(e/Di));yO.range;function Sl(e){return Pn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ha)/$x)}const Hf=Sl(0),lf=Sl(1),VR=Sl(2),KR=Sl(3),fo=Sl(4),GR=Sl(5),WR=Sl(6);Hf.range;lf.range;VR.range;KR.range;fo.range;GR.range;WR.range;function kl(e){return Pn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/$x)}const Ff=kl(0),of=kl(1),YR=kl(2),QR=kl(3),mo=kl(4),XR=kl(5),ZR=kl(6);Ff.range;of.range;YR.range;QR.range;mo.range;XR.range;ZR.range;const Vx=Pn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Vx.range;const Kx=Pn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Kx.range;const Ei=Pn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ei.range;const Mi=Pn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Mi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Mi.range;function bO(e,t,n,r,l,c){const u=[[ll,1,wi],[ll,5,5*wi],[ll,15,15*wi],[ll,30,30*wi],[c,1,ha],[c,5,5*ha],[c,15,15*ha],[c,30,30*ha],[l,1,Ni],[l,3,3*Ni],[l,6,6*Ni],[l,12,12*Ni],[r,1,Di],[r,2,2*Di],[n,1,$x],[t,1,NN],[t,3,3*NN],[e,1,Cg]];function f(h,p,x){const b=p<h;b&&([h,p]=[p,h]);const y=x&&typeof x.range=="function"?x:m(h,p,x),N=y?y.range(h,+p+1):[];return b?N.reverse():N}function m(h,p,x){const b=Math.abs(p-h)/x,y=Ox(([,,S])=>S).right(u,b);if(y===u.length)return e.every(S0(h/Cg,p/Cg,x));if(y===0)return sf.every(Math.max(S0(h,p,x),1));const[N,w]=u[b/u[y-1][2]<u[y][2]/b?y-1:y];return N.every(w)}return[f,m]}const[JR,eL]=bO(Mi,Kx,Ff,yO,Fx,qx),[tL,nL]=bO(Ei,Vx,Hf,eu,Hx,Ux);function Og(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ag(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function bc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function rL(e){var t=e.dateTime,n=e.date,r=e.time,l=e.periods,c=e.days,u=e.shortDays,f=e.months,m=e.shortMonths,h=jc(l),p=wc(l),x=jc(c),b=wc(c),y=jc(u),N=wc(u),w=jc(f),S=wc(f),D=jc(m),P=wc(m),O={a:ce,A:ke,b:G,B:Ne,c:null,d:TN,e:TN,f:CL,g:RL,G:zL,H:NL,I:SL,j:kL,L:jO,m:OL,M:AL,p:z,q:L,Q:MN,s:_N,S:TL,u:DL,U:EL,V:ML,w:_L,W:IL,x:null,X:null,y:PL,Y:LL,Z:BL,"%":EN},I={a:se,A:ve,b:Ee,B:_e,c:null,d:DN,e:DN,f:HL,g:JL,G:tz,H:$L,I:UL,j:qL,L:NO,m:FL,M:VL,p:nt,q:ct,Q:MN,s:_N,S:KL,u:GL,U:WL,V:YL,w:QL,W:XL,x:null,X:null,y:ZL,Y:ez,Z:nz,"%":EN},R={a:X,A:le,b:he,B:we,c:Te,d:ON,e:ON,f:yL,g:CN,G:kN,H:AN,I:AN,j:pL,L:vL,m:hL,M:gL,p:Y,q:mL,Q:jL,s:wL,S:xL,u:oL,U:cL,V:uL,w:lL,W:dL,x:De,X:Z,y:CN,Y:kN,Z:fL,"%":bL};O.x=M(n,O),O.X=M(r,O),O.c=M(t,O),I.x=M(n,I),I.X=M(r,I),I.c=M(t,I);function M(ue,Fe){return function(Ye){var me=[],bt=-1,qe=0,be=ue.length,ge,lt,ye;for(Ye instanceof Date||(Ye=new Date(+Ye));++bt<be;)ue.charCodeAt(bt)===37&&(me.push(ue.slice(qe,bt)),(lt=SN[ge=ue.charAt(++bt)])!=null?ge=ue.charAt(++bt):lt=ge==="e"?" ":"0",(ye=Fe[ge])&&(ge=ye(Ye,lt)),me.push(ge),qe=bt+1);return me.push(ue.slice(qe,bt)),me.join("")}}function B(ue,Fe){return function(Ye){var me=bc(1900,void 0,1),bt=$(me,ue,Ye+="",0),qe,be;if(bt!=Ye.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(Fe&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(qe=Ag(bc(me.y,0,1)),be=qe.getUTCDay(),qe=be>4||be===0?of.ceil(qe):of(qe),qe=qf.offset(qe,(me.V-1)*7),me.y=qe.getUTCFullYear(),me.m=qe.getUTCMonth(),me.d=qe.getUTCDate()+(me.w+6)%7):(qe=Og(bc(me.y,0,1)),be=qe.getDay(),qe=be>4||be===0?lf.ceil(qe):lf(qe),qe=eu.offset(qe,(me.V-1)*7),me.y=qe.getFullYear(),me.m=qe.getMonth(),me.d=qe.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),be="Z"in me?Ag(bc(me.y,0,1)).getUTCDay():Og(bc(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(be+5)%7:me.w+me.U*7-(be+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,Ag(me)):Og(me)}}function $(ue,Fe,Ye,me){for(var bt=0,qe=Fe.length,be=Ye.length,ge,lt;bt<qe;){if(me>=be)return-1;if(ge=Fe.charCodeAt(bt++),ge===37){if(ge=Fe.charAt(bt++),lt=R[ge in SN?Fe.charAt(bt++):ge],!lt||(me=lt(ue,Ye,me))<0)return-1}else if(ge!=Ye.charCodeAt(me++))return-1}return me}function Y(ue,Fe,Ye){var me=h.exec(Fe.slice(Ye));return me?(ue.p=p.get(me[0].toLowerCase()),Ye+me[0].length):-1}function X(ue,Fe,Ye){var me=y.exec(Fe.slice(Ye));return me?(ue.w=N.get(me[0].toLowerCase()),Ye+me[0].length):-1}function le(ue,Fe,Ye){var me=x.exec(Fe.slice(Ye));return me?(ue.w=b.get(me[0].toLowerCase()),Ye+me[0].length):-1}function he(ue,Fe,Ye){var me=D.exec(Fe.slice(Ye));return me?(ue.m=P.get(me[0].toLowerCase()),Ye+me[0].length):-1}function we(ue,Fe,Ye){var me=w.exec(Fe.slice(Ye));return me?(ue.m=S.get(me[0].toLowerCase()),Ye+me[0].length):-1}function Te(ue,Fe,Ye){return $(ue,t,Fe,Ye)}function De(ue,Fe,Ye){return $(ue,n,Fe,Ye)}function Z(ue,Fe,Ye){return $(ue,r,Fe,Ye)}function ce(ue){return u[ue.getDay()]}function ke(ue){return c[ue.getDay()]}function G(ue){return m[ue.getMonth()]}function Ne(ue){return f[ue.getMonth()]}function z(ue){return l[+(ue.getHours()>=12)]}function L(ue){return 1+~~(ue.getMonth()/3)}function se(ue){return u[ue.getUTCDay()]}function ve(ue){return c[ue.getUTCDay()]}function Ee(ue){return m[ue.getUTCMonth()]}function _e(ue){return f[ue.getUTCMonth()]}function nt(ue){return l[+(ue.getUTCHours()>=12)]}function ct(ue){return 1+~~(ue.getUTCMonth()/3)}return{format:function(ue){var Fe=M(ue+="",O);return Fe.toString=function(){return ue},Fe},parse:function(ue){var Fe=B(ue+="",!1);return Fe.toString=function(){return ue},Fe},utcFormat:function(ue){var Fe=M(ue+="",I);return Fe.toString=function(){return ue},Fe},utcParse:function(ue){var Fe=B(ue+="",!0);return Fe.toString=function(){return ue},Fe}}}var SN={"-":"",_:" ",0:"0"},Un=/^\s*\d+/,aL=/^%/,iL=/[\\^$*+?|[\]().{}]/g;function Et(e,t,n){var r=e<0?"-":"",l=(r?-e:e)+"",c=l.length;return r+(c<n?new Array(n-c+1).join(t)+l:l)}function sL(e){return e.replace(iL,"\\$&")}function jc(e){return new RegExp("^(?:"+e.map(sL).join("|")+")","i")}function wc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function lL(e,t,n){var r=Un.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function oL(e,t,n){var r=Un.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function cL(e,t,n){var r=Un.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function uL(e,t,n){var r=Un.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function dL(e,t,n){var r=Un.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function kN(e,t,n){var r=Un.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function CN(e,t,n){var r=Un.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fL(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mL(e,t,n){var r=Un.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function hL(e,t,n){var r=Un.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ON(e,t,n){var r=Un.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function pL(e,t,n){var r=Un.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function AN(e,t,n){var r=Un.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function gL(e,t,n){var r=Un.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function xL(e,t,n){var r=Un.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function vL(e,t,n){var r=Un.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function yL(e,t,n){var r=Un.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bL(e,t,n){var r=aL.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function jL(e,t,n){var r=Un.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function wL(e,t,n){var r=Un.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function TN(e,t){return Et(e.getDate(),t,2)}function NL(e,t){return Et(e.getHours(),t,2)}function SL(e,t){return Et(e.getHours()%12||12,t,2)}function kL(e,t){return Et(1+eu.count(Ei(e),e),t,3)}function jO(e,t){return Et(e.getMilliseconds(),t,3)}function CL(e,t){return jO(e,t)+"000"}function OL(e,t){return Et(e.getMonth()+1,t,2)}function AL(e,t){return Et(e.getMinutes(),t,2)}function TL(e,t){return Et(e.getSeconds(),t,2)}function DL(e){var t=e.getDay();return t===0?7:t}function EL(e,t){return Et(Hf.count(Ei(e)-1,e),t,2)}function wO(e){var t=e.getDay();return t>=4||t===0?fo(e):fo.ceil(e)}function ML(e,t){return e=wO(e),Et(fo.count(Ei(e),e)+(Ei(e).getDay()===4),t,2)}function _L(e){return e.getDay()}function IL(e,t){return Et(lf.count(Ei(e)-1,e),t,2)}function PL(e,t){return Et(e.getFullYear()%100,t,2)}function RL(e,t){return e=wO(e),Et(e.getFullYear()%100,t,2)}function LL(e,t){return Et(e.getFullYear()%1e4,t,4)}function zL(e,t){var n=e.getDay();return e=n>=4||n===0?fo(e):fo.ceil(e),Et(e.getFullYear()%1e4,t,4)}function BL(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Et(t/60|0,"0",2)+Et(t%60,"0",2)}function DN(e,t){return Et(e.getUTCDate(),t,2)}function $L(e,t){return Et(e.getUTCHours(),t,2)}function UL(e,t){return Et(e.getUTCHours()%12||12,t,2)}function qL(e,t){return Et(1+qf.count(Mi(e),e),t,3)}function NO(e,t){return Et(e.getUTCMilliseconds(),t,3)}function HL(e,t){return NO(e,t)+"000"}function FL(e,t){return Et(e.getUTCMonth()+1,t,2)}function VL(e,t){return Et(e.getUTCMinutes(),t,2)}function KL(e,t){return Et(e.getUTCSeconds(),t,2)}function GL(e){var t=e.getUTCDay();return t===0?7:t}function WL(e,t){return Et(Ff.count(Mi(e)-1,e),t,2)}function SO(e){var t=e.getUTCDay();return t>=4||t===0?mo(e):mo.ceil(e)}function YL(e,t){return e=SO(e),Et(mo.count(Mi(e),e)+(Mi(e).getUTCDay()===4),t,2)}function QL(e){return e.getUTCDay()}function XL(e,t){return Et(of.count(Mi(e)-1,e),t,2)}function ZL(e,t){return Et(e.getUTCFullYear()%100,t,2)}function JL(e,t){return e=SO(e),Et(e.getUTCFullYear()%100,t,2)}function ez(e,t){return Et(e.getUTCFullYear()%1e4,t,4)}function tz(e,t){var n=e.getUTCDay();return e=n>=4||n===0?mo(e):mo.ceil(e),Et(e.getUTCFullYear()%1e4,t,4)}function nz(){return"+0000"}function EN(){return"%"}function MN(e){return+e}function _N(e){return Math.floor(+e/1e3)}var to,kO,CO;rz({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rz(e){return to=rL(e),kO=to.format,to.parse,CO=to.utcFormat,to.utcParse,to}function az(e){return new Date(e)}function iz(e){return e instanceof Date?+e:+new Date(+e)}function Gx(e,t,n,r,l,c,u,f,m,h){var p=_x(),x=p.invert,b=p.domain,y=h(".%L"),N=h(":%S"),w=h("%I:%M"),S=h("%I %p"),D=h("%a %d"),P=h("%b %d"),O=h("%B"),I=h("%Y");function R(M){return(m(M)<M?y:f(M)<M?N:u(M)<M?w:c(M)<M?S:r(M)<M?l(M)<M?D:P:n(M)<M?O:I)(M)}return p.invert=function(M){return new Date(x(M))},p.domain=function(M){return arguments.length?b(Array.from(M,iz)):b().map(az)},p.ticks=function(M){var B=b();return e(B[0],B[B.length-1],M??10)},p.tickFormat=function(M,B){return B==null?R:h(B)},p.nice=function(M){var B=b();return(!M||typeof M.range!="function")&&(M=t(B[0],B[B.length-1],M??10)),M?b(fO(B,M)):p},p.copy=function(){return Jc(p,Gx(e,t,n,r,l,c,u,f,m,h))},p}function sz(){return ya.apply(Gx(tL,nL,Ei,Vx,Hf,eu,Hx,Ux,ll,kO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lz(){return ya.apply(Gx(JR,eL,Mi,Kx,Ff,qf,Fx,qx,ll,CO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Vf(){var e=0,t=1,n,r,l,c,u=gr,f=!1,m;function h(x){return x==null||isNaN(x=+x)?m:u(l===0?.5:(x=(c(x)-n)*l,f?Math.max(0,Math.min(1,x)):x))}h.domain=function(x){return arguments.length?([e,t]=x,n=c(e=+e),r=c(t=+t),l=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(x){return arguments.length?(f=!!x,h):f},h.interpolator=function(x){return arguments.length?(u=x,h):u};function p(x){return function(b){var y,N;return arguments.length?([y,N]=b,u=x(y,N),h):[u(0),u(1)]}}return h.range=p(yo),h.rangeRound=p(Mx),h.unknown=function(x){return arguments.length?(m=x,h):m},function(x){return c=x,n=x(e),r=x(t),l=n===r?0:1/(r-n),h}}function Ts(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function OO(){var e=As(Vf()(gr));return e.copy=function(){return Ts(e,OO())},Ri.apply(e,arguments)}function AO(){var e=Rx(Vf()).domain([1,10]);return e.copy=function(){return Ts(e,AO()).base(e.base())},Ri.apply(e,arguments)}function TO(){var e=Lx(Vf());return e.copy=function(){return Ts(e,TO()).constant(e.constant())},Ri.apply(e,arguments)}function Wx(){var e=zx(Vf());return e.copy=function(){return Ts(e,Wx()).exponent(e.exponent())},Ri.apply(e,arguments)}function oz(){return Wx.apply(null,arguments).exponent(.5)}function DO(){var e=[],t=gr;function n(r){if(r!=null&&!isNaN(r=+r))return t((Xc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let l of r)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(bs),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,l)=>t(l/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(l,c)=>GP(e,c/r))},n.copy=function(){return DO(t).domain(e)},Ri.apply(n,arguments)}function Kf(){var e=0,t=.5,n=1,r=1,l,c,u,f,m,h=gr,p,x=!1,b;function y(w){return isNaN(w=+w)?b:(w=.5+((w=+p(w))-c)*(r*w<r*c?f:m),h(x?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([e,t,n]=w,l=p(e=+e),c=p(t=+t),u=p(n=+n),f=l===c?0:.5/(c-l),m=c===u?0:.5/(u-c),r=c<l?-1:1,y):[e,t,n]},y.clamp=function(w){return arguments.length?(x=!!w,y):x},y.interpolator=function(w){return arguments.length?(h=w,y):h};function N(w){return function(S){var D,P,O;return arguments.length?([D,P,O]=S,h=bR(w,[D,P,O]),y):[h(0),h(.5),h(1)]}}return y.range=N(yo),y.rangeRound=N(Mx),y.unknown=function(w){return arguments.length?(b=w,y):b},function(w){return p=w,l=w(e),c=w(t),u=w(n),f=l===c?0:.5/(c-l),m=c===u?0:.5/(u-c),r=c<l?-1:1,y}}function EO(){var e=As(Kf()(gr));return e.copy=function(){return Ts(e,EO())},Ri.apply(e,arguments)}function MO(){var e=Rx(Kf()).domain([.1,1,10]);return e.copy=function(){return Ts(e,MO()).base(e.base())},Ri.apply(e,arguments)}function _O(){var e=Lx(Kf());return e.copy=function(){return Ts(e,_O()).constant(e.constant())},Ri.apply(e,arguments)}function Yx(){var e=zx(Kf());return e.copy=function(){return Ts(e,Yx()).exponent(e.exponent())},Ri.apply(e,arguments)}function cz(){return Yx.apply(null,arguments).exponent(.5)}const Cc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tx,scaleDiverging:EO,scaleDivergingLog:MO,scaleDivergingPow:Yx,scaleDivergingSqrt:cz,scaleDivergingSymlog:_O,scaleIdentity:dO,scaleImplicit:k0,scaleLinear:uO,scaleLog:mO,scaleOrdinal:Ax,scalePoint:QP,scalePow:Bx,scaleQuantile:gO,scaleQuantize:xO,scaleRadial:pO,scaleSequential:OO,scaleSequentialLog:AO,scaleSequentialPow:Wx,scaleSequentialQuantile:DO,scaleSequentialSqrt:oz,scaleSequentialSymlog:TO,scaleSqrt:HR,scaleSymlog:hO,scaleThreshold:vO,scaleTime:sz,scaleUtc:lz,tickFormat:cO},Symbol.toStringTag,{value:"Module"}));var Ds=e=>e.chartData,Qx=re([Ds],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Gf=(e,t,n,r)=>r?Qx(e):Ds(e);function xl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(cr(t)&&cr(n))return!0}return!1}function IN(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function IO(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,l,c;if(cr(n))l=n;else if(typeof n=="function")return;if(cr(r))c=r;else if(typeof r=="function")return;var u=[l,c];if(xl(u))return u}}function uz(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(xl(r))return IN(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[l,c]=e,u,f;if(l==="auto")t!=null&&(u=Math.min(...t));else if(Ke(l))u=l;else if(typeof l=="function")try{t!=null&&(u=l(t==null?void 0:t[0]))}catch{}else if(typeof l=="string"&&xw.test(l)){var m=xw.exec(l);if(m==null||t==null)u=void 0;else{var h=+m[1];u=t[0]-h}}else u=t==null?void 0:t[0];if(c==="auto")t!=null&&(f=Math.max(...t));else if(Ke(c))f=c;else if(typeof c=="function")try{t!=null&&(f=c(t==null?void 0:t[1]))}catch{}else if(typeof c=="string"&&vw.test(c)){var p=vw.exec(c);if(p==null||t==null)f=void 0;else{var x=+p[1];f=t[1]+x}}else f=t==null?void 0:t[1];var b=[u,f];if(xl(b))return t==null?b:IN(b,t,n)}}}var bo=1e9,dz={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Zx,sn=!0,va="[DecimalError] ",fl=va+"Invalid argument: ",Xx=va+"Exponent out of range: ",jo=Math.floor,al=Math.pow,fz=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Hr,Bn=1e7,tn=7,PO=9007199254740991,cf=jo(PO/tn),Pe={};Pe.absoluteValue=Pe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Pe.comparedTo=Pe.cmp=function(e){var t,n,r,l,c=this;if(e=new c.constructor(e),c.s!==e.s)return c.s||-e.s;if(c.e!==e.e)return c.e>e.e^c.s<0?1:-1;for(r=c.d.length,l=e.d.length,t=0,n=r<l?r:l;t<n;++t)if(c.d[t]!==e.d[t])return c.d[t]>e.d[t]^c.s<0?1:-1;return r===l?0:r>l^c.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*tn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(e){return Ci(this,new this.constructor(e))};Pe.dividedToIntegerBy=Pe.idiv=function(e){var t=this,n=t.constructor;return Kt(Ci(t,new n(e),0,1),n.precision)};Pe.equals=Pe.eq=function(e){return!this.cmp(e)};Pe.exponent=function(){return Cn(this)};Pe.greaterThan=Pe.gt=function(e){return this.cmp(e)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(e){return this.cmp(e)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(e){return this.cmp(e)<0};Pe.lessThanOrEqualTo=Pe.lte=function(e){return this.cmp(e)<1};Pe.logarithm=Pe.log=function(e){var t,n=this,r=n.constructor,l=r.precision,c=l+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Hr))throw Error(va+"NaN");if(n.s<1)throw Error(va+(n.s?"NaN":"-Infinity"));return n.eq(Hr)?new r(0):(sn=!1,t=Ci(Bc(n,c),Bc(e,c),c),sn=!0,Kt(t,l))};Pe.minus=Pe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zO(t,e):RO(t,(e.s=-e.s,e))};Pe.modulo=Pe.mod=function(e){var t,n=this,r=n.constructor,l=r.precision;if(e=new r(e),!e.s)throw Error(va+"NaN");return n.s?(sn=!1,t=Ci(n,e,0,1).times(e),sn=!0,n.minus(t)):Kt(new r(n),l)};Pe.naturalExponential=Pe.exp=function(){return LO(this)};Pe.naturalLogarithm=Pe.ln=function(){return Bc(this)};Pe.negated=Pe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Pe.plus=Pe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RO(t,e):zO(t,(e.s=-e.s,e))};Pe.precision=Pe.sd=function(e){var t,n,r,l=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(fl+e);if(t=Cn(l)+1,r=l.d.length-1,n=r*tn+1,r=l.d[r],r){for(;r%10==0;r/=10)n--;for(r=l.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Pe.squareRoot=Pe.sqrt=function(){var e,t,n,r,l,c,u,f=this,m=f.constructor;if(f.s<1){if(!f.s)return new m(0);throw Error(va+"NaN")}for(e=Cn(f),sn=!1,l=Math.sqrt(+f),l==0||l==1/0?(t=qa(f.d),(t.length+e)%2==0&&(t+="0"),l=Math.sqrt(t),e=jo((e+1)/2)-(e<0||e%2),l==1/0?t="5e"+e:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new m(t)):r=new m(l.toString()),n=m.precision,l=u=n+3;;)if(c=r,r=c.plus(Ci(f,c,u+2)).times(.5),qa(c.d).slice(0,u)===(t=qa(r.d)).slice(0,u)){if(t=t.slice(u-3,u+1),l==u&&t=="4999"){if(Kt(c,n+1,0),c.times(c).eq(f)){r=c;break}}else if(t!="9999")break;u+=4}return sn=!0,Kt(r,n)};Pe.times=Pe.mul=function(e){var t,n,r,l,c,u,f,m,h,p=this,x=p.constructor,b=p.d,y=(e=new x(e)).d;if(!p.s||!e.s)return new x(0);for(e.s*=p.s,n=p.e+e.e,m=b.length,h=y.length,m<h&&(c=b,b=y,y=c,u=m,m=h,h=u),c=[],u=m+h,r=u;r--;)c.push(0);for(r=h;--r>=0;){for(t=0,l=m+r;l>r;)f=c[l]+y[r]*b[l-r-1]+t,c[l--]=f%Bn|0,t=f/Bn|0;c[l]=(c[l]+t)%Bn|0}for(;!c[--u];)c.pop();return t?++n:c.shift(),e.d=c,e.e=n,sn?Kt(e,x.precision):e};Pe.toDecimalPlaces=Pe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Va(e,0,bo),t===void 0?t=r.rounding:Va(t,0,8),Kt(n,e+Cn(n)+1,t))};Pe.toExponential=function(e,t){var n,r=this,l=r.constructor;return e===void 0?n=vl(r,!0):(Va(e,0,bo),t===void 0?t=l.rounding:Va(t,0,8),r=Kt(new l(r),e+1,t),n=vl(r,!0,e+1)),n};Pe.toFixed=function(e,t){var n,r,l=this,c=l.constructor;return e===void 0?vl(l):(Va(e,0,bo),t===void 0?t=c.rounding:Va(t,0,8),r=Kt(new c(l),e+Cn(l)+1,t),n=vl(r.abs(),!1,e+Cn(r)+1),l.isneg()&&!l.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var e=this,t=e.constructor;return Kt(new t(e),Cn(e)+1,t.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(e){var t,n,r,l,c,u,f=this,m=f.constructor,h=12,p=+(e=new m(e));if(!e.s)return new m(Hr);if(f=new m(f),!f.s){if(e.s<1)throw Error(va+"Infinity");return f}if(f.eq(Hr))return f;if(r=m.precision,e.eq(Hr))return Kt(f,r);if(t=e.e,n=e.d.length-1,u=t>=n,c=f.s,u){if((n=p<0?-p:p)<=PO){for(l=new m(Hr),t=Math.ceil(r/tn+4),sn=!1;n%2&&(l=l.times(f),RN(l.d,t)),n=jo(n/2),n!==0;)f=f.times(f),RN(f.d,t);return sn=!0,e.s<0?new m(Hr).div(l):Kt(l,r)}}else if(c<0)throw Error(va+"NaN");return c=c<0&&e.d[Math.max(t,n)]&1?-1:1,f.s=1,sn=!1,l=e.times(Bc(f,r+h)),sn=!0,l=LO(l),l.s=c,l};Pe.toPrecision=function(e,t){var n,r,l=this,c=l.constructor;return e===void 0?(n=Cn(l),r=vl(l,n<=c.toExpNeg||n>=c.toExpPos)):(Va(e,1,bo),t===void 0?t=c.rounding:Va(t,0,8),l=Kt(new c(l),e,t),n=Cn(l),r=vl(l,e<=n||n<=c.toExpNeg,e)),r};Pe.toSignificantDigits=Pe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Va(e,1,bo),t===void 0?t=r.rounding:Va(t,0,8)),Kt(new r(n),e,t)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Cn(e),n=e.constructor;return vl(e,t<=n.toExpNeg||t>=n.toExpPos)};function RO(e,t){var n,r,l,c,u,f,m,h,p=e.constructor,x=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),sn?Kt(t,x):t;if(m=e.d,h=t.d,u=e.e,l=t.e,m=m.slice(),c=u-l,c){for(c<0?(r=m,c=-c,f=h.length):(r=h,l=u,f=m.length),u=Math.ceil(x/tn),f=u>f?u+1:f+1,c>f&&(c=f,r.length=1),r.reverse();c--;)r.push(0);r.reverse()}for(f=m.length,c=h.length,f-c<0&&(c=f,r=h,h=m,m=r),n=0;c;)n=(m[--c]=m[c]+h[c]+n)/Bn|0,m[c]%=Bn;for(n&&(m.unshift(n),++l),f=m.length;m[--f]==0;)m.pop();return t.d=m,t.e=l,sn?Kt(t,x):t}function Va(e,t,n){if(e!==~~e||e<t||e>n)throw Error(fl+e)}function qa(e){var t,n,r,l=e.length-1,c="",u=e[0];if(l>0){for(c+=u,t=1;t<l;t++)r=e[t]+"",n=tn-r.length,n&&(c+=hs(n)),c+=r;u=e[t],r=u+"",n=tn-r.length,n&&(c+=hs(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return c+u}var Ci=(function(){function e(r,l){var c,u=0,f=r.length;for(r=r.slice();f--;)c=r[f]*l+u,r[f]=c%Bn|0,u=c/Bn|0;return u&&r.unshift(u),r}function t(r,l,c,u){var f,m;if(c!=u)m=c>u?1:-1;else for(f=m=0;f<c;f++)if(r[f]!=l[f]){m=r[f]>l[f]?1:-1;break}return m}function n(r,l,c){for(var u=0;c--;)r[c]-=u,u=r[c]<l[c]?1:0,r[c]=u*Bn+r[c]-l[c];for(;!r[0]&&r.length>1;)r.shift()}return function(r,l,c,u){var f,m,h,p,x,b,y,N,w,S,D,P,O,I,R,M,B,$,Y=r.constructor,X=r.s==l.s?1:-1,le=r.d,he=l.d;if(!r.s)return new Y(r);if(!l.s)throw Error(va+"Division by zero");for(m=r.e-l.e,B=he.length,R=le.length,y=new Y(X),N=y.d=[],h=0;he[h]==(le[h]||0);)++h;if(he[h]>(le[h]||0)&&--m,c==null?P=c=Y.precision:u?P=c+(Cn(r)-Cn(l))+1:P=c,P<0)return new Y(0);if(P=P/tn+2|0,h=0,B==1)for(p=0,he=he[0],P++;(h<R||p)&&P--;h++)O=p*Bn+(le[h]||0),N[h]=O/he|0,p=O%he|0;else{for(p=Bn/(he[0]+1)|0,p>1&&(he=e(he,p),le=e(le,p),B=he.length,R=le.length),I=B,w=le.slice(0,B),S=w.length;S<B;)w[S++]=0;$=he.slice(),$.unshift(0),M=he[0],he[1]>=Bn/2&&++M;do p=0,f=t(he,w,B,S),f<0?(D=w[0],B!=S&&(D=D*Bn+(w[1]||0)),p=D/M|0,p>1?(p>=Bn&&(p=Bn-1),x=e(he,p),b=x.length,S=w.length,f=t(x,w,b,S),f==1&&(p--,n(x,B<b?$:he,b))):(p==0&&(f=p=1),x=he.slice()),b=x.length,b<S&&x.unshift(0),n(w,x,S),f==-1&&(S=w.length,f=t(he,w,B,S),f<1&&(p++,n(w,B<S?$:he,S))),S=w.length):f===0&&(p++,w=[0]),N[h++]=p,f&&w[0]?w[S++]=le[I]||0:(w=[le[I]],S=1);while((I++<R||w[0]!==void 0)&&P--)}return N[0]||N.shift(),y.e=m,Kt(y,u?c+Cn(y)+1:c)}})();function LO(e,t){var n,r,l,c,u,f,m=0,h=0,p=e.constructor,x=p.precision;if(Cn(e)>16)throw Error(Xx+Cn(e));if(!e.s)return new p(Hr);for(sn=!1,f=x,u=new p(.03125);e.abs().gte(.1);)e=e.times(u),h+=5;for(r=Math.log(al(2,h))/Math.LN10*2+5|0,f+=r,n=l=c=new p(Hr),p.precision=f;;){if(l=Kt(l.times(e),f),n=n.times(++m),u=c.plus(Ci(l,n,f)),qa(u.d).slice(0,f)===qa(c.d).slice(0,f)){for(;h--;)c=Kt(c.times(c),f);return p.precision=x,t==null?(sn=!0,Kt(c,x)):c}c=u}}function Cn(e){for(var t=e.e*tn,n=e.d[0];n>=10;n/=10)t++;return t}function Tg(e,t,n){if(t>e.LN10.sd())throw sn=!0,n&&(e.precision=n),Error(va+"LN10 precision limit exceeded");return Kt(new e(e.LN10),t)}function hs(e){for(var t="";e--;)t+="0";return t}function Bc(e,t){var n,r,l,c,u,f,m,h,p,x=1,b=10,y=e,N=y.d,w=y.constructor,S=w.precision;if(y.s<1)throw Error(va+(y.s?"NaN":"-Infinity"));if(y.eq(Hr))return new w(0);if(t==null?(sn=!1,h=S):h=t,y.eq(10))return t==null&&(sn=!0),Tg(w,h);if(h+=b,w.precision=h,n=qa(N),r=n.charAt(0),c=Cn(y),Math.abs(c)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=qa(y.d),r=n.charAt(0),x++;c=Cn(y),r>1?(y=new w("0."+n),c++):y=new w(r+"."+n.slice(1))}else return m=Tg(w,h+2,S).times(c+""),y=Bc(new w(r+"."+n.slice(1)),h-b).plus(m),w.precision=S,t==null?(sn=!0,Kt(y,S)):y;for(f=u=y=Ci(y.minus(Hr),y.plus(Hr),h),p=Kt(y.times(y),h),l=3;;){if(u=Kt(u.times(p),h),m=f.plus(Ci(u,new w(l),h)),qa(m.d).slice(0,h)===qa(f.d).slice(0,h))return f=f.times(2),c!==0&&(f=f.plus(Tg(w,h+2,S).times(c+""))),f=Ci(f,new w(x),h),w.precision=S,t==null?(sn=!0,Kt(f,S)):f;f=m,l+=2}}function PN(e,t){var n,r,l;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(l=t.length;t.charCodeAt(l-1)===48;)--l;if(t=t.slice(r,l),t){if(l-=r,n=n-r-1,e.e=jo(n/tn),e.d=[],r=(n+1)%tn,n<0&&(r+=tn),r<l){for(r&&e.d.push(+t.slice(0,r)),l-=tn;r<l;)e.d.push(+t.slice(r,r+=tn));t=t.slice(r),r=tn-t.length}else r-=l;for(;r--;)t+="0";if(e.d.push(+t),sn&&(e.e>cf||e.e<-cf))throw Error(Xx+n)}else e.s=0,e.e=0,e.d=[0];return e}function Kt(e,t,n){var r,l,c,u,f,m,h,p,x=e.d;for(u=1,c=x[0];c>=10;c/=10)u++;if(r=t-u,r<0)r+=tn,l=t,h=x[p=0];else{if(p=Math.ceil((r+1)/tn),c=x.length,p>=c)return e;for(h=c=x[p],u=1;c>=10;c/=10)u++;r%=tn,l=r-tn+u}if(n!==void 0&&(c=al(10,u-l-1),f=h/c%10|0,m=t<0||x[p+1]!==void 0||h%c,m=n<4?(f||m)&&(n==0||n==(e.s<0?3:2)):f>5||f==5&&(n==4||m||n==6&&(r>0?l>0?h/al(10,u-l):0:x[p-1])%10&1||n==(e.s<0?8:7))),t<1||!x[0])return m?(c=Cn(e),x.length=1,t=t-c-1,x[0]=al(10,(tn-t%tn)%tn),e.e=jo(-t/tn)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(r==0?(x.length=p,c=1,p--):(x.length=p+1,c=al(10,tn-r),x[p]=l>0?(h/al(10,u-l)%al(10,l)|0)*c:0),m)for(;;)if(p==0){(x[0]+=c)==Bn&&(x[0]=1,++e.e);break}else{if(x[p]+=c,x[p]!=Bn)break;x[p--]=0,c=1}for(r=x.length;x[--r]===0;)x.pop();if(sn&&(e.e>cf||e.e<-cf))throw Error(Xx+Cn(e));return e}function zO(e,t){var n,r,l,c,u,f,m,h,p,x,b=e.constructor,y=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),sn?Kt(t,y):t;if(m=e.d,x=t.d,r=t.e,h=e.e,m=m.slice(),u=h-r,u){for(p=u<0,p?(n=m,u=-u,f=x.length):(n=x,r=h,f=m.length),l=Math.max(Math.ceil(y/tn),f)+2,u>l&&(u=l,n.length=1),n.reverse(),l=u;l--;)n.push(0);n.reverse()}else{for(l=m.length,f=x.length,p=l<f,p&&(f=l),l=0;l<f;l++)if(m[l]!=x[l]){p=m[l]<x[l];break}u=0}for(p&&(n=m,m=x,x=n,t.s=-t.s),f=m.length,l=x.length-f;l>0;--l)m[f++]=0;for(l=x.length;l>u;){if(m[--l]<x[l]){for(c=l;c&&m[--c]===0;)m[c]=Bn-1;--m[c],m[l]+=Bn}m[l]-=x[l]}for(;m[--f]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(t.d=m,t.e=r,sn?Kt(t,y):t):new b(0)}function vl(e,t,n){var r,l=Cn(e),c=qa(e.d),u=c.length;return t?(n&&(r=n-u)>0?c=c.charAt(0)+"."+c.slice(1)+hs(r):u>1&&(c=c.charAt(0)+"."+c.slice(1)),c=c+(l<0?"e":"e+")+l):l<0?(c="0."+hs(-l-1)+c,n&&(r=n-u)>0&&(c+=hs(r))):l>=u?(c+=hs(l+1-u),n&&(r=n-l-1)>0&&(c=c+"."+hs(r))):((r=l+1)<u&&(c=c.slice(0,r)+"."+c.slice(r)),n&&(r=n-u)>0&&(l+1===u&&(c+="."),c+=hs(r))),e.s<0?"-"+c:c}function RN(e,t){if(e.length>t)return e.length=t,!0}function BO(e){var t,n,r;function l(c){var u=this;if(!(u instanceof l))return new l(c);if(u.constructor=l,c instanceof l){u.s=c.s,u.e=c.e,u.d=(c=c.d)?c.slice():c;return}if(typeof c=="number"){if(c*0!==0)throw Error(fl+c);if(c>0)u.s=1;else if(c<0)c=-c,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(c===~~c&&c<1e7){u.e=0,u.d=[c];return}return PN(u,c.toString())}else if(typeof c!="string")throw Error(fl+c);if(c.charCodeAt(0)===45?(c=c.slice(1),u.s=-1):u.s=1,fz.test(c))PN(u,c);else throw Error(fl+c)}if(l.prototype=Pe,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=BO,l.config=l.set=mz,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return l.config(e),l}function mz(e){if(!e||typeof e!="object")throw Error(va+"Object expected");var t,n,r,l=["precision",1,bo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<l.length;t+=3)if((r=e[n=l[t]])!==void 0)if(jo(r)===r&&r>=l[t+1]&&r<=l[t+2])this[n]=r;else throw Error(fl+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(fl+n+": "+r);return this}var Zx=BO(dz);Hr=new Zx(1);const zt=Zx;var hz=e=>e,$O={},UO=e=>e===$O,LN=e=>function t(){return arguments.length===0||arguments.length===1&&UO(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},qO=(e,t)=>e===1?t:LN(function(){for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];var c=r.filter(u=>u!==$O).length;return c>=e?t(...r):qO(e-c,LN(function(){for(var u=arguments.length,f=new Array(u),m=0;m<u;m++)f[m]=arguments[m];var h=r.map(p=>UO(p)?f.shift():p);return t(...h,...f)}))}),Wf=e=>qO(e.length,e),T0=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},pz=Wf((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),gz=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return hz;var l=n.reverse(),c=l[0],u=l.slice(1);return function(){return u.reduce((f,m)=>m(f),c(...arguments))}},D0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),HO=e=>{var t=null,n=null;return function(){for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return t&&l.every((u,f)=>{var m;return u===((m=t)===null||m===void 0?void 0:m[f])})||(t=l,n=e(...l)),n}};function FO(e){var t;return e===0?t=1:t=Math.floor(new zt(e).abs().log(10).toNumber())+1,t}function VO(e,t,n){for(var r=new zt(e),l=0,c=[];r.lt(t)&&l<1e5;)c.push(r.toNumber()),r=r.add(n),l++;return c}Wf((e,t,n)=>{var r=+e,l=+t;return r+n*(l-r)});Wf((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Wf((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var KO=e=>{var[t,n]=e,[r,l]=[t,n];return t>n&&([r,l]=[n,t]),[r,l]},GO=(e,t,n)=>{if(e.lte(0))return new zt(0);var r=FO(e.toNumber()),l=new zt(10).pow(r),c=e.div(l),u=r!==1?.05:.1,f=new zt(Math.ceil(c.div(u).toNumber())).add(n).mul(u),m=f.mul(l);return t?new zt(m.toNumber()):new zt(Math.ceil(m.toNumber()))},xz=(e,t,n)=>{var r=new zt(1),l=new zt(e);if(!l.isint()&&n){var c=Math.abs(e);c<1?(r=new zt(10).pow(FO(e)-1),l=new zt(Math.floor(l.div(r).toNumber())).mul(r)):c>1&&(l=new zt(Math.floor(e)))}else e===0?l=new zt(Math.floor((t-1)/2)):n||(l=new zt(Math.floor(e)));var u=Math.floor((t-1)/2),f=gz(pz(m=>l.add(new zt(m-u).mul(r)).toNumber()),T0);return f(0,t)},WO=function(t,n,r,l){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new zt(0),tickMin:new zt(0),tickMax:new zt(0)};var u=GO(new zt(n).sub(t).div(r-1),l,c),f;t<=0&&n>=0?f=new zt(0):(f=new zt(t).add(n).div(2),f=f.sub(new zt(f).mod(u)));var m=Math.ceil(f.sub(t).div(u).toNumber()),h=Math.ceil(new zt(n).sub(f).div(u).toNumber()),p=m+h+1;return p>r?WO(t,n,r,l,c+1):(p<r&&(h=n>0?h+(r-p):h,m=n>0?m:m+(r-p)),{step:u,tickMin:f.sub(new zt(m).mul(u)),tickMax:f.add(new zt(h).mul(u))})};function vz(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(r,2),[u,f]=KO([t,n]);if(u===-1/0||f===1/0){var m=f===1/0?[u,...T0(0,r-1).map(()=>1/0)]:[...T0(0,r-1).map(()=>-1/0),f];return t>n?D0(m):m}if(u===f)return xz(u,r,l);var{step:h,tickMin:p,tickMax:x}=WO(u,f,c,l,0),b=VO(p,x.add(new zt(.1).mul(h)),h);return t>n?D0(b):b}function yz(e,t){var[n,r]=e,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=KO([n,r]);if(c===-1/0||u===1/0)return[n,r];if(c===u)return[c];var f=Math.max(t,2),m=GO(new zt(u).sub(c).div(f-1),l,0),h=[...VO(new zt(c),new zt(u),m),u];return l===!1&&(h=h.map(p=>Math.round(p))),n>r?D0(h):h}var bz=HO(vz),jz=HO(yz),YO=e=>e.rootProps.maxBarSize,wz=e=>e.rootProps.barGap,QO=e=>e.rootProps.barCategoryGap,Nz=e=>e.rootProps.barSize,tu=e=>e.rootProps.stackOffset,Jx=e=>e.options.chartName,ev=e=>e.rootProps.syncId,XO=e=>e.rootProps.syncMethod,tv=e=>e.options.eventEmitter,yi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ur={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Yf=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Sz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:yi.angleAxisId,includeHidden:!1,name:void 0,reversed:yi.reversed,scale:yi.scale,tick:yi.tick,tickCount:void 0,ticks:void 0,type:yi.type,unit:void 0},kz={allowDataOverflow:Ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ur.scale,tick:Ur.tick,tickCount:Ur.tickCount,ticks:void 0,type:Ur.type,unit:void 0},Cz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:yi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:yi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:yi.scale,tick:yi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Oz={allowDataOverflow:Ur.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ur.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ur.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ur.scale,tick:Ur.tick,tickCount:Ur.tickCount,ticks:void 0,type:"category",unit:void 0},nv=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Cz:Sz,rv=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Oz:kz,Qf=e=>e.polarOptions,av=re([Ii,Pi,In],DC),ZO=re([Qf,av],(e,t)=>{if(e!=null)return or(e.innerRadius,t,0)}),JO=re([Qf,av],(e,t)=>{if(e!=null)return or(e.outerRadius,t,t*.8)}),Az=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},e3=re([Qf],Az);re([nv,e3],Yf);var t3=re([av,ZO,JO],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});re([rv,t3],Yf);var n3=re([Ct,Qf,ZO,JO,Ii,Pi],(e,t,n,r,l,c)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:u,cy:f,startAngle:m,endAngle:h}=t;return{cx:or(u,l,l/2),cy:or(f,c,c/2),innerRadius:n,outerRadius:r,startAngle:m,endAngle:h,clockWise:!1}}}),un=(e,t)=>t,nu=(e,t,n)=>n;function iv(e){return e==null?void 0:e.id}var Rn=e=>{var t=Ct(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},wo=e=>e.tooltip.settings.axisId,Ln=e=>{var t=Rn(e),n=wo(e);return ru(e,t,n)},r3=re([Ln],e=>e==null?void 0:e.dataKey);function a3(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:l,dataKey:c}=n,u=new Map;return e.forEach(f=>{var m,h=(m=f.data)!==null&&m!==void 0?m:r;if(!(h==null||h.length===0)){var p=iv(f);h.forEach((x,b)=>{var y=c==null||l?b:String(Qt(x,c,null)),N=Qt(x,f.dataKey,0),w;u.has(y)?w=u.get(y):w={},Object.assign(w,{[p]:N}),u.set(y,w)})}}),Array.from(u.values())}function Xf(e){return e.stackId!=null&&e.dataKey!=null}var Zf=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Jf(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function zN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function uf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(n),!0).forEach(function(r){Tz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tz(e,t,n){return(t=Dz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dz(e){var t=Ez(e,"string");return typeof t=="symbol"?t:t+""}function Ez(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E0=[0,"auto"],Br={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},i3=(e,t)=>e.cartesianAxis.xAxis[t],Li=(e,t)=>{var n=i3(e,t);return n??Br},$r={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:E0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Wc},s3=(e,t)=>e.cartesianAxis.yAxis[t],zi=(e,t)=>{var n=s3(e,t);return n??$r},Mz={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},sv=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Mz},dn=(e,t,n)=>{switch(t){case"xAxis":return Li(e,n);case"yAxis":return zi(e,n);case"zAxis":return sv(e,n);case"angleAxis":return nv(e,n);case"radiusAxis":return rv(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},_z=(e,t,n)=>{switch(t){case"xAxis":return Li(e,n);case"yAxis":return zi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ru=(e,t,n)=>{switch(t){case"xAxis":return Li(e,n);case"yAxis":return zi(e,n);case"angleAxis":return nv(e,n);case"radiusAxis":return rv(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},l3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function lv(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var em=e=>e.graphicalItems.cartesianItems,Iz=re([un,nu],lv),ov=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),au=re([em,dn,Iz],ov,{memoizeOptions:{resultEqualityCheck:Jf}}),o3=re([au],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Xf)),c3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Pz=re([au],c3),cv=e=>e.map(t=>t.data).filter(Boolean).flat(1),Rz=re([au],cv,{memoizeOptions:{resultEqualityCheck:Jf}}),uv=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:l}=t;return e.length>0?e:n.slice(r,l+1)},dv=re([Rz,Gf],uv),fv=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Qt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(l=>({value:Qt(l,r)}))):e.map(r=>({value:r})),tm=re([dv,dn,au],fv);function u3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function _d(e){if(Fa(e)||e instanceof Date){var t=Number(e);if(cr(t))return t}}function BN(e){if(Array.isArray(e)){var t=[_d(e[0]),_d(e[1])];return xl(t)?t:void 0}var n=_d(e);if(n!=null)return[n,n]}function No(e){return e.map(_d).filter(JI)}function Lz(e,t,n){return!n||typeof t!="number"||ga(t)?[]:n.length?No(n.flatMap(r=>{var l=Qt(e,r.dataKey),c,u;if(Array.isArray(l)?[c,u]=l:c=u=l,!(!cr(c)||!cr(u)))return[t-c,t+u]})):[]}var zz=re([o3,Gf,Ln],a3),d3=(e,t,n)=>{var r={},l=t.reduce((c,u)=>(u.stackId==null||(c[u.stackId]==null&&(c[u.stackId]=[]),c[u.stackId].push(u)),c),r);return Object.fromEntries(Object.entries(l).map(c=>{var[u,f]=c,m=f.map(iv);return[u,{stackedData:w_(e,m,n),graphicalItems:f}]}))},M0=re([zz,o3,tu],d3),f3=(e,t,n,r)=>{var{dataStartIndex:l,dataEndIndex:c}=t;if(r==null&&n!=="zAxis"){var u=O_(e,l,c);if(!(u!=null&&u[0]===0&&u[1]===0))return u}},Bz=re([dn],e=>e.allowDataOverflow),mv=e=>{var t;if(e==null||!("domain"in e))return E0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=No(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:E0},hv=re([dn],mv),pv=re([hv,Bz],IO),$z=re([M0,Ds,un,pv],f3,{memoizeOptions:{resultEqualityCheck:Zf}}),nm=e=>e.errorBars,Uz=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>u3(n,r)),df=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var l=n.filter(Boolean);if(l.length!==0){var c=l.flat(),u=Math.min(...c),f=Math.max(...c);return[u,f]}},gv=(e,t,n,r,l)=>{var c,u;if(n.length>0&&e.forEach(f=>{n.forEach(m=>{var h,p,x=(h=r[m.id])===null||h===void 0?void 0:h.filter(D=>u3(l,D)),b=Qt(f,(p=t.dataKey)!==null&&p!==void 0?p:m.dataKey),y=Lz(f,b,x);if(y.length>=2){var N=Math.min(...y),w=Math.max(...y);(c==null||N<c)&&(c=N),(u==null||w>u)&&(u=w)}var S=BN(b);S!=null&&(c=c==null?S[0]:Math.min(c,S[0]),u=u==null?S[1]:Math.max(u,S[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(f=>{var m=BN(Qt(f,t.dataKey));m!=null&&(c=c==null?m[0]:Math.min(c,m[0]),u=u==null?m[1]:Math.max(u,m[1]))}),cr(c)&&cr(u))return[c,u]},qz=re([dv,dn,Pz,nm,un],gv,{memoizeOptions:{resultEqualityCheck:Zf}});function Hz(e){var{value:t}=e;if(Fa(t)||t instanceof Date)return t}var Fz=(e,t,n)=>{var r=e.map(Hz).filter(l=>l!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&$k(r))?JC(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},m3=e=>e.referenceElements.dots,So=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Vz=re([m3,un,nu],So),h3=e=>e.referenceElements.areas,Kz=re([h3,un,nu],So),p3=e=>e.referenceElements.lines,Gz=re([p3,un,nu],So),g3=(e,t)=>{var n=No(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Wz=re(Vz,un,g3),x3=(e,t)=>{var n=No(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Yz=re([Kz,un],x3),v3=(e,t)=>{var n=No(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Qz=re(Gz,un,v3),Xz=re(Wz,Qz,Yz,(e,t,n)=>df(e,n,t)),xv=(e,t,n,r,l,c,u,f)=>{if(n!=null)return n;var m=u==="vertical"&&f==="xAxis"||u==="horizontal"&&f==="yAxis",h=m?df(r,c,l):df(c,l);return uz(t,h,e.allowDataOverflow)},Zz=re([dn,hv,pv,$z,qz,Xz,Ct,un],xv,{memoizeOptions:{resultEqualityCheck:Zf}}),Jz=[0,1],vv=(e,t,n,r,l,c,u)=>{if(!((e==null||n==null||n.length===0)&&u===void 0)){var{dataKey:f,type:m}=e,h=Cs(t,c);return h&&f==null?JC(0,n.length):m==="category"?Fz(r,e,h):l==="expand"?Jz:u}},yv=re([dn,Ct,dv,tm,tu,un,Zz],vv),y3=(e,t,n,r,l)=>{if(e!=null){var{scale:c,type:u}=e;if(c==="auto")return t==="radial"&&l==="radiusAxis"?"band":t==="radial"&&l==="angleAxis"?"linear":u==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":u==="category"?"band":"linear";if(typeof c=="string"){var f="scale".concat(Fc(c));return f in Cc?f:"point"}}},ko=re([dn,Ct,l3,Jx,un],y3);function e8(e){if(e!=null){if(e in Cc)return Cc[e]();var t="scale".concat(Fc(e));if(t in Cc)return Cc[t]()}}function bv(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var l=e8(t);if(l!=null){var c=l.domain(n).range(r);return x_(c),c}}}var jv=(e,t,n)=>{var r=mv(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&xl(e))return bz(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&xl(e))return jz(e,t.tickCount,t.allowDecimals)}},wv=re([yv,ru,ko],jv),Nv=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&xl(t)&&Array.isArray(n)&&n.length>0){var l=t[0],c=n[0],u=t[1],f=n[n.length-1];return[Math.min(l,c),Math.max(u,f)]}return t},t8=re([dn,yv,wv,un],Nv),n8=re(tm,dn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(No(e.map(f=>f.value))).sort((f,m)=>f-m);if(r.length<2)return 1/0;var l=r[r.length-1]-r[0];if(l===0)return 1/0;for(var c=0;c<r.length-1;c++){var u=r[c+1]-r[c];n=Math.min(n,u)}return n/l}}),b3=re(n8,Ct,QO,In,(e,t,n,r)=>r,(e,t,n,r,l)=>{if(!cr(e))return 0;var c=t==="vertical"?r.height:r.width;if(l==="gap")return e*c/2;if(l==="no-gap"){var u=or(n,e*c),f=e*c/2;return f-u-(f-u)/c*u}return 0}),r8=(e,t)=>{var n=Li(e,t);return n==null||typeof n.padding!="string"?0:b3(e,"xAxis",t,n.padding)},a8=(e,t)=>{var n=zi(e,t);return n==null||typeof n.padding!="string"?0:b3(e,"yAxis",t,n.padding)},i8=re(Li,r8,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:l}=e;return typeof l=="string"?{left:t,right:t}:{left:((n=l.left)!==null&&n!==void 0?n:0)+t,right:((r=l.right)!==null&&r!==void 0?r:0)+t}}),s8=re(zi,a8,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:l}=e;return typeof l=="string"?{top:t,bottom:t}:{top:((n=l.top)!==null&&n!==void 0?n:0)+t,bottom:((r=l.bottom)!==null&&r!==void 0?r:0)+t}}),l8=re([In,i8,Lf,Rf,(e,t,n)=>n],(e,t,n,r,l)=>{var{padding:c}=r;return l?[c.left,n.width-c.right]:[e.left+t.left,e.left+e.width-t.right]}),o8=re([In,Ct,s8,Lf,Rf,(e,t,n)=>n],(e,t,n,r,l,c)=>{var{padding:u}=l;return c?[r.height-u.bottom,u.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),iu=(e,t,n,r)=>{var l;switch(t){case"xAxis":return l8(e,n,r);case"yAxis":return o8(e,n,r);case"zAxis":return(l=sv(e,n))===null||l===void 0?void 0:l.range;case"angleAxis":return e3(e);case"radiusAxis":return t3(e,n);default:return}},j3=re([dn,iu],Yf),Co=re([dn,ko,t8,j3],bv);re([au,nm,un],Uz);function w3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var rm=(e,t)=>t,am=(e,t,n)=>n,c8=re(If,rm,am,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(w3)),u8=re(Pf,rm,am,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(w3)),N3=(e,t)=>({width:e.width,height:t.height}),d8=(e,t)=>{var n=typeof t.width=="number"?t.width:Wc;return{width:n,height:e.height}},S3=re(In,Li,N3),f8=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},m8=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},h8=re(Pi,In,c8,rm,am,(e,t,n,r,l)=>{var c={},u;return n.forEach(f=>{var m=N3(t,f);u==null&&(u=f8(t,r,e));var h=r==="top"&&!l||r==="bottom"&&l;c[f.id]=u-Number(h)*m.height,u+=(h?-1:1)*m.height}),c}),p8=re(Ii,In,u8,rm,am,(e,t,n,r,l)=>{var c={},u;return n.forEach(f=>{var m=d8(t,f);u==null&&(u=m8(t,r,e));var h=r==="left"&&!l||r==="right"&&l;c[f.id]=u-Number(h)*m.width,u+=(h?-1:1)*m.width}),c}),g8=(e,t)=>{var n=Li(e,t);if(n!=null)return h8(e,n.orientation,n.mirror)},x8=re([In,Li,g8,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var l=n==null?void 0:n[r];return l==null?{x:e.left,y:0}:{x:e.left,y:l}}}),v8=(e,t)=>{var n=zi(e,t);if(n!=null)return p8(e,n.orientation,n.mirror)},y8=re([In,zi,v8,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var l=n==null?void 0:n[r];return l==null?{x:0,y:e.top}:{x:l,y:e.top}}}),k3=re(In,zi,(e,t)=>{var n=typeof t.width=="number"?t.width:Wc;return{width:n,height:e.height}}),$N=(e,t,n)=>{switch(t){case"xAxis":return S3(e,n).width;case"yAxis":return k3(e,n).height;default:return}},C3=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:l,type:c,dataKey:u}=n,f=Cs(e,r),m=t.map(h=>h.value);if(u&&f&&c==="category"&&l&&$k(m))return m}},Sv=re([Ct,tm,dn,un],C3),O3=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:l,scale:c}=n,u=Cs(e,r);if(u&&(l==="number"||c!=="auto"))return t.map(f=>f.value)}},kv=re([Ct,tm,ru,un],O3),UN=re([Ct,_z,ko,Co,Sv,kv,iu,wv,un],(e,t,n,r,l,c,u,f,m)=>{if(t==null)return null;var h=Cs(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:c,duplicateDomain:l,isCategorical:h,niceTicks:f,range:u,realScaleType:n,scale:r}}),b8=(e,t,n,r,l,c,u,f,m)=>{if(!(t==null||r==null)){var h=Cs(e,m),{type:p,ticks:x,tickCount:b}=t,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,N=p==="category"&&r.bandwidth?r.bandwidth()/y:0;N=m==="angleAxis"&&c!=null&&c.length>=2?$n(c[0]-c[1])*2*N:N;var w=x||l;if(w){var S=w.map((D,P)=>{var O=u?u.indexOf(D):D;return{index:P,coordinate:r(O)+N,value:D,offset:N}});return S.filter(D=>!ga(D.coordinate))}return h&&f?f.map((D,P)=>({coordinate:r(D)+N,value:D,index:P,offset:N})):r.ticks?r.ticks(b).map(D=>({coordinate:r(D)+N,value:D,offset:N})):r.domain().map((D,P)=>({coordinate:r(D)+N,value:u?u[D]:D,index:P,offset:N}))}},A3=re([Ct,ru,ko,Co,wv,iu,Sv,kv,un],b8),j8=(e,t,n,r,l,c,u)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var f=Cs(e,u),{tickCount:m}=t,h=0;return h=u==="angleAxis"&&(r==null?void 0:r.length)>=2?$n(r[0]-r[1])*2*h:h,f&&c?c.map((p,x)=>({coordinate:n(p)+h,value:p,index:x,offset:h})):n.ticks?n.ticks(m).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,x)=>({coordinate:n(p)+h,value:l?l[p]:p,index:x,offset:h}))}},js=re([Ct,ru,Co,iu,Sv,kv,un],j8),ws=re(dn,Co,(e,t)=>{if(!(e==null||t==null))return uf(uf({},e),{},{scale:t})}),w8=re([dn,ko,yv,j3],bv);re((e,t,n)=>sv(e,n),w8,(e,t)=>{if(!(e==null||t==null))return uf(uf({},e),{},{scale:t})});var N8=re([Ct,If,Pf],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),T3=e=>e.options.defaultTooltipEventType,D3=e=>e.options.validateTooltipEventTypes;function E3(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Cv(e,t){var n=T3(e),r=D3(e);return E3(t,n,r)}function S8(e){return $e(t=>Cv(t,e))}var M3=(e,t)=>{var n,r=Number(t);if(!(ga(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},k8=e=>e.tooltip.settings,gs={active:!1,index:null,dataKey:void 0,coordinate:void 0},C8={itemInteraction:{click:gs,hover:gs},axisInteraction:{click:gs,hover:gs},keyboardInteraction:gs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},_3=Gr({name:"tooltip",initialState:C8,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:hr()},removeTooltipEntrySettings:{reducer(e,t){var n=ki(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:hr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:O8,removeTooltipEntrySettings:A8,setTooltipSettingsState:T8,setActiveMouseOverItemIndex:I3,mouseLeaveItem:D8,mouseLeaveChart:P3,setActiveClickItemIndex:E8,setMouseOverAxisIndex:R3,setMouseClickAxisIndex:M8,setSyncInteraction:_0,setKeyboardInteraction:I0}=_3.actions,_8=_3.reducer;function qN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(n),!0).forEach(function(r){I8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I8(e,t,n){return(t=P8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P8(e){var t=R8(e,"string");return typeof t=="symbol"?t:t+""}function R8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L8(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function z8(e){return e.index!=null}var L3=(e,t,n,r)=>{if(t==null)return gs;var l=L8(e,t,n);if(l==null)return gs;if(l.active)return l;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var c=e.settings.active===!0;if(z8(l)){if(c)return Od(Od({},l),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Od(Od({},gs),{},{coordinate:l.coordinate})},Ov=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!cr(r))return n;var l=0,c=1/0;return t.length>0&&(c=t.length-1),String(Math.max(l,Math.min(r,c)))},z3=(e,t,n,r,l,c,u,f)=>{if(!(c==null||f==null)){var m=u[0],h=m==null?void 0:f(m.positions,c);if(h!=null)return h;var p=l==null?void 0:l[Number(c)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},B3=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var l;return n==="hover"?l=e.itemInteraction.hover.dataKey:l=e.itemInteraction.click.dataKey,l==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(c=>{var u;return((u=c.settings)===null||u===void 0?void 0:u.dataKey)===l})},su=e=>e.options.tooltipPayloadSearcher,Oo=e=>e.tooltip;function HN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function FN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(n),!0).forEach(function(r){B8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B8(e,t,n){return(t=$8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $8(e){var t=U8(e,"string");return typeof t=="symbol"?t:t+""}function U8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q8(e,t){return e??t}var $3=(e,t,n,r,l,c,u)=>{if(!(t==null||c==null)){var{chartData:f,computedData:m,dataStartIndex:h,dataEndIndex:p}=n,x=[];return e.reduce((b,y)=>{var N,{dataDefinedOnItem:w,settings:S}=y,D=q8(w,f),P=Array.isArray(D)?EC(D,h,p):D,O=(N=S==null?void 0:S.dataKey)!==null&&N!==void 0?N:r,I=S==null?void 0:S.nameKey,R;if(r&&Array.isArray(P)&&!Array.isArray(P[0])&&u==="axis"?R=Uk(P,r,l):R=c(P,t,m,I),Array.isArray(R))R.forEach(B=>{var $=FN(FN({},S),{},{name:B.name,unit:B.unit,color:void 0,fill:void 0});b.push(yw({tooltipEntrySettings:$,dataKey:B.dataKey,payload:B.payload,value:Qt(B.payload,B.dataKey),name:B.name}))});else{var M;b.push(yw({tooltipEntrySettings:S,dataKey:O,payload:R,value:Qt(R,O),name:(M=Qt(R,I))!==null&&M!==void 0?M:S==null?void 0:S.name}))}return b},x)}},Av=re([Ln,Ct,l3,Jx,Rn],y3),H8=re([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),F8=re([Rn,wo],lv),lu=re([H8,Ln,F8],ov,{memoizeOptions:{resultEqualityCheck:Jf}}),V8=re([lu],e=>e.filter(Xf)),K8=re([lu],cv,{memoizeOptions:{resultEqualityCheck:Jf}}),Ao=re([K8,Ds],uv),G8=re([V8,Ds,Ln],a3),Tv=re([Ao,Ln,lu],fv),U3=re([Ln],mv),W8=re([Ln],e=>e.allowDataOverflow),q3=re([U3,W8],IO),Y8=re([lu],e=>e.filter(Xf)),Q8=re([G8,Y8,tu],d3),X8=re([Q8,Ds,Rn,q3],f3),Z8=re([lu],c3),J8=re([Ao,Ln,Z8,nm,Rn],gv,{memoizeOptions:{resultEqualityCheck:Zf}}),eB=re([m3,Rn,wo],So),tB=re([eB,Rn],g3),nB=re([h3,Rn,wo],So),rB=re([nB,Rn],x3),aB=re([p3,Rn,wo],So),iB=re([aB,Rn],v3),sB=re([tB,iB,rB],df),lB=re([Ln,U3,q3,X8,J8,sB,Ct,Rn],xv),H3=re([Ln,Ct,Ao,Tv,tu,Rn,lB],vv),oB=re([H3,Ln,Av],jv),cB=re([Ln,H3,oB,Rn],Nv),F3=e=>{var t=Rn(e),n=wo(e),r=!1;return iu(e,t,n,r)},V3=re([Ln,F3],Yf),K3=re([Ln,Av,cB,V3],bv),uB=re([Ct,Tv,Ln,Rn],C3),dB=re([Ct,Tv,Ln,Rn],O3),fB=(e,t,n,r,l,c,u,f)=>{if(t){var{type:m}=t,h=Cs(e,f);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,x=m==="category"&&r.bandwidth?r.bandwidth()/p:0;return x=f==="angleAxis"&&l!=null&&(l==null?void 0:l.length)>=2?$n(l[0]-l[1])*2*x:x,h&&u?u.map((b,y)=>({coordinate:r(b)+x,value:b,index:y,offset:x})):r.domain().map((b,y)=>({coordinate:r(b)+x,value:c?c[b]:b,index:y,offset:x}))}}},Bi=re([Ct,Ln,Av,K3,F3,uB,dB,Rn],fB),Dv=re([T3,D3,k8],(e,t,n)=>E3(n.shared,e,t)),G3=e=>e.tooltip.settings.trigger,Ev=e=>e.tooltip.settings.defaultIndex,im=re([Oo,Dv,G3,Ev],L3),Ns=re([im,Ao],Ov),W3=re([Bi,Ns],M3),Y3=re([im],e=>{if(e)return e.dataKey}),Q3=re([Oo,Dv,G3,Ev],B3),mB=re([Ii,Pi,Ct,In,Bi,Ev,Q3,su],z3),hB=re([im,mB],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),pB=re([im],e=>e.active),gB=re([Q3,Ns,Ds,r3,W3,su,Dv],$3),xB=re([gB],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function VN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function KN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(n),!0).forEach(function(r){vB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vB(e,t,n){return(t=yB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yB(e){var t=bB(e,"string");return typeof t=="symbol"?t:t+""}function bB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jB=()=>$e(Ln),wB=()=>{var e=jB(),t=$e(Bi),n=$e(K3);return _c(KN(KN({},e),{},{scale:n}),t)},NB=()=>$e(Jx),Mv=(e,t)=>t,X3=(e,t,n)=>n,_v=(e,t,n,r)=>r,SB=re(Bi,e=>Af(e,t=>t.coordinate)),Iv=re([Oo,Mv,X3,_v],L3),Z3=re([Iv,Ao],Ov),kB=(e,t,n)=>{if(t!=null){var r=Oo(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},J3=re([Oo,Mv,X3,_v],B3),ff=re([Ii,Pi,Ct,In,Bi,_v,J3,su],z3),CB=re([Iv,ff],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),eA=re(Bi,Z3,M3),OB=re([J3,Z3,Ds,r3,eA,su,Mv],$3),AB=re([Iv],e=>({isActive:e.active,activeIndex:e.index})),TB=(e,t,n,r,l,c,u,f)=>{if(!(!e||!t||!r||!l||!c)){var m=A_(e.chartX,e.chartY,t,n,f);if(m){var h=D_(m,t),p=p_(h,u,c,r,l),x=T_(t,c,p,m);return{activeIndex:String(p),activeCoordinate:x}}}};function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P0.apply(null,arguments)}function GN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Ad(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(n),!0).forEach(function(r){DB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DB(e,t,n){return(t=EB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EB(e){var t=MB(e,"string");return typeof t=="symbol"?t:t+""}function MB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _B(e){var{coordinate:t,payload:n,index:r,offset:l,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:m,chartName:h}=e,p=t,x=n,b=r;if(!f||!p||h!=="ScatterChart"&&m!=="axis")return null;var y,N;if(h==="ScatterChart")y=p,N=KI;else if(h==="BarChart")y=GI(u,p,l,c),N=YC;else if(u==="radial"){var{cx:w,cy:S,radius:D,startAngle:P,endAngle:O}=QC(p);y={cx:w,cy:S,startAngle:P,endAngle:O,innerRadius:D,outerRadius:D},N=ZC}else y={points:DP(u,p,l)},N=Cx;var I=typeof f=="object"&&"className"in f?f.className:void 0,R=Ad(Ad(Ad(Ad({stroke:"#ccc",pointerEvents:"none"},l),y),ml(f)),{},{payload:x,payloadIndex:b,className:Dt("recharts-tooltip-cursor",I)});return j.isValidElement(f)?j.cloneElement(f,R):j.createElement(N,R)}function IB(e){var t=wB(),n=$C(),r=Bf(),l=NB();return j.createElement(_B,P0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:l}))}var tA=j.createContext(null),PB=()=>j.useContext(tA),Dg={exports:{}},WN;function RB(){return WN||(WN=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function l(m,h,p){this.fn=m,this.context=h,this.once=p||!1}function c(m,h,p,x,b){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new l(p,x||m,b),N=n?n+h:h;return m._events[N]?m._events[N].fn?m._events[N]=[m._events[N],y]:m._events[N].push(y):(m._events[N]=y,m._eventsCount++),m}function u(m,h){--m._eventsCount===0?m._events=new r:delete m._events[h]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var h=[],p,x;if(this._eventsCount===0)return h;for(x in p=this._events)t.call(p,x)&&h.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},f.prototype.listeners=function(h){var p=n?n+h:h,x=this._events[p];if(!x)return[];if(x.fn)return[x.fn];for(var b=0,y=x.length,N=new Array(y);b<y;b++)N[b]=x[b].fn;return N},f.prototype.listenerCount=function(h){var p=n?n+h:h,x=this._events[p];return x?x.fn?1:x.length:0},f.prototype.emit=function(h,p,x,b,y,N){var w=n?n+h:h;if(!this._events[w])return!1;var S=this._events[w],D=arguments.length,P,O;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),D){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,x),!0;case 4:return S.fn.call(S.context,p,x,b),!0;case 5:return S.fn.call(S.context,p,x,b,y),!0;case 6:return S.fn.call(S.context,p,x,b,y,N),!0}for(O=1,P=new Array(D-1);O<D;O++)P[O-1]=arguments[O];S.fn.apply(S.context,P)}else{var I=S.length,R;for(O=0;O<I;O++)switch(S[O].once&&this.removeListener(h,S[O].fn,void 0,!0),D){case 1:S[O].fn.call(S[O].context);break;case 2:S[O].fn.call(S[O].context,p);break;case 3:S[O].fn.call(S[O].context,p,x);break;case 4:S[O].fn.call(S[O].context,p,x,b);break;default:if(!P)for(R=1,P=new Array(D-1);R<D;R++)P[R-1]=arguments[R];S[O].fn.apply(S[O].context,P)}}return!0},f.prototype.on=function(h,p,x){return c(this,h,p,x,!1)},f.prototype.once=function(h,p,x){return c(this,h,p,x,!0)},f.prototype.removeListener=function(h,p,x,b){var y=n?n+h:h;if(!this._events[y])return this;if(!p)return u(this,y),this;var N=this._events[y];if(N.fn)N.fn===p&&(!b||N.once)&&(!x||N.context===x)&&u(this,y);else{for(var w=0,S=[],D=N.length;w<D;w++)(N[w].fn!==p||b&&!N[w].once||x&&N[w].context!==x)&&S.push(N[w]);S.length?this._events[y]=S.length===1?S[0]:S:u(this,y)}return this},f.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&u(this,p)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=n,f.EventEmitter=f,e.exports=f})(Dg)),Dg.exports}var LB=RB();const zB=Ka(LB);var $c=new zB,R0="recharts.syncEvent.tooltip",YN="recharts.syncEvent.brush";function Pv(e,t){if(t){var n=Number.parseInt(t,10);if(!ga(n))return e==null?void 0:e[n]}}var BB={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},nA=Gr({name:"options",initialState:BB,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),$B=nA.reducer,{createEventEmitter:UB}=nA.actions;function qB(e){return e.tooltip.syncInteraction}var HB={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},rA=Gr({name:"chartData",initialState:HB,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:QN,setDataStartEndIndexes:FB,setComputedData:TV}=rA.actions,VB=rA.reducer,KB=["x","y"];function XN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(n),!0).forEach(function(r){GB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GB(e,t,n){return(t=WB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WB(e){var t=YB(e,"string");return typeof t=="symbol"?t:t+""}function YB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QB(e,t){if(e==null)return{};var n,r,l=XB(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function XB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aA=()=>{};function ZB(){var e=$e(ev),t=$e(tv),n=cn(),r=$e(XO),l=$e(Bi),c=Bf(),u=zf(),f=$e(m=>m.rootProps.className);j.useEffect(()=>{if(e==null)return aA;var m=(h,p,x)=>{if(t!==x&&e===h){if(r==="index"){var b;if(u&&p!==null&&p!==void 0&&(b=p.payload)!==null&&b!==void 0&&b.coordinate&&p.payload.sourceViewBox){var y=p.payload.coordinate,{x:N,y:w}=y,S=QB(y,KB),{x:D,y:P,width:O,height:I}=p.payload.sourceViewBox,R=no(no({},S),{},{x:u.x+(O?(N-D)/O:0)*u.width,y:u.y+(I?(w-P)/I:0)*u.height});n(no(no({},p),{},{payload:no(no({},p.payload),{},{coordinate:R})}))}else n(p);return}if(l!=null){var M;if(typeof r=="function"){var B={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},$=r(l,B);M=l[$]}else r==="value"&&(M=l.find(Z=>String(Z.value)===p.payload.label));var{coordinate:Y}=p.payload;if(M==null||p.payload.active===!1||Y==null||u==null){n(_0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:X,y:le}=Y,he=Math.min(X,u.x+u.width),we=Math.min(le,u.y+u.height),Te={x:c==="horizontal"?M.coordinate:he,y:c==="horizontal"?we:M.coordinate},De=_0({active:p.payload.active,coordinate:Te,dataKey:p.payload.dataKey,index:String(M.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(De)}}};return $c.on(R0,m),()=>{$c.off(R0,m)}},[f,n,t,e,r,l,c,u])}function JB(){var e=$e(ev),t=$e(tv),n=cn();j.useEffect(()=>{if(e==null)return aA;var r=(l,c,u)=>{t!==u&&e===l&&n(FB(c))};return $c.on(YN,r),()=>{$c.off(YN,r)}},[n,t,e])}function e7(){var e=cn();j.useEffect(()=>{e(UB())},[e]),ZB(),JB()}function t7(e,t,n,r,l,c){var u=$e(y=>kB(y,e,t)),f=$e(tv),m=$e(ev),h=$e(XO),p=$e(qB),x=p==null?void 0:p.active,b=zf();j.useEffect(()=>{if(!x&&m!=null&&f!=null){var y=_0({active:c,coordinate:n,dataKey:u,index:l,label:typeof r=="number"?String(r):r,sourceViewBox:b});$c.emit(R0,m,y,f)}},[x,n,u,l,r,f,m,h,c,b])}function ZN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function JN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(n),!0).forEach(function(r){n7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n7(e,t,n){return(t=r7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r7(e){var t=a7(e,"string");return typeof t=="symbol"?t:t+""}function a7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i7(e){return e.dataKey}function s7(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(SI,t)}var eS=[],l7={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Os.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function bi(e){var t=Xn(e,l7),{active:n,allowEscapeViewBox:r,animationDuration:l,animationEasing:c,content:u,filterNull:f,isAnimationActive:m,offset:h,payloadUniqBy:p,position:x,reverseDirection:b,useTranslate3d:y,wrapperStyle:N,cursor:w,shared:S,trigger:D,defaultIndex:P,portal:O,axisId:I}=t,R=cn(),M=typeof P=="number"?String(P):P;j.useEffect(()=>{R(T8({shared:S,trigger:D,axisId:I,active:n,defaultIndex:M}))},[R,S,D,I,n,M]);var B=zf(),$=FC(),Y=S8(S),{activeIndex:X,isActive:le}=$e(Ee=>AB(Ee,Y,D,M)),he=$e(Ee=>OB(Ee,Y,D,M)),we=$e(Ee=>eA(Ee,Y,D,M)),Te=$e(Ee=>CB(Ee,Y,D,M)),De=he,Z=PB(),ce=n??le,[ke,G]=rC([De,ce]),Ne=Y==="axis"?we:void 0;t7(Y,D,Te,Ne,X,ce);var z=O??Z;if(z==null)return null;var L=De??eS;ce||(L=eS),f&&L.length&&(L=Zk(De.filter(Ee=>Ee.value!=null&&(Ee.hide!==!0||t.includeHidden)),p,i7));var se=L.length>0,ve=j.createElement(EI,{allowEscapeViewBox:r,animationDuration:l,animationEasing:c,isAnimationActive:m,active:ce,coordinate:Te,hasPayload:se,offset:h,position:x,reverseDirection:b,useTranslate3d:y,viewBox:B,wrapperStyle:N,lastBoundingBox:ke,innerRef:G,hasPortalFromProps:!!O},s7(u,JN(JN({},t),{},{payload:L,label:Ne,active:ce,coordinate:Te,accessibilityLayer:$})));return j.createElement(j.Fragment,null,xk.createPortal(ve,z),ce&&j.createElement(IB,{cursor:w,tooltipEventType:Y,coordinate:Te,payload:De,index:X}))}var yl=e=>null;yl.displayName="Cell";function o7(e,t,n){return(t=c7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c7(e){var t=u7(e,"string");return typeof t=="symbol"?t:t+""}function u7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class d7{constructor(t){o7(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function tS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function f7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(n),!0).forEach(function(r){m7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m7(e,t,n){return(t=h7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h7(e){var t=p7(e,"string");return typeof t=="symbol"?t:t+""}function p7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g7={cacheSize:2e3,enableCache:!0},iA=f7({},g7),nS=new d7(iA.cacheSize),x7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rS="recharts_measurement_span";function v7(e,t){var n=t.fontSize||"",r=t.fontFamily||"",l=t.fontWeight||"",c=t.fontStyle||"",u=t.letterSpacing||"",f=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(l,"|").concat(c,"|").concat(u,"|").concat(f)}var aS=(e,t)=>{try{var n=document.getElementById(rS);n||(n=document.createElement("span"),n.setAttribute("id",rS),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,x7,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Oc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Os.isSsr)return{width:0,height:0};if(!iA.enableCache)return aS(t,n);var r=v7(t,n),l=nS.get(r);if(l)return l;var c=aS(t,n);return nS.set(r,c),c},iS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,y7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,b7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sA={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},j7=Object.keys(sA),ro="NaN";function w7(e,t){return e*sA[t]}class Cr{static parse(t){var n,[,r,l]=(n=b7.exec(t))!==null&&n!==void 0?n:[];return new Cr(parseFloat(r),l??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ga(t)&&(this.unit=""),n!==""&&!y7.test(n)&&(this.num=NaN,this.unit=""),j7.includes(n)&&(this.num=w7(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Cr(NaN,""):new Cr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Cr(NaN,""):new Cr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Cr(NaN,""):new Cr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Cr(NaN,""):new Cr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ga(this.num)}}function lA(e){if(e.includes(ro))return ro;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,l,c]=(n=iS.exec(t))!==null&&n!==void 0?n:[],u=Cr.parse(r??""),f=Cr.parse(c??""),m=l==="*"?u.multiply(f):u.divide(f);if(m.isNaN())return ro;t=t.replace(iS,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,x,b]=(h=sS.exec(t))!==null&&h!==void 0?h:[],y=Cr.parse(p??""),N=Cr.parse(b??""),w=x==="+"?y.add(N):y.subtract(N);if(w.isNaN())return ro;t=t.replace(sS,w.toString())}return t}var lS=/\(([^()]*)\)/;function N7(e){for(var t=e,n;(n=lS.exec(t))!=null;){var[,r]=n;t=t.replace(lS,lA(r))}return t}function S7(e){var t=e.replace(/\s+/g,"");return t=N7(t),t=lA(t),t}function k7(e){try{return S7(e)}catch{return ro}}function Eg(e){var t=k7(e.slice(5,-1));return t===ro?"":t}var C7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],O7=["dx","dy","angle","className","breakAll"];function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L0.apply(null,arguments)}function oS(e,t){if(e==null)return{};var n,r,l=A7(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function A7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var oA=/[ \f\n\r\t\v\u2028\u2029]+/,cA=e=>{var{children:t,breakAll:n,style:r}=e;try{var l=[];on(t)||(n?l=t.toString().split(""):l=t.toString().split(oA));var c=l.map(f=>({word:f,width:Oc(f,r).width})),u=n?0:Oc("",r).width;return{wordsWithComputedWidth:c,spaceWidth:u}}catch{return null}},T7=(e,t,n,r,l)=>{var{maxLines:c,children:u,style:f,breakAll:m}=e,h=Ke(c),p=u,x=function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return le.reduce((he,we)=>{var{word:Te,width:De}=we,Z=he[he.length-1];if(Z&&(r==null||l||Z.width+De+n<Number(r)))Z.words.push(Te),Z.width+=De+n;else{var ce={words:[Te],width:De};he.push(ce)}return he},[])},b=x(t),y=X=>X.reduce((le,he)=>le.width>he.width?le:he);if(!h||l)return b;var N=b.length>c||y(b).width>Number(r);if(!N)return b;for(var w="",S=X=>{var le=p.slice(0,X),he=cA({breakAll:m,style:f,children:le+w}).wordsWithComputedWidth,we=x(he),Te=we.length>c||y(we).width>Number(r);return[Te,we]},D=0,P=p.length-1,O=0,I;D<=P&&O<=p.length-1;){var R=Math.floor((D+P)/2),M=R-1,[B,$]=S(M),[Y]=S(R);if(!B&&!Y&&(D=R+1),B&&Y&&(P=R-1),!B&&Y){I=$;break}O++}return I||b},cS=e=>{var t=on(e)?[]:e.toString().split(oA);return[{words:t}]},D7=e=>{var{width:t,scaleToFit:n,children:r,style:l,breakAll:c,maxLines:u}=e;if((t||n)&&!Os.isSsr){var f,m,h=cA({breakAll:c,children:r,style:l});if(h){var{wordsWithComputedWidth:p,spaceWidth:x}=h;f=p,m=x}else return cS(r);return T7({breakAll:c,children:r,maxLines:u,style:l},f,m,t,n)}return cS(r)},uS="#808080",sm=j.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:l="1em",capHeight:c="0.71em",scaleToFit:u=!1,textAnchor:f="start",verticalAnchor:m="end",fill:h=uS}=e,p=oS(e,C7),x=j.useMemo(()=>D7({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:b,dy:y,angle:N,className:w,breakAll:S}=p,D=oS(p,O7);if(!Fa(n)||!Fa(r)||x.length===0)return null;var P=n+(Ke(b)?b:0),O=r+(Ke(y)?y:0),I;switch(m){case"start":I=Eg("calc(".concat(c,")"));break;case"middle":I=Eg("calc(".concat((x.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:I=Eg("calc(".concat(x.length-1," * -").concat(l,")"));break}var R=[];if(u){var M=x[0].width,{width:B}=p;R.push("scale(".concat(Ke(B)?B/M:1,")"))}return N&&R.push("rotate(".concat(N,", ").concat(P,", ").concat(O,")")),R.length&&(D.transform=R.join(" ")),j.createElement("text",L0({},xr(D),{ref:t,x:P,y:O,className:Dt("recharts-text",w),textAnchor:f,fill:h.includes("url")?uS:h}),x.map(($,Y)=>{var X=$.words.join(S?"":" ");return j.createElement("tspan",{x:P,dy:Y===0?I:l,key:"".concat(X,"-").concat(Y)},X)}))});sm.displayName="Text";var E7=["labelRef"];function M7(e,t){if(e==null)return{};var n,r,l=_7(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function _7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(n),!0).forEach(function(r){I7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I7(e,t,n){return(t=P7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P7(e){var t=R7(e,"string");return typeof t=="symbol"?t:t+""}function R7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ji.apply(null,arguments)}var uA=j.createContext(null),L7=e=>{var{x:t,y:n,width:r,height:l,children:c}=e,u=j.useMemo(()=>({x:t,y:n,width:r,height:l}),[t,n,r,l]);return j.createElement(uA.Provider,{value:u},c)},dA=()=>{var e=j.useContext(uA),t=zf();return e||t},z7=j.createContext(null),B7=()=>{var e=j.useContext(z7),t=$e(n3);return e||t},$7=e=>{var{value:t,formatter:n}=e,r=on(e.children)?t:e.children;return typeof n=="function"?n(r):r},Rv=e=>e!=null&&typeof e=="function",U7=(e,t)=>{var n=$n(t-e),r=Math.min(Math.abs(t-e),360);return n*r},q7=(e,t,n,r,l)=>{var{offset:c,className:u}=e,{cx:f,cy:m,innerRadius:h,outerRadius:p,startAngle:x,endAngle:b,clockWise:y}=l,N=(h+p)/2,w=U7(x,b),S=w>=0?1:-1,D,P;switch(t){case"insideStart":D=x+S*c,P=y;break;case"insideEnd":D=b-S*c,P=!y;break;case"end":D=b+S*c,P=y;break;default:throw new Error("Unsupported position ".concat(t))}P=w<=0?P:!P;var O=kn(f,m,N,D),I=kn(f,m,N,D+(P?1:-1)*359),R="M".concat(O.x,",").concat(O.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(P?0:1,`,
    `).concat(I.x,",").concat(I.y),M=on(e.id)?Tc("recharts-radial-line-"):e.id;return j.createElement("text",ji({},r,{dominantBaseline:"central",className:Dt("recharts-radial-bar-label",u)}),j.createElement("defs",null,j.createElement("path",{id:M,d:R})),j.createElement("textPath",{xlinkHref:"#".concat(M)},n))},H7=(e,t,n)=>{var{cx:r,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:m}=e,h=(f+m)/2;if(n==="outside"){var{x:p,y:x}=kn(r,l,u+t,h);return{x:p,y:x,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:l,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,{x:y,y:N}=kn(r,l,b,h);return{x:y,y:N,textAnchor:"middle",verticalAnchor:"middle"}},fA=e=>"cx"in e&&Ke(e.cx),F7=(e,t)=>{var{parentViewBox:n,offset:r,position:l}=e,c;n!=null&&!fA(n)&&(c=n);var{x:u,y:f,width:m,height:h}=t,p=h>=0?1:-1,x=p*r,b=p>0?"end":"start",y=p>0?"start":"end",N=m>=0?1:-1,w=N*r,S=N>0?"end":"start",D=N>0?"start":"end";if(l==="top"){var P={x:u+m/2,y:f-p*r,textAnchor:"middle",verticalAnchor:b};return bn(bn({},P),c?{height:Math.max(f-c.y,0),width:m}:{})}if(l==="bottom"){var O={x:u+m/2,y:f+h+x,textAnchor:"middle",verticalAnchor:y};return bn(bn({},O),c?{height:Math.max(c.y+c.height-(f+h),0),width:m}:{})}if(l==="left"){var I={x:u-w,y:f+h/2,textAnchor:S,verticalAnchor:"middle"};return bn(bn({},I),c?{width:Math.max(I.x-c.x,0),height:h}:{})}if(l==="right"){var R={x:u+m+w,y:f+h/2,textAnchor:D,verticalAnchor:"middle"};return bn(bn({},R),c?{width:Math.max(c.x+c.width-R.x,0),height:h}:{})}var M=c?{width:m,height:h}:{};return l==="insideLeft"?bn({x:u+w,y:f+h/2,textAnchor:D,verticalAnchor:"middle"},M):l==="insideRight"?bn({x:u+m-w,y:f+h/2,textAnchor:S,verticalAnchor:"middle"},M):l==="insideTop"?bn({x:u+m/2,y:f+x,textAnchor:"middle",verticalAnchor:y},M):l==="insideBottom"?bn({x:u+m/2,y:f+h-x,textAnchor:"middle",verticalAnchor:b},M):l==="insideTopLeft"?bn({x:u+w,y:f+x,textAnchor:D,verticalAnchor:y},M):l==="insideTopRight"?bn({x:u+m-w,y:f+x,textAnchor:S,verticalAnchor:y},M):l==="insideBottomLeft"?bn({x:u+w,y:f+h-x,textAnchor:D,verticalAnchor:b},M):l==="insideBottomRight"?bn({x:u+m-w,y:f+h-x,textAnchor:S,verticalAnchor:b},M):l&&typeof l=="object"&&(Ke(l.x)||Ai(l.x))&&(Ke(l.y)||Ai(l.y))?bn({x:u+or(l.x,m),y:f+or(l.y,h),textAnchor:"end",verticalAnchor:"end"},M):bn({x:u+m/2,y:f+h/2,textAnchor:"middle",verticalAnchor:"middle"},M)},V7={offset:5};function ps(e){var t=Xn(e,V7),{viewBox:n,position:r,value:l,children:c,content:u,className:f="",textBreakAll:m,labelRef:h}=t,p=B7(),x=dA(),b=r==="center"?x:p??x,y=n||b;if(!y||on(l)&&on(c)&&!j.isValidElement(u)&&typeof u!="function")return null;var N=bn(bn({},t),{},{viewBox:y});if(j.isValidElement(u)){var{labelRef:w}=N,S=M7(N,E7);return j.cloneElement(u,S)}var D;if(typeof u=="function"){if(D=j.createElement(u,N),j.isValidElement(D))return D}else D=$7(t);var P=fA(y),O=xr(t);if(P&&(r==="insideStart"||r==="insideEnd"||r==="end"))return q7(t,r,D,O,y);var I=P?H7(y,t.offset,t.position):F7(t,y);return j.createElement(sm,ji({ref:h,className:Dt("recharts-label",f)},O,I,{breakAll:m}),D)}ps.displayName="Label";var K7=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?j.createElement(ps,ji({key:"label-implicit"},r)):Fa(e)?j.createElement(ps,ji({key:"label-implicit",value:e},r)):j.isValidElement(e)?e.type===ps?j.cloneElement(e,bn({key:"label-implicit"},r)):j.createElement(ps,ji({key:"label-implicit",content:e},r)):Rv(e)?j.createElement(ps,ji({key:"label-implicit",content:e},r)):e&&typeof e=="object"?j.createElement(ps,ji({},e,{key:"label-implicit"},r)):null};function G7(e){var{label:t,labelRef:n}=e,r=dA();return K7(t,r,n)||null}var Mg={},_g={},fS;function W7(){return fS||(fS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(_g)),_g}var Ig={},mS;function Y7(){return mS||(mS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Ig)),Ig}var hS;function Q7(){return hS||(hS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W7(),n=Y7(),r=hx();function l(c){if(r.isArrayLike(c))return t.last(n.toArray(c))}e.last=l})(Mg)),Mg}var Pg,pS;function X7(){return pS||(pS=1,Pg=Q7().last),Pg}var Z7=X7();const J7=Ka(Z7);var e$=["valueAccessor"],t$=["dataKey","clockWise","id","textBreakAll"];function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mf.apply(null,arguments)}function gS(e,t){if(e==null)return{};var n,r,l=n$(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function n$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var r$=e=>Array.isArray(e.value)?J7(e.value):e.value,mA=j.createContext(void 0),hA=mA.Provider,pA=j.createContext(void 0),a$=pA.Provider;function i$(){return j.useContext(mA)}function s$(){return j.useContext(pA)}function Id(e){var{valueAccessor:t=r$}=e,n=gS(e,e$),{dataKey:r,clockWise:l,id:c,textBreakAll:u}=n,f=gS(n,t$),m=i$(),h=s$(),p=m||h;return!p||!p.length?null:j.createElement(Qn,{className:"recharts-label-list"},p.map((x,b)=>{var y,N=on(r)?t(x,b):Qt(x&&x.payload,r),w=on(c)?{}:{id:"".concat(c,"-").concat(b)};return j.createElement(ps,mf({key:"label-".concat(b)},xr(x),f,w,{fill:(y=n.fill)!==null&&y!==void 0?y:x.fill,parentViewBox:x.parentViewBox,value:N,textBreakAll:u,viewBox:x.viewBox,index:b}))}))}Id.displayName="LabelList";function Lv(e){var{label:t}=e;return t?t===!0?j.createElement(Id,{key:"labelList-implicit"}):j.isValidElement(t)||Rv(t)?j.createElement(Id,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(Id,mf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z0.apply(null,arguments)}var gA=e=>{var{cx:t,cy:n,r,className:l}=e,c=Dt("recharts-dot",l);return t===+t&&n===+n&&r===+r?j.createElement("circle",z0({},Vr(e),dx(e),{className:c,cx:t,cy:n,r})):null},xA=e=>e.graphicalItems.polarItems,l$=re([un,nu],lv),lm=re([xA,dn,l$],ov),o$=re([lm],cv),om=re([o$,Qx],uv),c$=re([om,dn,lm],fv);re([om,dn,lm],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(l=>{var c,u=Qt(r,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey);return{value:u,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Qt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var xS=()=>{},u$=re([om,dn,lm,nm,un],gv),d$=re([dn,hv,pv,xS,u$,xS,Ct,un],xv),vA=re([dn,Ct,om,c$,tu,un,d$],vv),f$=re([vA,dn,ko],jv);re([dn,vA,f$,un],Nv);var m$={radiusAxis:{},angleAxis:{}},yA=Gr({name:"polarAxis",initialState:m$,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:DV,removeRadiusAxis:EV,addAngleAxis:MV,removeAngleAxis:_V}=yA.actions,h$=yA.reducer;function vS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function yS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(n),!0).forEach(function(r){p$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p$(e,t,n){return(t=g$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g$(e){var t=x$(e,"string");return typeof t=="symbol"?t:t+""}function x$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v$=(e,t)=>t,zv=re([xA,v$],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),y$=[],Bv=(e,t,n)=>(n==null?void 0:n.length)===0?y$:n,bA=re([Qx,zv,Bv],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var l;if((t==null?void 0:t.data)!=null&&t.data.length>0?l=t.data:l=r,(!l||!l.length)&&n!=null&&(l=n.map(c=>yS(yS({},t.presentationProps),c.props))),l!=null)return l}}),b$=re([bA,zv,Bv],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,l)=>{var c,u=Qt(r,t.nameKey,t.name),f;return n!=null&&(c=n[l])!==null&&c!==void 0&&(c=c.props)!==null&&c!==void 0&&c.fill?f=n[l].props.fill:typeof r=="object"&&r!=null&&"fill"in r?f=r.fill:f=t.fill,{value:vo(u,t.dataKey),color:f,payload:r,type:t.legendType}})}),j$=re([bA,zv,Bv,In],(e,t,n,r)=>{if(!(t==null||e==null))return jU({offset:r,pieSettings:t,displayedData:e,cells:n})}),Rg={exports:{}},Ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS;function w$(){if(bS)return Ht;bS=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function N(w){if(typeof w=="object"&&w!==null){var S=w.$$typeof;switch(S){case e:switch(w=w.type,w){case n:case l:case r:case m:case h:case b:return w;default:switch(w=w&&w.$$typeof,w){case u:case f:case x:case p:return w;case c:return w;default:return S}}case t:return S}}}return Ht.ContextConsumer=c,Ht.ContextProvider=u,Ht.Element=e,Ht.ForwardRef=f,Ht.Fragment=n,Ht.Lazy=x,Ht.Memo=p,Ht.Portal=t,Ht.Profiler=l,Ht.StrictMode=r,Ht.Suspense=m,Ht.SuspenseList=h,Ht.isContextConsumer=function(w){return N(w)===c},Ht.isContextProvider=function(w){return N(w)===u},Ht.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Ht.isForwardRef=function(w){return N(w)===f},Ht.isFragment=function(w){return N(w)===n},Ht.isLazy=function(w){return N(w)===x},Ht.isMemo=function(w){return N(w)===p},Ht.isPortal=function(w){return N(w)===t},Ht.isProfiler=function(w){return N(w)===l},Ht.isStrictMode=function(w){return N(w)===r},Ht.isSuspense=function(w){return N(w)===m},Ht.isSuspenseList=function(w){return N(w)===h},Ht.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===l||w===r||w===m||w===h||typeof w=="object"&&w!==null&&(w.$$typeof===x||w.$$typeof===p||w.$$typeof===u||w.$$typeof===c||w.$$typeof===f||w.$$typeof===y||w.getModuleId!==void 0)},Ht.typeOf=N,Ht}var jS;function N$(){return jS||(jS=1,Rg.exports=w$()),Rg.exports}var S$=N$(),wS=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",NS=null,Lg=null,jA=e=>{if(e===NS&&Array.isArray(Lg))return Lg;var t=[];return j.Children.forEach(e,n=>{on(n)||(S$.isFragment(n)?t=t.concat(jA(n.props.children)):t.push(n))}),Lg=t,NS=e,t};function $v(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(l=>wS(l)):r=[wS(t)],jA(e).forEach(l=>{var c=hl(l,"type.displayName")||hl(l,"type.name");r.indexOf(c)!==-1&&n.push(l)}),n}var wA=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,zg={},SS;function k$(){return SS||(SS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var l;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const c=n[Symbol.toStringTag];return c==null||!((l=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&l.writable)?!1:n.toString()===`[object ${c}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(zg)),zg}var Bg,kS;function C$(){return kS||(kS=1,Bg=k$().isPlainObject),Bg}var O$=C$();const A$=Ka(O$);function CS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function OS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CS(Object(n),!0).forEach(function(r){T$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T$(e,t,n){return(t=D$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D$(e){var t=E$(e,"string");return typeof t=="symbol"?t:t+""}function E$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hf.apply(null,arguments)}var AS=(e,t,n,r,l)=>{var c=n-r,u;return u="M ".concat(e,",").concat(t),u+="L ".concat(e+n,",").concat(t),u+="L ".concat(e+n-c/2,",").concat(t+l),u+="L ".concat(e+n-c/2-r,",").concat(t+l),u+="L ".concat(e,",").concat(t," Z"),u},M$={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_$=e=>{var t=Xn(e,M$),{x:n,y:r,upperWidth:l,lowerWidth:c,height:u,className:f}=t,{animationEasing:m,animationDuration:h,animationBegin:p,isUpdateAnimationActive:x}=t,b=j.useRef(null),[y,N]=j.useState(-1),w=j.useRef(l),S=j.useRef(c),D=j.useRef(u),P=j.useRef(n),O=j.useRef(r),I=Qc(e,"trapezoid-");if(j.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var Te=b.current.getTotalLength();Te&&N(Te)}catch{}},[]),n!==+n||r!==+r||l!==+l||c!==+c||u!==+u||l===0&&c===0||u===0)return null;var R=Dt("recharts-trapezoid",f);if(!x)return j.createElement("g",null,j.createElement("path",hf({},xr(t),{className:R,d:AS(n,r,l,c,u)})));var M=w.current,B=S.current,$=D.current,Y=P.current,X=O.current,le="0px ".concat(y===-1?1:y,"px"),he="".concat(y,"px 0px"),we=VC(["strokeDasharray"],h,m);return j.createElement(Yc,{animationId:I,key:I,canBegin:y>0,duration:h,easing:m,isActive:x,begin:p},Te=>{var De=pn(M,l,Te),Z=pn(B,c,Te),ce=pn($,u,Te),ke=pn(Y,n,Te),G=pn(X,r,Te);b.current&&(w.current=De,S.current=Z,D.current=ce,P.current=ke,O.current=G);var Ne=Te>0?{transition:we,strokeDasharray:he}:{strokeDasharray:le};return j.createElement("path",hf({},xr(t),{className:R,d:AS(ke,G,De,Z,ce),ref:b,style:OS(OS({},Ne),t.style)}))})},I$=["option","shapeType","propTransformer","activeClassName","isActive"];function P$(e,t){if(e==null)return{};var n,r,l=R$(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function R$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function TS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function pf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(n),!0).forEach(function(r){L$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L$(e,t,n){return(t=z$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z$(e){var t=B$(e,"string");return typeof t=="symbol"?t:t+""}function B$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $$(e,t){return pf(pf({},t),e)}function U$(e,t){return e==="symbols"}function DS(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return j.createElement(YC,n);case"trapezoid":return j.createElement(_$,n);case"sector":return j.createElement(ZC,n);case"symbols":if(U$(t))return j.createElement(ux,n);break;default:return null}}function q$(e){return j.isValidElement(e)?e.props:e}function NA(e){var{option:t,shapeType:n,propTransformer:r=$$,activeClassName:l="recharts-active-shape",isActive:c}=e,u=P$(e,I$),f;if(j.isValidElement(t))f=j.cloneElement(t,pf(pf({},u),q$(t)));else if(typeof t=="function")f=t(u);else if(A$(t)&&typeof t!="boolean"){var m=r(t,u);f=j.createElement(DS,{shapeType:n,elementProps:m})}else{var h=u;f=j.createElement(DS,{shapeType:n,elementProps:h})}return c?j.createElement(Qn,{className:l},f):f}var Uv=(e,t)=>{var n=cn();return(r,l)=>c=>{e==null||e(r,l,c),n(I3({activeIndex:String(l),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},qv=e=>{var t=cn();return(n,r)=>l=>{e==null||e(n,r,l),t(D8())}},Hv=(e,t)=>{var n=cn();return(r,l)=>c=>{e==null||e(r,l,c),n(E8({activeIndex:String(l),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function Fv(e){var{fn:t,args:n}=e,r=cn(),l=vr();return j.useLayoutEffect(()=>{if(!l){var c=t(n);return r(O8(c)),()=>{r(A8(c))}}},[t,n,r,l]),null}var SA=()=>{};function kA(e){var{legendPayload:t}=e,n=cn(),r=vr();return j.useLayoutEffect(()=>r?SA:(n(qC(t)),()=>{n(HC(t))}),[n,r,t]),null}function H$(e){var{legendPayload:t}=e,n=cn(),r=$e(Ct);return j.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?SA:(n(qC(t)),()=>{n(HC(t))}),[n,r,t]),null}var $g,F$=()=>{var[e]=j.useState(()=>Tc("uid-"));return e},V$=($g=fD.useId)!==null&&$g!==void 0?$g:F$;function K$(e,t){var n=V$();return t||(e?"".concat(e,"-").concat(n):n)}var G$=j.createContext(void 0),Vv=e=>{var{id:t,type:n,children:r}=e,l=K$("recharts-".concat(n),t);return j.createElement(G$.Provider,{value:l},r(l))},W$={cartesianItems:[],polarItems:[]},CA=Gr({name:"graphicalItems",initialState:W$,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:hr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,l=ki(e).cartesianItems.indexOf(n);l>-1&&(e.cartesianItems[l]=r)},prepare:hr()},removeCartesianGraphicalItem:{reducer(e,t){var n=ki(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:hr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:hr()},removePolarGraphicalItem:{reducer(e,t){var n=ki(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:hr()}}}),{addCartesianGraphicalItem:Y$,replaceCartesianGraphicalItem:Q$,removeCartesianGraphicalItem:X$,addPolarGraphicalItem:Z$,removePolarGraphicalItem:J$}=CA.actions,eU=CA.reducer;function OA(e){var t=cn(),n=j.useRef(null);return j.useLayoutEffect(()=>{n.current===null?t(Y$(e)):n.current!==e&&t(Q$({prev:n.current,next:e})),n.current=e},[t,e]),j.useLayoutEffect(()=>()=>{n.current&&(t(X$(n.current)),n.current=null)},[t]),null}function tU(e){var t=cn();return j.useLayoutEffect(()=>(t(Z$(e)),()=>{t(J$(e))}),[t,e]),null}var nU=["onMouseEnter","onClick","onMouseLeave"],rU=["id"],aU=["id"];function Kv(e,t){if(e==null)return{};var n,r,l=iU(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function iU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ES(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(n),!0).forEach(function(r){sU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ES(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sU(e,t,n){return(t=lU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lU(e){var t=oU(e,"string");return typeof t=="symbol"?t:t+""}function oU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ss.apply(null,arguments)}function cU(e){var t=j.useMemo(()=>$v(e.children,yl),[e.children]),n=$e(r=>b$(r,e.id,t));return n==null?null:j.createElement(H$,{legendPayload:n})}function uU(e){var{dataKey:t,nameKey:n,sectors:r,stroke:l,strokeWidth:c,fill:u,name:f,hide:m,tooltipType:h}=e;return{dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:l,strokeWidth:c,fill:u,dataKey:t,nameKey:n,name:vo(f,t),hide:m,type:h,color:u,unit:""}}}var dU=(e,t)=>e>t?"start":e<t?"end":"middle",fU=(e,t,n)=>or(typeof t=="function"?t(e):t,n,n*.8),mU=(e,t,n)=>{var{top:r,left:l,width:c,height:u}=t,f=DC(c,u),m=l+or(e.cx,c,c/2),h=r+or(e.cy,u,u/2),p=or(e.innerRadius,f,0),x=fU(n,e.outerRadius,f),b=e.maxRadius||Math.sqrt(c*c+u*u)/2;return{cx:m,cy:h,innerRadius:p,outerRadius:x,maxRadius:b}},hU=(e,t)=>{var n=$n(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function pU(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var gU=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Dt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return j.createElement(Cx,Ss({},t,{type:"linear",className:n}))},xU=(e,t,n)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),j.isValidElement(r)))return r;var l=Dt("recharts-pie-label-text",pU(e));return j.createElement(sm,Ss({},t,{alignmentBaseline:"middle",className:l}),r)};function vU(e){var{sectors:t,props:n,showLabels:r}=e,{label:l,labelLine:c,dataKey:u}=n;if(!r||!l||!t)return null;var f=Vr(n),m=ml(l),h=ml(c),p=typeof l=="object"&&"offsetRadius"in l&&typeof l.offsetRadius=="number"&&l.offsetRadius||20,x=t.map((b,y)=>{var N=(b.startAngle+b.endAngle)/2,w=kn(b.cx,b.cy,b.outerRadius+p,N),S=an(an(an(an({},f),b),{},{stroke:"none"},m),{},{index:y,textAnchor:dU(w.x,b.cx)},w),D=an(an(an(an({},f),b),{},{fill:"none",stroke:b.fill},h),{},{index:y,points:[kn(b.cx,b.cy,b.outerRadius,N),w],key:"line"});return j.createElement(Qn,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(y)},c&&gU(c,D),xU(l,S,Qt(b,u)))});return j.createElement(Qn,{className:"recharts-pie-labels"},x)}function yU(e){var{sectors:t,props:n,showLabels:r}=e,{label:l}=n;return typeof l=="object"&&l!=null&&"position"in l?j.createElement(Lv,{label:l}):j.createElement(vU,{sectors:t,props:n,showLabels:r})}function bU(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:l}=e,c=$e(Ns),{onMouseEnter:u,onClick:f,onMouseLeave:m}=l,h=Kv(l,nU),p=Uv(u,l.dataKey),x=qv(m),b=Hv(f,l.dataKey);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((y,N)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&t.length!==1)return null;var w=n&&String(N)===c,S=c?r:null,D=w?n:S,P=an(an({},y),{},{stroke:y.stroke,tabIndex:-1,[PC]:N,[RC]:l.dataKey});return j.createElement(Qn,Ss({key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(N),tabIndex:-1,className:"recharts-pie-sector"},Vc(h,y,N),{onMouseEnter:p(y,N),onMouseLeave:x(y,N),onClick:b(y,N)}),j.createElement(NA,Ss({option:D,isActive:w,shapeType:"sector"},P)))}))}function jU(e){var t,{pieSettings:n,displayedData:r,cells:l,offset:c}=e,{cornerRadius:u,startAngle:f,endAngle:m,dataKey:h,nameKey:p,tooltipType:x}=n,b=Math.abs(n.minAngle),y=hU(f,m),N=Math.abs(y),w=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,S=r.filter(M=>Qt(M,h,0)!==0).length,D=(N>=360?S:S-1)*w,P=N-S*b-D,O=r.reduce((M,B)=>{var $=Qt(B,h,0);return M+(Ke($)?$:0)},0),I;if(O>0){var R;I=r.map((M,B)=>{var $=Qt(M,h,0),Y=Qt(M,p,B),X=mU(n,c,M),le=(Ke($)?$:0)/O,he,we=an(an({},M),l&&l[B]&&l[B].props);B?he=R.endAngle+$n(y)*w*($!==0?1:0):he=f;var Te=he+$n(y)*(($!==0?b:0)+le*P),De=(he+Te)/2,Z=(X.innerRadius+X.outerRadius)/2,ce=[{name:Y,value:$,payload:we,dataKey:h,type:x}],ke=kn(X.cx,X.cy,Z,De);return R=an(an(an(an({},n.presentationProps),{},{percent:le,cornerRadius:u,name:Y,tooltipPayload:ce,midAngle:De,middleRadius:Z,tooltipPosition:ke},we),X),{},{value:$,startAngle:he,endAngle:Te,payload:we,paddingAngle:$n(y)*w}),R})}return I}function wU(e){var{showLabels:t,sectors:n,children:r}=e,l=j.useMemo(()=>!t||!n?[]:n.map(c=>({value:c.value,payload:c.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:c.cx,cy:c.cy,innerRadius:c.innerRadius,outerRadius:c.outerRadius,startAngle:c.startAngle,endAngle:c.endAngle,clockWise:!1},fill:c.fill})),[n,t]);return j.createElement(a$,{value:t?l:void 0},r)}function NU(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,activeShape:m,inactiveShape:h,onAnimationStart:p,onAnimationEnd:x}=t,b=Qc(t,"recharts-pie-"),y=n.current,[N,w]=j.useState(!1),S=j.useCallback(()=>{typeof x=="function"&&x(),w(!1)},[x]),D=j.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return j.createElement(wU,{showLabels:!N,sectors:r},j.createElement(Yc,{animationId:b,begin:c,duration:u,isActive:l,easing:f,onAnimationStart:D,onAnimationEnd:S,key:b},P=>{var O=[],I=r&&r[0],R=I==null?void 0:I.startAngle;return r==null||r.forEach((M,B)=>{var $=y&&y[B],Y=B>0?hl(M,"paddingAngle",0):0;if($){var X=pn($.endAngle-$.startAngle,M.endAngle-M.startAngle,P),le=an(an({},M),{},{startAngle:R+Y,endAngle:R+X+Y});O.push(le),R=le.endAngle}else{var{endAngle:he,startAngle:we}=M,Te=pn(0,he-we,P),De=an(an({},M),{},{startAngle:R+Y,endAngle:R+Te+Y});O.push(De),R=De.endAngle}}),n.current=O,j.createElement(Qn,null,j.createElement(bU,{sectors:O,activeShape:m,inactiveShape:h,allOtherPieProps:t}))}),j.createElement(yU,{showLabels:!N,sectors:r,props:t}),t.children)}var SU={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Os.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function kU(e){var{id:t}=e,n=Kv(e,rU),{hide:r,className:l,rootTabIndex:c}=e,u=j.useMemo(()=>$v(e.children,yl),[e.children]),f=$e(p=>j$(p,t,u)),m=j.useRef(null),h=Dt("recharts-pie",l);return r||f==null?(m.current=null,j.createElement(Qn,{tabIndex:c,className:h})):j.createElement(j.Fragment,null,j.createElement(Fv,{fn:uU,args:an(an({},e),{},{sectors:f})}),j.createElement(Qn,{tabIndex:c,className:h},j.createElement(NU,{props:an(an({},n),{},{sectors:f}),previousSectorsRef:m})))}function B0(e){var t=Xn(e,SU),{id:n}=t,r=Kv(t,aU),l=Vr(r);return j.createElement(Vv,{id:n,type:"pie"},c=>j.createElement(j.Fragment,null,j.createElement(tU,{type:"pie",id:c,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:l,maxRadius:t.maxRadius}),j.createElement(cU,Ss({},r,{id:c})),j.createElement(kU,Ss({},r,{id:c}))))}B0.displayName="Pie";function MS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function _S(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(n),!0).forEach(function(r){CU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CU(e,t,n){return(t=OU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OU(e){var t=AU(e,"string");return typeof t=="symbol"?t:t+""}function AU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TU={xAxis:{},yAxis:{},zAxis:{}},AA=Gr({name:"cartesianAxis",initialState:TU,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:hr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:hr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:hr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:hr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:hr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:hr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,l=e.yAxis[n];if(l){var c=l.widthHistory||[];if(c.length===3&&c[0]===c[2]&&r===c[1]&&r!==l.width&&Math.abs(r-c[0])<=1)return;var u=[...c,r].slice(-3);e.yAxis[n]=_S(_S({},e.yAxis[n]),{},{width:r,widthHistory:u})}}}}),{addXAxis:DU,removeXAxis:EU,addYAxis:MU,removeYAxis:_U,addZAxis:IV,removeZAxis:PV,updateYAxisWidth:IU}=AA.actions,PU=AA.reducer,RU=re([In],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),LU=re([RU,Ii,Pi],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Gv=()=>$e(LU),zU=()=>$e(xB);function IS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function PS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(n),!0).forEach(function(r){BU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BU(e,t,n){return(t=$U(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $U(e){var t=UU(e,"string");return typeof t=="symbol"?t:t+""}function UU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qU=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:l,dataKey:c}=e;if(l===!1||t.x==null||t.y==null)return null;var u=PS(PS({index:n,dataKey:c,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},ml(l)),dx(l)),f;return j.isValidElement(l)?f=j.cloneElement(l,u):typeof l=="function"?f=l(u):f=j.createElement(gA,u),j.createElement(Qn,{className:"recharts-active-dot"},f)};function HU(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:l}=e,c=$e(Ns),u=zU();if(t==null||u==null)return null;var f=t.find(m=>u.includes(m.payload));return on(f)?null:qU({point:f,childIndex:Number(c),mainColor:n,dataKey:l,activeDot:r})}var FU="Invariant failed";function VU(e,t){throw new Error(FU)}var KU=["x","y"];function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$0.apply(null,arguments)}function RS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Nc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(n),!0).forEach(function(r){GU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GU(e,t,n){return(t=WU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WU(e){var t=YU(e,"string");return typeof t=="symbol"?t:t+""}function YU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QU(e,t){if(e==null)return{};var n,r,l=XU(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function XU(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ZU(e,t){var{x:n,y:r}=e,l=QU(e,KU),c="".concat(n),u=parseInt(c,10),f="".concat(r),m=parseInt(f,10),h="".concat(t.height||l.height),p=parseInt(h,10),x="".concat(t.width||l.width),b=parseInt(x,10);return Nc(Nc(Nc(Nc(Nc({},t),l),u?{x:u}:{}),m?{y:m}:{}),{},{height:p,width:b,name:t.name,radius:t.radius})}function Wv(e){return j.createElement(NA,$0({shapeType:"rectangle",propTransformer:ZU,activeClassName:"recharts-active-bar"},e))}var JU=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,l)=>{if(Ke(t))return t;var c=Ke(r)||on(r);return c?t(r,l):(c||VU(),n)}},eq={},TA=Gr({name:"errorBars",initialState:eq,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:l}=t.payload;e[n]&&(e[n]=e[n].map(c=>c.dataKey===r.dataKey&&c.direction===r.direction?l:c))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(l=>l.dataKey!==r.dataKey||l.direction!==r.direction))}}}),{addErrorBar:RV,replaceErrorBar:LV,removeErrorBar:zV}=TA.actions,tq=TA.reducer,nq=["children"];function rq(e,t){if(e==null)return{};var n,r,l=aq(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function aq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var iq={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},sq=j.createContext(iq);function DA(e){var{children:t}=e,n=rq(e,nq);return j.createElement(sq.Provider,{value:n},t)}function Yv(e,t){var n,r,l=$e(h=>Li(h,e)),c=$e(h=>zi(h,t)),u=(n=l==null?void 0:l.allowDataOverflow)!==null&&n!==void 0?n:Br.allowDataOverflow,f=(r=c==null?void 0:c.allowDataOverflow)!==null&&r!==void 0?r:$r.allowDataOverflow,m=u||f;return{needClip:m,needClipX:u,needClipY:f}}function EA(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,l=Gv(),{needClipX:c,needClipY:u,needClip:f}=Yv(t,n);if(!f)return null;var{x:m,y:h,width:p,height:x}=l;return j.createElement("clipPath",{id:"clipPath-".concat(r)},j.createElement("rect",{x:c?m:m-p/2,y:u?h:h-x/2,width:c?p:p*2,height:u?x:x*2}))}var lq=["onMouseEnter","onMouseLeave","onClick"],oq=["value","background","tooltipPosition"],cq=["id"],uq=["onMouseEnter","onClick","onMouseLeave"];function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ks.apply(null,arguments)}function LS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LS(Object(n),!0).forEach(function(r){dq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dq(e,t,n){return(t=fq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fq(e){var t=mq(e,"string");return typeof t=="symbol"?t:t+""}function mq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gf(e,t){if(e==null)return{};var n,r,l=hq(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function hq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var pq=e=>{var{dataKey:t,name:n,fill:r,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:r,value:vo(n,t),payload:e}]};function gq(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:l,name:c,hide:u,unit:f}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:l,dataKey:t,nameKey:void 0,name:vo(c,t),hide:u,type:e.tooltipType,color:e.fill,unit:f}}}function xq(e){var t=$e(Ns),{data:n,dataKey:r,background:l,allOtherBarProps:c}=e,{onMouseEnter:u,onMouseLeave:f,onClick:m}=c,h=gf(c,lq),p=Uv(u,r),x=qv(f),b=Hv(m,r);if(!l||n==null)return null;var y=ml(l);return j.createElement(j.Fragment,null,n.map((N,w)=>{var{value:S,background:D,tooltipPosition:P}=N,O=gf(N,oq);if(!D)return null;var I=p(N,w),R=x(N,w),M=b(N,w),B=pr(pr(pr(pr(pr({option:l,isActive:String(w)===t},O),{},{fill:"#eee"},D),y),Vc(h,N,w)),{},{onMouseEnter:I,onMouseLeave:R,onClick:M,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return j.createElement(Wv,ks({key:"background-bar-".concat(w)},B))}))}function vq(e){var{showLabels:t,children:n,rects:r}=e,l=r==null?void 0:r.map(c=>{var u={x:c.x,y:c.y,width:c.width,height:c.height};return pr(pr({},u),{},{value:c.value,payload:c.payload,parentViewBox:c.parentViewBox,viewBox:u,fill:c.fill})});return j.createElement(hA,{value:t?l:void 0},n)}function yq(e){var{shape:t,activeBar:n,baseProps:r,entry:l,index:c,dataKey:u}=e,f=$e(Ns),m=$e(Y3),h=n&&String(c)===f&&(m==null||u===m),p=h?n:t;return j.createElement(Wv,ks({},r,{name:String(r.name)},l,{isActive:h,option:p,index:c,dataKey:u}))}function bq(e){var{shape:t,baseProps:n,entry:r,index:l,dataKey:c}=e;return j.createElement(Wv,ks({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:l,dataKey:c}))}function jq(e){var{data:t,props:n}=e,r=Vr(n),{id:l}=r,c=gf(r,cq),{shape:u,dataKey:f,activeBar:m}=n,{onMouseEnter:h,onClick:p,onMouseLeave:x}=n,b=gf(n,uq),y=Uv(h,f),N=qv(x),w=Hv(p,f);return t?j.createElement(j.Fragment,null,t.map((S,D)=>j.createElement(Qn,ks({key:"rectangle-".concat(S==null?void 0:S.x,"-").concat(S==null?void 0:S.y,"-").concat(S==null?void 0:S.value,"-").concat(D),className:"recharts-bar-rectangle"},Vc(b,S,D),{onMouseEnter:y(S,D),onMouseLeave:N(S,D),onClick:w(S,D)}),m?j.createElement(yq,{shape:u,activeBar:m,baseProps:c,entry:S,index:D,dataKey:f}):j.createElement(bq,{shape:u,baseProps:c,entry:S,index:D,dataKey:f})))):null}function wq(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:l,isAnimationActive:c,animationBegin:u,animationDuration:f,animationEasing:m,onAnimationEnd:h,onAnimationStart:p}=t,x=n.current,b=Qc(t,"recharts-bar-"),[y,N]=j.useState(!1),w=!y,S=j.useCallback(()=>{typeof h=="function"&&h(),N(!1)},[h]),D=j.useCallback(()=>{typeof p=="function"&&p(),N(!0)},[p]);return j.createElement(vq,{showLabels:w,rects:r},j.createElement(Yc,{animationId:b,begin:u,duration:f,isActive:c,easing:m,onAnimationEnd:S,onAnimationStart:D,key:b},P=>{var O=P===1?r:r==null?void 0:r.map((I,R)=>{var M=x&&x[R];if(M)return pr(pr({},I),{},{x:pn(M.x,I.x,P),y:pn(M.y,I.y,P),width:pn(M.width,I.width,P),height:pn(M.height,I.height,P)});if(l==="horizontal"){var B=pn(0,I.height,P);return pr(pr({},I),{},{y:I.y+I.height-B,height:B})}var $=pn(0,I.width,P);return pr(pr({},I),{},{width:$})});return P>0&&(n.current=O??null),O==null?null:j.createElement(Qn,null,j.createElement(jq,{props:t,data:O}))}),j.createElement(Lv,{label:t.label}),t.children)}function Nq(e){var t=j.useRef(null);return j.createElement(wq,{previousRectanglesRef:t,props:e})}var MA=0,Sq=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Qt(e,t)}};class kq extends j.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:l,xAxisId:c,yAxisId:u,needClip:f,background:m,id:h}=this.props;if(t||n==null)return null;var p=Dt("recharts-bar",l),x=h;return j.createElement(Qn,{className:p,id:h},f&&j.createElement("defs",null,j.createElement(EA,{clipPathId:x,xAxisId:c,yAxisId:u})),j.createElement(Qn,{className:"recharts-bar-rectangles",clipPath:f?"url(#clipPath-".concat(x,")"):void 0},j.createElement(xq,{data:n,dataKey:r,background:m,allOtherBarProps:this.props}),j.createElement(Nq,this.props)))}}var Cq={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Os.isSsr,legendType:"rect",minPointSize:MA,xAxisId:0,yAxisId:0};function Oq(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:l,minPointSize:c,activeBar:u,animationBegin:f,animationDuration:m,animationEasing:h,isAnimationActive:p}=e,{needClip:x}=Yv(t,n),b=Bf(),y=vr(),N=$v(e.children,yl),w=$e(P=>t9(P,t,n,y,e.id,N));if(b!=="vertical"&&b!=="horizontal")return null;var S,D=w==null?void 0:w[0];return D==null||D.height==null||D.width==null?S=0:S=b==="vertical"?D.height/2:D.width/2,j.createElement(DA,{xAxisId:t,yAxisId:n,data:w,dataPointFormatter:Sq,errorBarOffset:S},j.createElement(kq,ks({},e,{layout:b,needClip:x,data:w,xAxisId:t,yAxisId:n,hide:r,legendType:l,minPointSize:c,activeBar:u,animationBegin:f,animationDuration:m,animationEasing:h,isAnimationActive:p})))}function Aq(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:l,bandSize:c,xAxis:u,yAxis:f,xAxisTicks:m,yAxisTicks:h,stackedData:p,displayedData:x,offset:b,cells:y,parentViewBox:N}=e,w=t==="horizontal"?f:u,S=p?w.scale.domain():null,D=S_({numericAxis:w});return x.map((P,O)=>{var I,R,M,B,$,Y;p?I=v_(p[O],S):(I=Qt(P,n),Array.isArray(I)||(I=[D,I]));var X=JU(r,MA)(I[1],O);if(t==="horizontal"){var le,[he,we]=[f.scale(I[0]),f.scale(I[1])];R=gw({axis:u,ticks:m,bandSize:c,offset:l.offset,entry:P,index:O}),M=(le=we??he)!==null&&le!==void 0?le:void 0,B=l.size;var Te=he-we;if($=ga(Te)?0:Te,Y={x:R,y:b.top,width:B,height:b.height},Math.abs(X)>0&&Math.abs($)<Math.abs(X)){var De=$n($||X)*(Math.abs(X)-Math.abs($));M-=De,$+=De}}else{var[Z,ce]=[u.scale(I[0]),u.scale(I[1])];if(R=Z,M=gw({axis:f,ticks:h,bandSize:c,offset:l.offset,entry:P,index:O}),B=ce-Z,$=l.size,Y={x:b.left,y:M,width:b.width,height:$},Math.abs(X)>0&&Math.abs(B)<Math.abs(X)){var ke=$n(B||X)*(Math.abs(X)-Math.abs(B));B+=ke}}if(R==null||M==null||B==null||$==null)return null;var G=pr(pr({},P),{},{x:R,y:M,width:B,height:$,value:p?I:I[1],payload:P,background:Y,tooltipPosition:{x:R+B/2,y:M+$/2},parentViewBox:N},y&&y[O]&&y[O].props);return G}).filter(Boolean)}function Tq(e){var t=Xn(e,Cq),n=vr();return j.createElement(Vv,{id:t.id,type:"bar"},r=>j.createElement(j.Fragment,null,j.createElement(kA,{legendPayload:pq(t)}),j.createElement(Fv,{fn:gq,args:t}),j.createElement(OA,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:N_(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),j.createElement(Oq,ks({},t,{id:r}))))}var $a=j.memo(Tq);$a.displayName="Bar";function zS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(n),!0).forEach(function(r){Dq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dq(e,t,n){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eq(e){var t=Mq(e,"string");return typeof t=="symbol"?t:t+""}function Mq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _q=(e,t)=>t,Iq=(e,t,n)=>n,Pq=(e,t,n,r)=>r,Rq=(e,t,n,r,l)=>l,ou=re([em,Rq],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),Lq=re([ou],e=>e==null?void 0:e.maxBarSize),zq=(e,t,n,r,l,c)=>c,BS=(e,t,n)=>{var r=n??e;if(!on(r))return or(r,t,0)},Bq=re([Ct,em,_q,Iq,Pq],(e,t,n,r,l)=>t.filter(c=>e==="horizontal"?c.xAxisId===n:c.yAxisId===r).filter(c=>c.isPanorama===l).filter(c=>c.hide===!1).filter(c=>c.type==="bar")),$q=(e,t,n,r)=>{var l=Ct(e);return l==="horizontal"?M0(e,"yAxis",n,r):M0(e,"xAxis",t,r)},Uq=(e,t,n)=>{var r=Ct(e);return r==="horizontal"?$N(e,"xAxis",t):$N(e,"yAxis",n)},qq=(e,t,n)=>{var r={},l=e.filter(Xf),c=e.filter(h=>h.stackId==null),u=l.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),f=Object.entries(u).map(h=>{var[p,x]=h,b=x.map(N=>N.dataKey),y=BS(t,n,x[0].barSize);return{stackId:p,dataKeys:b,barSize:y}}),m=c.map(h=>{var p=[h.dataKey].filter(b=>b!=null),x=BS(t,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:x}});return[...f,...m]},Hq=re([Bq,Nz,Uq],qq),Fq=(e,t,n,r,l)=>{var c,u,f=ou(e,t,n,r,l);if(f!=null){var m=Ct(e),h=YO(e),{maxBarSize:p}=f,x=on(p)?h:p,b,y;return m==="horizontal"?(b=ws(e,"xAxis",t,r),y=js(e,"xAxis",t,r)):(b=ws(e,"yAxis",n,r),y=js(e,"yAxis",n,r)),(c=(u=_c(b,y,!0))!==null&&u!==void 0?u:x)!==null&&c!==void 0?c:0}},_A=(e,t,n,r)=>{var l=Ct(e),c,u;return l==="horizontal"?(c=ws(e,"xAxis",t,r),u=js(e,"xAxis",t,r)):(c=ws(e,"yAxis",n,r),u=js(e,"yAxis",n,r)),_c(c,u)};function Vq(e,t,n,r,l){var c=r.length;if(!(c<1)){var u=or(e,n,0,!0),f,m=[];if(cr(r[0].barSize)){var h=!1,p=n/c,x=r.reduce((D,P)=>D+(P.barSize||0),0);x+=(c-1)*u,x>=n&&(x-=(c-1)*u,u=0),x>=n&&p>0&&(h=!0,p*=.9,x=c*p);var b=(n-x)/2>>0,y={offset:b-u,size:0};f=r.reduce((D,P)=>{var O,I={stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:y.offset+y.size+u,size:h?p:(O=P.barSize)!==null&&O!==void 0?O:0}},R=[...D,I];return y=R[R.length-1].position,R},m)}else{var N=or(t,n,0,!0);n-2*N-(c-1)*u<=0&&(u=0);var w=(n-2*N-(c-1)*u)/c;w>1&&(w>>=0);var S=cr(l)?Math.min(w,l):w;f=r.reduce((D,P,O)=>[...D,{stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:N+(w+u)*O+(w-S)/2,size:S}}],m)}return f}}var Kq=(e,t,n,r,l,c,u)=>{var f=on(u)?t:u,m=Vq(n,r,l!==c?l:c,e,f);return l!==c&&m!=null&&(m=m.map(h=>Td(Td({},h),{},{position:Td(Td({},h.position),{},{offset:h.position.offset-l/2})}))),m},Gq=re([Hq,YO,wz,QO,Fq,_A,Lq],Kq),Wq=(e,t,n,r)=>ws(e,"xAxis",t,r),Yq=(e,t,n,r)=>ws(e,"yAxis",n,r),Qq=(e,t,n,r)=>js(e,"xAxis",t,r),Xq=(e,t,n,r)=>js(e,"yAxis",n,r),Zq=re([Gq,ou],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Jq=(e,t)=>{var n=iv(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var l=e[r];if(l){var{stackedData:c}=l;if(c)return c.find(u=>u.key===n)}}}},e9=re([$q,ou],Jq),t9=re([In,jx,Wq,Yq,Qq,Xq,Zq,Ct,Gf,_A,e9,ou,zq],(e,t,n,r,l,c,u,f,m,h,p,x,b)=>{var{chartData:y,dataStartIndex:N,dataEndIndex:w}=m;if(!(x==null||u==null||t==null||f!=="horizontal"&&f!=="vertical"||n==null||r==null||l==null||c==null||h==null)){var{data:S}=x,D;if(S!=null&&S.length>0?D=S:D=y==null?void 0:y.slice(N,w+1),D!=null)return Aq({layout:f,barSettings:x,pos:u,parentViewBox:t,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:l,yAxisTicks:c,stackedData:p,displayedData:D,offset:e,cells:b})}}),IA=e=>{var{chartData:t}=e,n=cn(),r=vr();return j.useEffect(()=>r?()=>{}:(n(QN(t)),()=>{n(QN(void 0))}),[t,n,r]),null},$S={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},PA=Gr({name:"brush",initialState:$S,reducers:{setBrushSettings(e,t){return t.payload==null?$S:t.payload}}}),{setBrushSettings:BV}=PA.actions,n9=PA.reducer;function r9(e,t,n){return(t=a9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a9(e){var t=i9(e,"string");return typeof t=="symbol"?t:t+""}function i9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Qv{static create(t){return new Qv(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(t)+c}default:return this.scale(t)}if(n){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+u}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],l=n[n.length-1];return r<=l?t>=r&&t<=l:t>=l&&t<=r}}r9(Qv,"EPS",1e-4);function s9(e){return(e%180+180)%180}var l9=function(t){var{width:n,height:r}=t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=s9(l),u=c*Math.PI/180,f=Math.atan(r/n),m=u>f&&u<Math.PI-f?r/Math.sin(u):n/Math.cos(u);return Math.abs(m)},o9={dots:[],areas:[],lines:[]},RA=Gr({name:"referenceElements",initialState:o9,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ki(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ki(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ki(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:$V,removeDot:UV,addArea:qV,removeArea:HV,addLine:FV,removeLine:VV}=RA.actions,c9=RA.reducer,u9=j.createContext(void 0),d9=e=>{var{children:t}=e,[n]=j.useState("".concat(Tc("recharts"),"-clip")),r=Gv();if(r==null)return null;var{x:l,y:c,width:u,height:f}=r;return j.createElement(u9.Provider,{value:n},j.createElement("defs",null,j.createElement("clipPath",{id:n},j.createElement("rect",{x:l,y:c,height:f,width:u}))),t)};function ho(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function LA(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],l=0;l<e.length;l+=t)r.push(e[l]);return r}function f9(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return l9(r,n)}function m9(e,t,n){var r=n==="width",{x:l,y:c,width:u,height:f}=e;return t===1?{start:r?l:c,end:r?l+u:c+f}:{start:r?l+u:c+f,end:r?l:c}}function xf(e,t,n,r,l){if(e*t<e*r||e*t>e*l)return!1;var c=n();return e*(t-e*c/2-r)>=0&&e*(t+e*c/2-l)<=0}function h9(e,t){return LA(e,t+1)}function p9(e,t,n,r,l){for(var c=(r||[]).slice(),{start:u,end:f}=t,m=0,h=1,p=u,x=function(){var N=r==null?void 0:r[m];if(N===void 0)return{v:LA(r,h)};var w=m,S,D=()=>(S===void 0&&(S=n(N,w)),S),P=N.coordinate,O=m===0||xf(e,P,D,p,f);O||(m=0,p=u,h+=1),O&&(p=P+e*(D()/2+l),m+=h)},b;h<=c.length;)if(b=x(),b)return b.v;return[]}function US(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?US(Object(n),!0).forEach(function(r){g9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):US(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g9(e,t,n){return(t=x9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x9(e){var t=v9(e,"string");return typeof t=="symbol"?t:t+""}function v9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y9(e,t,n,r,l){for(var c=(r||[]).slice(),u=c.length,{start:f}=t,{end:m}=t,h=function(b){var y=c[b],N,w=()=>(N===void 0&&(N=n(y,b)),N);if(b===u-1){var S=e*(y.coordinate+e*w()/2-m);c[b]=y=sr(sr({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate})}else c[b]=y=sr(sr({},y),{},{tickCoord:y.coordinate});var D=xf(e,y.tickCoord,w,f,m);D&&(m=y.tickCoord-e*(w()/2+l),c[b]=sr(sr({},y),{},{isShow:!0}))},p=u-1;p>=0;p--)h(p);return c}function b9(e,t,n,r,l,c){var u=(r||[]).slice(),f=u.length,{start:m,end:h}=t;if(c){var p=r[f-1],x=n(p,f-1),b=e*(p.coordinate+e*x/2-h);u[f-1]=p=sr(sr({},p),{},{tickCoord:b>0?p.coordinate-b*e:p.coordinate});var y=xf(e,p.tickCoord,()=>x,m,h);y&&(h=p.tickCoord-e*(x/2+l),u[f-1]=sr(sr({},p),{},{isShow:!0}))}for(var N=c?f-1:f,w=function(P){var O=u[P],I,R=()=>(I===void 0&&(I=n(O,P)),I);if(P===0){var M=e*(O.coordinate-e*R()/2-m);u[P]=O=sr(sr({},O),{},{tickCoord:M<0?O.coordinate-M*e:O.coordinate})}else u[P]=O=sr(sr({},O),{},{tickCoord:O.coordinate});var B=xf(e,O.tickCoord,R,m,h);B&&(m=O.tickCoord+e*(R()/2+l),u[P]=sr(sr({},O),{},{isShow:!0}))},S=0;S<N;S++)w(S);return u}function Xv(e,t,n){var{tick:r,ticks:l,viewBox:c,minTickGap:u,orientation:f,interval:m,tickFormatter:h,unit:p,angle:x}=e;if(!l||!l.length||!r)return[];if(Ke(m)||Os.isSsr){var b;return(b=h9(l,Ke(m)?m:0))!==null&&b!==void 0?b:[]}var y=[],N=f==="top"||f==="bottom"?"width":"height",w=p&&N==="width"?Oc(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(O,I)=>{var R=typeof h=="function"?h(O.value,I):O.value;return N==="width"?f9(Oc(R,{fontSize:t,letterSpacing:n}),w,x):Oc(R,{fontSize:t,letterSpacing:n})[N]},D=l.length>=2?$n(l[1].coordinate-l[0].coordinate):1,P=m9(c,D,N);return m==="equidistantPreserveStart"?p9(D,P,S,l,u):(m==="preserveStart"||m==="preserveStartEnd"?y=b9(D,P,S,l,u,m==="preserveStartEnd"):y=y9(D,P,S,l,u),y.filter(O=>O.isShow))}var j9=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:l=0,tickMargin:c=0}=e,u=0;if(t){Array.from(t).forEach(p=>{if(p){var x=p.getBoundingClientRect();x.width>u&&(u=x.width)}});var f=n?n.getBoundingClientRect().width:0,m=l+c,h=u+m+f+(n?r:0);return Math.round(h)}return 0},w9=["axisLine","width","height","className","hide","ticks"],N9=["viewBox"],S9=["viewBox"];function U0(e,t){if(e==null)return{};var n,r,l=k9(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function k9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bl(){return bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bl.apply(null,arguments)}function qS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qS(Object(n),!0).forEach(function(r){C9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C9(e,t,n){return(t=O9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O9(e){var t=A9(e,"string");return typeof t=="symbol"?t:t+""}function A9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zv={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function T9(e){var{x:t,y:n,width:r,height:l,orientation:c,mirror:u,axisLine:f,otherSvgProps:m}=e;if(!f)return null;var h=_n(_n(_n({},m),Vr(f)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);h=_n(_n({},h),{},{x1:t,y1:n+p*l,x2:t+r,y2:n+p*l})}else{var x=+(c==="left"&&!u||c==="right"&&u);h=_n(_n({},h),{},{x1:t+x*r,y1:n,x2:t+x*r,y2:n+l})}return j.createElement("line",bl({},h,{className:Dt("recharts-cartesian-axis-line",hl(f,"className"))}))}function D9(e,t,n,r,l,c,u,f,m){var h,p,x,b,y,N,w=f?-1:1,S=e.tickSize||u,D=Ke(e.tickCoord)?e.tickCoord:e.coordinate;switch(c){case"top":h=p=e.coordinate,b=n+ +!f*l,x=b-w*S,N=x-w*m,y=D;break;case"left":x=b=e.coordinate,p=t+ +!f*r,h=p-w*S,y=h-w*m,N=D;break;case"right":x=b=e.coordinate,p=t+ +f*r,h=p+w*S,y=h+w*m,N=D;break;default:h=p=e.coordinate,b=n+ +f*l,x=b+w*S,N=x+w*m,y=D;break}return{line:{x1:h,y1:x,x2:p,y2:b},tick:{x:y,y:N}}}function E9(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function M9(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function _9(e){var{option:t,tickProps:n,value:r}=e,l,c=Dt(n.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))l=j.cloneElement(t,_n(_n({},n),{},{className:c}));else if(typeof t=="function")l=t(_n(_n({},n),{},{className:c}));else{var u="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(u=Dt(u,t==null?void 0:t.className)),l=j.createElement(sm,bl({},n,{className:u}),r)}return l}function I9(e){var{ticks:t=[],tick:n,tickLine:r,stroke:l,tickFormatter:c,unit:u,padding:f,tickTextProps:m,orientation:h,mirror:p,x,y:b,width:y,height:N,tickSize:w,tickMargin:S,fontSize:D,letterSpacing:P,getTicksConfig:O,events:I}=e,R=Xv(_n(_n({},O),{},{ticks:t}),D,P),M=E9(h,p),B=M9(h,p),$=Vr(O),Y=ml(n),X={};typeof r=="object"&&(X=r);var le=_n(_n({},$),{},{fill:"none"},X),he=R.map((we,Te)=>{var{line:De,tick:Z}=D9(we,x,b,y,N,h,w,p,S),ce=_n(_n(_n(_n({textAnchor:M,verticalAnchor:B},$),{},{stroke:"none",fill:l},Y),Z),{},{index:Te,payload:we,visibleTicksCount:R.length,tickFormatter:c,padding:f},m);return j.createElement(Qn,bl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(we.value,"-").concat(we.coordinate,"-").concat(we.tickCoord)},Vc(I,we,Te)),r&&j.createElement("line",bl({},le,De,{className:Dt("recharts-cartesian-axis-tick-line",hl(r,"className"))})),n&&j.createElement(_9,{option:n,tickProps:ce,value:"".concat(typeof c=="function"?c(we.value,Te):we.value).concat(u||"")}))});return he.length>0?j.createElement("g",{className:"recharts-cartesian-axis-ticks"},he):null}var P9=j.forwardRef((e,t)=>{var{axisLine:n,width:r,height:l,className:c,hide:u,ticks:f}=e,m=U0(e,w9),[h,p]=j.useState(""),[x,b]=j.useState(""),y=j.useRef(null);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var w;return j9({ticks:y.current,label:(w=e.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var N=j.useCallback(w=>{if(w){var S=w.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=S;var D=S[0];if(D){var P=window.getComputedStyle(D),O=P.fontSize,I=P.letterSpacing;(O!==h||I!==x)&&(p(O),b(I))}}},[h,x]);return u||r!=null&&r<=0||l!=null&&l<=0?null:j.createElement(Qn,{className:Dt("recharts-cartesian-axis",c),ref:N},j.createElement(T9,{x:e.x,y:e.y,width:r,height:l,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Vr(e)}),j.createElement(I9,{ticks:f,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:h,letterSpacing:x,getTicksConfig:e,events:m}),j.createElement(L7,{x:e.x,y:e.y,width:e.width,height:e.height},j.createElement(G7,{label:e.label,labelRef:e.labelRef}),e.children))}),R9=j.memo(P9,(e,t)=>{var{viewBox:n}=e,r=U0(e,N9),{viewBox:l}=t,c=U0(t,S9);return ho(n,l)&&ho(r,c)}),Jv=j.forwardRef((e,t)=>{var n=Xn(e,Zv);return j.createElement(R9,bl({},n,{ref:t}))});Jv.displayName="CartesianAxis";var L9=["x1","y1","x2","y2","key"],z9=["offset"],B9=["xAxisId","yAxisId"],$9=["xAxisId","yAxisId"];function HS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(n),!0).forEach(function(r){U9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U9(e,t,n){return(t=q9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q9(e){var t=H9(e,"string");return typeof t=="symbol"?t:t+""}function H9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ol.apply(null,arguments)}function vf(e,t){if(e==null)return{};var n,r,l=F9(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function F9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var V9=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:l,width:c,height:u,ry:f}=e;return j.createElement("rect",{x:r,y:l,ry:f,width:c,height:u,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function zA(e,t){var n;if(j.isValidElement(e))n=j.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:l,x2:c,y2:u,key:f}=t,m=vf(t,L9),h=Vr(m),{offset:p}=h,x=vf(h,z9);n=j.createElement("line",ol({},x,{x1:r,y1:l,x2:c,y2:u,fill:"none",key:f}))}return n}function K9(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:l}=e;if(!r||!l||!l.length)return null;var{xAxisId:c,yAxisId:u}=e,f=vf(e,B9),m=l.map((h,p)=>{var x=lr(lr({},f),{},{x1:t,y1:h,x2:t+n,y2:h,key:"line-".concat(p),index:p});return zA(r,x)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function G9(e){var{y:t,height:n,vertical:r=!0,verticalPoints:l}=e;if(!r||!l||!l.length)return null;var{xAxisId:c,yAxisId:u}=e,f=vf(e,$9),m=l.map((h,p)=>{var x=lr(lr({},f),{},{x1:h,y1:t,x2:h,y2:t+n,key:"line-".concat(p),index:p});return zA(r,x)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function W9(e){var{horizontalFill:t,fillOpacity:n,x:r,y:l,width:c,height:u,horizontalPoints:f,horizontal:m=!0}=e;if(!m||!t||!t.length)return null;var h=f.map(x=>Math.round(x+l-l)).sort((x,b)=>x-b);l!==h[0]&&h.unshift(0);var p=h.map((x,b)=>{var y=!h[b+1],N=y?l+u-x:h[b+1]-x;if(N<=0)return null;var w=b%t.length;return j.createElement("rect",{key:"react-".concat(b),y:x,x:r,height:N,width:c,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Y9(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:l,y:c,width:u,height:f,verticalPoints:m}=e;if(!t||!n||!n.length)return null;var h=m.map(x=>Math.round(x+l-l)).sort((x,b)=>x-b);l!==h[0]&&h.unshift(0);var p=h.map((x,b)=>{var y=!h[b+1],N=y?l+u-x:h[b+1]-x;if(N<=0)return null;var w=b%n.length;return j.createElement("rect",{key:"react-".concat(b),x,y:c,width:N,height:f,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Q9=(e,t)=>{var{xAxis:n,width:r,height:l,offset:c}=e;return MC(Xv(lr(lr(lr({},Zv),n),{},{ticks:_C(n),viewBox:{x:0,y:0,width:r,height:l}})),c.left,c.left+c.width,t)},X9=(e,t)=>{var{yAxis:n,width:r,height:l,offset:c}=e;return MC(Xv(lr(lr(lr({},Zv),n),{},{ticks:_C(n),viewBox:{x:0,y:0,width:r,height:l}})),c.top,c.top+c.height,t)},Z9={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function xs(e){var t=Nx(),n=Sx(),r=$C(),l=lr(lr({},Xn(e,Z9)),{},{x:Ke(e.x)?e.x:r.left,y:Ke(e.y)?e.y:r.top,width:Ke(e.width)?e.width:r.width,height:Ke(e.height)?e.height:r.height}),{xAxisId:c,yAxisId:u,x:f,y:m,width:h,height:p,syncWithTicks:x,horizontalValues:b,verticalValues:y}=l,N=vr(),w=$e(Y=>UN(Y,"xAxis",c,N)),S=$e(Y=>UN(Y,"yAxis",u,N));if(!Ke(h)||h<=0||!Ke(p)||p<=0||!Ke(f)||f!==+f||!Ke(m)||m!==+m)return null;var D=l.verticalCoordinatesGenerator||Q9,P=l.horizontalCoordinatesGenerator||X9,{horizontalPoints:O,verticalPoints:I}=l;if((!O||!O.length)&&typeof P=="function"){var R=b&&b.length,M=P({yAxis:S?lr(lr({},S),{},{ticks:R?b:S.ticks}):void 0,width:t,height:n,offset:r},R?!0:x);Yd(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(O=M)}if((!I||!I.length)&&typeof D=="function"){var B=y&&y.length,$=D({xAxis:w?lr(lr({},w),{},{ticks:B?y:w.ticks}):void 0,width:t,height:n,offset:r},B?!0:x);Yd(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(I=$)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(V9,{fill:l.fill,fillOpacity:l.fillOpacity,x:l.x,y:l.y,width:l.width,height:l.height,ry:l.ry}),j.createElement(W9,ol({},l,{horizontalPoints:O})),j.createElement(Y9,ol({},l,{verticalPoints:I})),j.createElement(K9,ol({},l,{offset:r,horizontalPoints:O,xAxis:w,yAxis:S})),j.createElement(G9,ol({},l,{offset:r,verticalPoints:I,xAxis:w,yAxis:S})))}xs.displayName="CartesianGrid";var BA=(e,t,n,r)=>ws(e,"xAxis",t,r),$A=(e,t,n,r)=>js(e,"xAxis",t,r),UA=(e,t,n,r)=>ws(e,"yAxis",n,r),qA=(e,t,n,r)=>js(e,"yAxis",n,r),J9=re([Ct,BA,UA,$A,qA],(e,t,n,r,l)=>Cs(e,"xAxis")?_c(t,r,!1):_c(n,l,!1)),eH=(e,t,n,r,l)=>l;function tH(e){return e.type==="line"}var nH=re([em,eH],(e,t)=>e.filter(tH).find(n=>n.id===t)),rH=re([Ct,BA,UA,$A,qA,nH,J9,Gf],(e,t,n,r,l,c,u,f)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:p}=f;if(!(c==null||t==null||n==null||r==null||l==null||r.length===0||l.length===0||u==null)){var{dataKey:x,data:b}=c,y;if(b!=null&&b.length>0?y=b:y=m==null?void 0:m.slice(h,p+1),y!=null)return CH({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:l,dataKey:x,bandSize:u,displayedData:y})}});function aH(e){var t=ml(e),n=3,r=2;if(t!=null){var{r:l,strokeWidth:c}=t,u=Number(l),f=Number(c);return(Number.isNaN(u)||u<0)&&(u=n),(Number.isNaN(f)||f<0)&&(f=r),{r:u,strokeWidth:f}}return{r:n,strokeWidth:r}}var iH=["id"],sH=["type","layout","connectNulls","needClip"],lH=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function FS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(n),!0).forEach(function(r){oH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oH(e,t,n){return(t=cH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cH(e){var t=uH(e,"string");return typeof t=="symbol"?t:t+""}function uH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ey(e,t){if(e==null)return{};var n,r,l=dH(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function dH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jl(){return jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jl.apply(null,arguments)}var fH=e=>{var{dataKey:t,name:n,stroke:r,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:r,value:vo(n,t),payload:e}]};function mH(e){var{dataKey:t,data:n,stroke:r,strokeWidth:l,fill:c,name:u,hide:f,unit:m}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:l,fill:c,dataKey:t,nameKey:void 0,name:vo(u,t),hide:f,type:e.tooltipType,color:e.stroke,unit:m}}}var HA=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function hH(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],l=0;l<t;++l)r=[...r,...n];return r}var pH=(e,t,n)=>{var r=n.reduce((x,b)=>x+b);if(!r)return HA(t,e);for(var l=Math.floor(e/r),c=e%r,u=t-e,f=[],m=0,h=0;m<n.length;h+=n[m],++m)if(h+n[m]>c){f=[...n.slice(0,m),c-h];break}var p=f.length%2===0?[0,u]:[u];return[...hH(n,l),...f,...p].map(x=>"".concat(x,"px")).join(", ")};function gH(e,t){var n;if(j.isValidElement(e))n=j.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=Dt("recharts-line-dot",typeof e!="boolean"?e.className:"");n=j.createElement(gA,jl({},t,{className:r}))}return n}function xH(e,t){return e==null?!1:t?!0:e.length===1}function vH(e){var{clipPathId:t,points:n,props:r}=e,{dot:l,dataKey:c,needClip:u}=r;if(!xH(n,l))return null;var{id:f}=r,m=ey(r,iH),h=wA(l),p=Vr(m),x=l6(l),b=n.map((N,w)=>{var S=qr(qr(qr({key:"dot-".concat(w),r:3},p),x),{},{index:w,cx:N.x,cy:N.y,dataKey:c,value:N.value,payload:N.payload,points:n});return gH(l,S)}),y={clipPath:u?"url(#clipPath-".concat(h?"":"dots-").concat(t,")"):void 0};return j.createElement(Qn,jl({className:"recharts-line-dots",key:"dots"},y),b)}function yH(e){var{showLabels:t,children:n,points:r}=e,l=j.useMemo(()=>r==null?void 0:r.map(c=>{var u={x:c.x,y:c.y,width:0,height:0};return qr(qr({},u),{},{value:c.value,payload:c.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return j.createElement(hA,{value:t?l:null},n)}function VS(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:l,props:c}=e,{type:u,layout:f,connectNulls:m,needClip:h}=c,p=ey(c,sH),x=qr(qr({},xr(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:r,type:u,layout:f,connectNulls:m,strokeDasharray:l??c.strokeDasharray});return j.createElement(j.Fragment,null,(r==null?void 0:r.length)>1&&j.createElement(Cx,jl({},x,{pathRef:n})),j.createElement(vH,{points:r,clipPathId:t,props:c}))}function bH(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function jH(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:l,longestAnimatedLengthRef:c}=e,{points:u,strokeDasharray:f,isAnimationActive:m,animationBegin:h,animationDuration:p,animationEasing:x,animateNewValues:b,width:y,height:N,onAnimationEnd:w,onAnimationStart:S}=n,D=l.current,P=Qc(n,"recharts-line-"),[O,I]=j.useState(!1),R=!O,M=j.useCallback(()=>{typeof w=="function"&&w(),I(!1)},[w]),B=j.useCallback(()=>{typeof S=="function"&&S(),I(!0)},[S]),$=bH(r.current),Y=c.current;return j.createElement(yH,{points:u,showLabels:R},n.children,j.createElement(Yc,{animationId:P,begin:h,duration:p,isActive:m,easing:x,onAnimationEnd:M,onAnimationStart:B,key:P},X=>{var le=pn(Y,$+Y,X),he=Math.min(le,$),we;if(m)if(f){var Te="".concat(f).split(/[,\s]+/gim).map(ce=>parseFloat(ce));we=pH(he,$,Te)}else we=HA($,he);else we=f==null?void 0:String(f);if(D){var De=D.length/u.length,Z=X===1?u:u.map((ce,ke)=>{var G=Math.floor(ke*De);if(D[G]){var Ne=D[G];return qr(qr({},ce),{},{x:pn(Ne.x,ce.x,X),y:pn(Ne.y,ce.y,X)})}return b?qr(qr({},ce),{},{x:pn(y*2,ce.x,X),y:pn(N/2,ce.y,X)}):qr(qr({},ce),{},{x:ce.x,y:ce.y})});return l.current=Z,j.createElement(VS,{props:n,points:Z,clipPathId:t,pathRef:r,strokeDasharray:we})}return X>0&&$>0&&(l.current=u,c.current=he),j.createElement(VS,{props:n,points:u,clipPathId:t,pathRef:r,strokeDasharray:we})}),j.createElement(Lv,{label:n.label}))}function wH(e){var{clipPathId:t,props:n}=e,r=j.useRef(null),l=j.useRef(0),c=j.useRef(null);return j.createElement(jH,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:l,pathRef:c})}var NH=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Qt(e.payload,t)});class SH extends j.Component{render(){var{hide:t,dot:n,points:r,className:l,xAxisId:c,yAxisId:u,top:f,left:m,width:h,height:p,id:x,needClip:b}=this.props;if(t)return null;var y=Dt("recharts-line",l),N=x,{r:w,strokeWidth:S}=aH(n),D=wA(n),P=w*2+S;return j.createElement(j.Fragment,null,j.createElement(Qn,{className:y},b&&j.createElement("defs",null,j.createElement(EA,{clipPathId:N,xAxisId:c,yAxisId:u}),!D&&j.createElement("clipPath",{id:"clipPath-dots-".concat(N)},j.createElement("rect",{x:m-P/2,y:f-P/2,width:h+P,height:p+P}))),j.createElement(DA,{xAxisId:c,yAxisId:u,data:r,dataPointFormatter:NH,errorBarOffset:0},j.createElement(wH,{props:this.props,clipPathId:N}))),j.createElement(HU,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var FA={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Os.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function kH(e){var t=Xn(e,FA),{activeDot:n,animateNewValues:r,animationBegin:l,animationDuration:c,animationEasing:u,connectNulls:f,dot:m,hide:h,isAnimationActive:p,label:x,legendType:b,xAxisId:y,yAxisId:N,id:w}=t,S=ey(t,lH),{needClip:D}=Yv(y,N),P=Gv(),O=Bf(),I=vr(),R=$e(X=>rH(X,y,N,I,w));if(O!=="horizontal"&&O!=="vertical"||R==null||P==null)return null;var{height:M,width:B,x:$,y:Y}=P;return j.createElement(SH,jl({},S,{id:w,connectNulls:f,dot:m,activeDot:n,animateNewValues:r,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:p,hide:h,label:x,legendType:b,xAxisId:y,yAxisId:N,points:R,layout:O,height:M,width:B,left:$,top:Y,needClip:D}))}function CH(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:l,yAxisTicks:c,dataKey:u,bandSize:f,displayedData:m}=e;return m.map((h,p)=>{var x=Qt(h,u);if(t==="horizontal"){var b=pw({axis:n,ticks:l,bandSize:f,entry:h,index:p}),y=on(x)?null:r.scale(x);return{x:b,y,value:x,payload:h}}var N=on(x)?null:n.scale(x),w=pw({axis:r,ticks:c,bandSize:f,entry:h,index:p});return N==null||w==null?null:{x:N,y:w,value:x,payload:h}}).filter(Boolean)}function OH(e){var t=Xn(e,FA),n=vr();return j.createElement(Vv,{id:t.id,type:"line"},r=>j.createElement(j.Fragment,null,j.createElement(kA,{legendPayload:fH(t)}),j.createElement(Fv,{fn:mH,args:t}),j.createElement(OA,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),j.createElement(kH,jl({},t,{id:r}))))}var VA=j.memo(OH);VA.displayName="Line";var AH=["dangerouslySetInnerHTML","ticks"],TH=["id"],DH=["domain"],EH=["domain"];function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q0.apply(null,arguments)}function yf(e,t){if(e==null)return{};var n,r,l=MH(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function MH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _H(e){var t=cn();return j.useLayoutEffect(()=>(t(DU(e)),()=>{t(EU(e))}),[e,t]),null}var IH=e=>{var{xAxisId:t,className:n}=e,r=$e(jx),l=vr(),c="xAxis",u=$e(S=>Co(S,c,t,l)),f=$e(S=>A3(S,c,t,l)),m=$e(S=>S3(S,t)),h=$e(S=>x8(S,t)),p=$e(S=>i3(S,t));if(m==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:x,ticks:b}=e,y=yf(e,AH),{id:N}=p,w=yf(p,TH);return j.createElement(Jv,q0({},y,w,{scale:u,x:h.x,y:h.y,width:m.width,height:m.height,className:Dt("recharts-".concat(c," ").concat(c),n),viewBox:r,ticks:f}))},PH={allowDataOverflow:Br.allowDataOverflow,allowDecimals:Br.allowDecimals,allowDuplicatedCategory:Br.allowDuplicatedCategory,height:Br.height,hide:!1,mirror:Br.mirror,orientation:Br.orientation,padding:Br.padding,reversed:Br.reversed,scale:Br.scale,tickCount:Br.tickCount,type:Br.type,xAxisId:0},RH=e=>{var t,n,r,l,c,u=Xn(e,PH);return j.createElement(j.Fragment,null,j.createElement(_H,{interval:(t=u.interval)!==null&&t!==void 0?t:"preserveEnd",id:u.xAxisId,scale:u.scale,type:u.type,padding:u.padding,allowDataOverflow:u.allowDataOverflow,domain:u.domain,dataKey:u.dataKey,allowDuplicatedCategory:u.allowDuplicatedCategory,allowDecimals:u.allowDecimals,tickCount:u.tickCount,includeHidden:(n=u.includeHidden)!==null&&n!==void 0?n:!1,reversed:u.reversed,ticks:u.ticks,height:u.height,orientation:u.orientation,mirror:u.mirror,hide:u.hide,unit:u.unit,name:u.name,angle:(r=u.angle)!==null&&r!==void 0?r:0,minTickGap:(l=u.minTickGap)!==null&&l!==void 0?l:5,tick:(c=u.tick)!==null&&c!==void 0?c:!0,tickFormatter:u.tickFormatter}),j.createElement(IH,u))},LH=(e,t)=>{var{domain:n}=e,r=yf(e,DH),{domain:l}=t,c=yf(t,EH);return ho(r,c)?Array.isArray(n)&&n.length===2&&Array.isArray(l)&&l.length===2?n[0]===l[0]&&n[1]===l[1]:ho({domain:n},{domain:l}):!1},vs=j.memo(RH,LH);vs.displayName="XAxis";var zH=["dangerouslySetInnerHTML","ticks"],BH=["id"],$H=["domain"],UH=["domain"];function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H0.apply(null,arguments)}function bf(e,t){if(e==null)return{};var n,r,l=qH(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function qH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function HH(e){var t=cn();return j.useLayoutEffect(()=>(t(MU(e)),()=>{t(_U(e))}),[e,t]),null}var FH=e=>{var{yAxisId:t,className:n,width:r,label:l}=e,c=j.useRef(null),u=j.useRef(null),f=$e(jx),m=vr(),h=cn(),p="yAxis",x=$e(R=>Co(R,p,t,m)),b=$e(R=>k3(R,t)),y=$e(R=>y8(R,t)),N=$e(R=>A3(R,p,t,m)),w=$e(R=>s3(R,t));if(j.useLayoutEffect(()=>{if(!(r!=="auto"||!b||Rv(l)||j.isValidElement(l)||w==null)){var R=c.current;if(R){var M=R.getCalculatedWidth();Math.round(b.width)!==Math.round(M)&&h(IU({id:t,width:M}))}}},[N,b,h,l,t,r,w]),b==null||y==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:D}=e,P=bf(e,zH),{id:O}=w,I=bf(w,BH);return j.createElement(Jv,H0({},P,I,{ref:c,labelRef:u,scale:x,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:b.width,height:b.height,className:Dt("recharts-".concat(p," ").concat(p),n),viewBox:f,ticks:N}))},VH={allowDataOverflow:$r.allowDataOverflow,allowDecimals:$r.allowDecimals,allowDuplicatedCategory:$r.allowDuplicatedCategory,hide:!1,mirror:$r.mirror,orientation:$r.orientation,padding:$r.padding,reversed:$r.reversed,scale:$r.scale,tickCount:$r.tickCount,type:$r.type,width:$r.width,yAxisId:0},KH=e=>{var t,n,r,l,c,u=Xn(e,VH);return j.createElement(j.Fragment,null,j.createElement(HH,{interval:(t=u.interval)!==null&&t!==void 0?t:"preserveEnd",id:u.yAxisId,scale:u.scale,type:u.type,domain:u.domain,allowDataOverflow:u.allowDataOverflow,dataKey:u.dataKey,allowDuplicatedCategory:u.allowDuplicatedCategory,allowDecimals:u.allowDecimals,tickCount:u.tickCount,padding:u.padding,includeHidden:(n=u.includeHidden)!==null&&n!==void 0?n:!1,reversed:u.reversed,ticks:u.ticks,width:u.width,orientation:u.orientation,mirror:u.mirror,hide:u.hide,unit:u.unit,name:u.name,angle:(r=u.angle)!==null&&r!==void 0?r:0,minTickGap:(l=u.minTickGap)!==null&&l!==void 0?l:5,tick:(c=u.tick)!==null&&c!==void 0?c:!0,tickFormatter:u.tickFormatter}),j.createElement(FH,u))},GH=(e,t)=>{var{domain:n}=e,r=bf(e,$H),{domain:l}=t,c=bf(t,UH);return ho(r,c)?Array.isArray(n)&&n.length===2&&Array.isArray(l)&&l.length===2?n[0]===l[0]&&n[1]===l[1]:ho({domain:n},{domain:l}):!1},ys=j.memo(KH,GH);ys.displayName="YAxis";var Ug={exports:{}},qg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS;function WH(){if(KS)return qg;KS=1;var e=po();function t(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,l=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return qg.useSyncExternalStoreWithSelector=function(m,h,p,x,b){var y=l(null);if(y.current===null){var N={hasValue:!1,value:null};y.current=N}else N=y.current;y=u(function(){function S(R){if(!D){if(D=!0,P=R,R=x(R),b!==void 0&&N.hasValue){var M=N.value;if(b(M,R))return O=M}return O=R}if(M=O,n(P,R))return M;var B=x(R);return b!==void 0&&b(M,B)?(P=R,M):(P=R,O=B)}var D=!1,P,O,I=p===void 0?null:p;return[function(){return S(h())},I===null?void 0:function(){return S(I())}]},[h,p,x,b]);var w=r(m,y[0],y[1]);return c(function(){N.hasValue=!0,N.value=w},[w]),f(w),w},qg}var GS;function YH(){return GS||(GS=1,Ug.exports=WH()),Ug.exports}YH();function QH(e){e()}function XH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){QH(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const l=t={callback:n,next:null,prev:t};return l.prev?l.prev.next=l:e=l,function(){!r||e===null||(r=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}var WS={notify(){},get:()=>[]};function ZH(e,t){let n,r=WS,l=0,c=!1;function u(w){p();const S=r.subscribe(w);let D=!1;return()=>{D||(D=!0,S(),x())}}function f(){r.notify()}function m(){N.onStateChange&&N.onStateChange()}function h(){return c}function p(){l++,n||(n=e.subscribe(m),r=XH())}function x(){l--,n&&l===0&&(n(),n=void 0,r.clear(),r=WS)}function b(){c||(c=!0,p())}function y(){c&&(c=!1,x())}const N={addNestedSub:u,notifyNestedSubs:f,handleChangeWrapper:m,isSubscribed:h,trySubscribe:b,tryUnsubscribe:y,getListeners:()=>r};return N}var JH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eF=JH(),tF=()=>typeof navigator<"u"&&navigator.product==="ReactNative",nF=tF(),rF=()=>eF||nF?j.useLayoutEffect:j.useEffect,aF=rF(),Hg=Symbol.for("react-redux-context"),Fg=typeof globalThis<"u"?globalThis:{};function iF(){if(!j.createContext)return{};const e=Fg[Hg]??(Fg[Hg]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var sF=iF();function lF(e){const{children:t,context:n,serverState:r,store:l}=e,c=j.useMemo(()=>{const m=ZH(l);return{store:l,subscription:m,getServerState:r?()=>r:void 0}},[l,r]),u=j.useMemo(()=>l.getState(),[l]);aF(()=>{const{subscription:m}=c;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),u!==l.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[c,u]);const f=n||sF;return j.createElement(f.Provider,{value:c},t)}var oF=lF,cF=(e,t)=>t,ty=re([cF,Ct,n3,Rn,V3,Bi,SB,In],TB),ny=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},KA=xa("mouseClick"),GA=Gc();GA.startListening({actionCreator:KA,effect:(e,t)=>{var n=e.payload,r=ty(t.getState(),ny(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(M8({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var F0=xa("mouseMove"),WA=Gc();WA.startListening({actionCreator:F0,effect:(e,t)=>{var n=e.payload,r=t.getState(),l=Cv(r,r.tooltip.settings.shared),c=ty(r,ny(n));l==="axis"&&((c==null?void 0:c.activeIndex)!=null?t.dispatch(R3({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(P3()))}});var YS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},YA=Gr({name:"rootProps",initialState:YS,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:YS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),uF=YA.reducer,{updateOptions:dF}=YA.actions,QA=Gr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:fF}=QA.actions,mF=QA.reducer,XA=xa("keyDown"),ZA=xa("focus"),ry=Gc();ry.startListening({actionCreator:XA,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:l}=n.tooltip,c=e.payload;if(!(c!=="ArrowRight"&&c!=="ArrowLeft"&&c!=="Enter")){var u=Number(Ov(l,Ao(n))),f=Bi(n);if(c==="Enter"){var m=ff(n,"axis","hover",String(l.index));t.dispatch(I0({active:!l.active,activeIndex:l.index,activeDataKey:l.dataKey,activeCoordinate:m}));return}var h=N8(n),p=h==="left-to-right"?1:-1,x=c==="ArrowRight"?1:-1,b=u+x*p;if(!(f==null||b>=f.length||b<0)){var y=ff(n,"axis","hover",String(b));t.dispatch(I0({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});ry.startListening({actionCreator:ZA,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:l}=n.tooltip;if(!l.active&&l.index==null){var c="0",u=ff(n,"axis","hover",String(c));t.dispatch(I0({activeDataKey:void 0,active:!0,activeIndex:c,activeCoordinate:u}))}}}});var fa=xa("externalEvent"),JA=Gc();JA.startListening({actionCreator:fa,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:hB(n),activeDataKey:Y3(n),activeIndex:Ns(n),activeLabel:W3(n),activeTooltipIndex:Ns(n),isTooltipActive:pB(n)};e.payload.handler(r,e.payload.reactEvent)}}});var hF=re([Oo],e=>e.tooltipItemPayloads),pF=re([hF,su,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var l=e.find(f=>f.settings.dataKey===r);if(l!=null){var{positions:c}=l;if(c!=null){var u=t(c,n);return u}}}),e4=xa("touchMove"),t4=Gc();t4.startListening({actionCreator:e4,effect:(e,t)=>{var n=e.payload,r=t.getState(),l=Cv(r,r.tooltip.settings.shared);if(l==="axis"){var c=ty(r,ny({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(c==null?void 0:c.activeIndex)!=null&&t.dispatch(R3({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(l==="item"){var u,f=n.touches[0],m=document.elementFromPoint(f.clientX,f.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute(PC),p=(u=m.getAttribute(RC))!==null&&u!==void 0?u:void 0,x=pF(t.getState(),h,p);t.dispatch(I3({activeDataKey:p,activeIndex:h,activeCoordinate:x}))}}});var gF=iC({brush:n9,cartesianAxis:PU,chartData:VB,errorBars:tq,graphicalItems:eU,layout:n_,legend:oI,options:$B,polarAxis:h$,polarOptions:mF,referenceElements:c9,rootProps:uF,tooltip:_8}),xF=function(t){return O5({reducer:gF,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([GA.middleware,WA.middleware,ry.middleware,JA.middleware,t4.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(xC({type:"raf"}))},devTools:Os.devToolsEnabled})};function n4(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,l=vr(),c=j.useRef(null);if(l)return n;c.current==null&&(c.current=xF(t));var u=px;return j.createElement(oF,{context:u,store:c.current},n)}function r4(e){var{layout:t,margin:n}=e,r=cn(),l=vr();return j.useEffect(()=>{l||(r(J5(t)),r(Z5(n)))},[r,l,t,n]),null}function a4(e){var t=cn();return j.useEffect(()=>{t(dF(e))},[t,e]),null}var vF=["children"];function yF(e,t){if(e==null)return{};var n,r,l=bF(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function bF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jf.apply(null,arguments)}var jF={width:"100%",height:"100%",display:"block"},wF=j.forwardRef((e,t)=>{var n=Nx(),r=Sx(),l=FC();if(!oo(n)||!oo(r))return null;var{children:c,otherAttributes:u,title:f,desc:m}=e,h,p;return typeof u.tabIndex=="number"?h=u.tabIndex:h=l?0:void 0,typeof u.role=="string"?p=u.role:p=l?"application":void 0,j.createElement(rx,jf({},u,{title:f,desc:m,role:p,tabIndex:h,width:n,height:r,style:jF,ref:t}),c)}),NF=e=>{var{children:t}=e,n=$e(Lf);if(!n)return null;var{width:r,height:l,y:c,x:u}=n;return j.createElement(rx,{width:r,height:l,x:u,y:c},t)},QS=j.forwardRef((e,t)=>{var{children:n}=e,r=yF(e,vF),l=vr();return l?j.createElement(NF,null,n):j.createElement(wF,jf({ref:t},r),n)});function SF(){var e=cn(),[t,n]=j.useState(null),r=$e(E_);return j.useEffect(()=>{if(t!=null){var l=t.getBoundingClientRect(),c=l.width/t.offsetWidth;cr(c)&&c!==r&&e(t_(c))}},[t,e,r]),n}function XS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function kF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(n),!0).forEach(function(r){CF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CF(e,t,n){return(t=OF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OF(e){var t=AF(e,"string");return typeof t=="symbol"?t:t+""}function AF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wl.apply(null,arguments)}var TF=()=>(e7(),null);function wf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var DF=j.forwardRef((e,t)=>{var n,r,l=j.useRef(null),[c,u]=j.useState({containerWidth:wf((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:wf((r=e.style)===null||r===void 0?void 0:r.height)}),f=j.useCallback((h,p)=>{u(x=>{var b=Math.round(h),y=Math.round(p);return x.containerWidth===b&&x.containerHeight===y?x:{containerWidth:b,containerHeight:y}})},[]),m=j.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:p,height:x}=h.getBoundingClientRect();f(p,x);var b=N=>{var{width:w,height:S}=N[0].contentRect;f(w,S)},y=new ResizeObserver(b);y.observe(h),l.current=y}},[t,f]);return j.useEffect(()=>()=>{var h=l.current;h!=null&&h.disconnect()},[f]),j.createElement(j.Fragment,null,j.createElement($f,{width:c.containerWidth,height:c.containerHeight}),j.createElement("div",wl({ref:m},e)))}),EF=j.forwardRef((e,t)=>{var{width:n,height:r}=e,[l,c]=j.useState({containerWidth:wf(n),containerHeight:wf(r)}),u=j.useCallback((m,h)=>{c(p=>{var x=Math.round(m),b=Math.round(h);return p.containerWidth===x&&p.containerHeight===b?p:{containerWidth:x,containerHeight:b}})},[]),f=j.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null){var{width:h,height:p}=m.getBoundingClientRect();u(h,p)}},[t,u]);return j.createElement(j.Fragment,null,j.createElement($f,{width:l.containerWidth,height:l.containerHeight}),j.createElement("div",wl({ref:f},e)))}),MF=j.forwardRef((e,t)=>{var{width:n,height:r}=e;return j.createElement(j.Fragment,null,j.createElement($f,{width:n,height:r}),j.createElement("div",wl({ref:t},e)))}),_F=j.forwardRef((e,t)=>{var{width:n,height:r}=e;return Ai(n)||Ai(r)?j.createElement(EF,wl({},e,{ref:t})):j.createElement(MF,wl({},e,{ref:t}))});function IF(e){return e===!0?DF:_F}var PF=j.forwardRef((e,t)=>{var{children:n,className:r,height:l,onClick:c,onContextMenu:u,onDoubleClick:f,onMouseDown:m,onMouseEnter:h,onMouseLeave:p,onMouseMove:x,onMouseUp:b,onTouchEnd:y,onTouchMove:N,onTouchStart:w,style:S,width:D,responsive:P,dispatchTouchEvents:O=!0}=e,I=j.useRef(null),R=cn(),[M,B]=j.useState(null),[$,Y]=j.useState(null),X=SF(),le=wx(),he=(le==null?void 0:le.width)>0?le.width:D,we=(le==null?void 0:le.height)>0?le.height:l,Te=j.useCallback(ue=>{X(ue),typeof t=="function"&&t(ue),B(ue),Y(ue),ue!=null&&(I.current=ue)},[X,t,B,Y]),De=j.useCallback(ue=>{R(KA(ue)),R(fa({handler:c,reactEvent:ue}))},[R,c]),Z=j.useCallback(ue=>{R(F0(ue)),R(fa({handler:h,reactEvent:ue}))},[R,h]),ce=j.useCallback(ue=>{R(P3()),R(fa({handler:p,reactEvent:ue}))},[R,p]),ke=j.useCallback(ue=>{R(F0(ue)),R(fa({handler:x,reactEvent:ue}))},[R,x]),G=j.useCallback(()=>{R(ZA())},[R]),Ne=j.useCallback(ue=>{R(XA(ue.key))},[R]),z=j.useCallback(ue=>{R(fa({handler:u,reactEvent:ue}))},[R,u]),L=j.useCallback(ue=>{R(fa({handler:f,reactEvent:ue}))},[R,f]),se=j.useCallback(ue=>{R(fa({handler:m,reactEvent:ue}))},[R,m]),ve=j.useCallback(ue=>{R(fa({handler:b,reactEvent:ue}))},[R,b]),Ee=j.useCallback(ue=>{R(fa({handler:w,reactEvent:ue}))},[R,w]),_e=j.useCallback(ue=>{O&&R(e4(ue)),R(fa({handler:N,reactEvent:ue}))},[R,O,N]),nt=j.useCallback(ue=>{R(fa({handler:y,reactEvent:ue}))},[R,y]),ct=IF(P);return j.createElement(tA.Provider,{value:M},j.createElement(wk.Provider,{value:$},j.createElement(ct,{width:he??(S==null?void 0:S.width),height:we??(S==null?void 0:S.height),className:Dt("recharts-wrapper",r),style:kF({position:"relative",cursor:"default",width:he,height:we},S),onClick:De,onContextMenu:z,onDoubleClick:L,onFocus:G,onKeyDown:Ne,onMouseDown:se,onMouseEnter:Z,onMouseLeave:ce,onMouseMove:ke,onMouseUp:ve,onTouchEnd:nt,onTouchMove:_e,onTouchStart:Ee,ref:Te},j.createElement(TF,null),n)))}),RF=["width","height","responsive","children","className","style","compact","title","desc"];function LF(e,t){if(e==null)return{};var n,r,l=zF(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function zF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var i4=j.forwardRef((e,t)=>{var{width:n,height:r,responsive:l,children:c,className:u,style:f,compact:m,title:h,desc:p}=e,x=LF(e,RF),b=Vr(x);return m?j.createElement(j.Fragment,null,j.createElement($f,{width:n,height:r}),j.createElement(QS,{otherAttributes:b,title:h,desc:p},c)):j.createElement(PF,{className:u,style:f,width:n,height:r,responsive:l,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(QS,{otherAttributes:b,title:h,desc:p,ref:t},j.createElement(d9,null,c)))});function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V0.apply(null,arguments)}var BF={top:5,right:5,bottom:5,left:5},$F={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:BF,reverseStackOrder:!1,syncMethod:"index",responsive:!1},s4=j.forwardRef(function(t,n){var r,l=Xn(t.categoricalChartProps,$F),{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,categoricalChartProps:h}=t,p={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,eventEmitter:void 0};return j.createElement(n4,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:c},j.createElement(IA,{chartData:h.data}),j.createElement(r4,{layout:l.layout,margin:l.margin}),j.createElement(a4,{accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className}),j.createElement(i4,V0({},l,{ref:n})))}),UF=["axis"],qF=j.forwardRef((e,t)=>j.createElement(s4,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:UF,tooltipPayloadSearcher:Pv,categoricalChartProps:e,ref:t})),HF=["axis","item"],ao=j.forwardRef((e,t)=>j.createElement(s4,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:HF,tooltipPayloadSearcher:Pv,categoricalChartProps:e,ref:t}));function FF(e){var t=cn();return j.useEffect(()=>{t(fF(e))},[t,e]),null}var VF=["layout"];function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K0.apply(null,arguments)}function KF(e,t){if(e==null)return{};var n,r,l=GF(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function GF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var WF={top:5,right:5,bottom:5,left:5},YF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:WF,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},QF=j.forwardRef(function(t,n){var r,l=Xn(t.categoricalChartProps,YF),{layout:c}=l,u=KF(l,VF),{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:p}=t,x={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return j.createElement(n4,{preloadedState:{options:x},reduxStoreName:(r=l.id)!==null&&r!==void 0?r:f},j.createElement(IA,{chartData:l.data}),j.createElement(r4,{layout:c,margin:l.margin}),j.createElement(a4,{accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className}),j.createElement(FF,{cx:l.cx,cy:l.cy,startAngle:l.startAngle,endAngle:l.endAngle,innerRadius:l.innerRadius,outerRadius:l.outerRadius}),j.createElement(i4,K0({},u,{ref:n})))}),XF=["item"],ZF={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ZS=j.forwardRef((e,t)=>{var n=Xn(e,ZF);return j.createElement(QF,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:XF,tooltipPayloadSearcher:Pv,categoricalChartProps:n,ref:t})});const JF=({activeModules:e,setActiveModules:t})=>{const[n,r]=j.useState("modules"),[l,c]=j.useState("month"),[u,f]=j.useState("all"),m=j.useMemo(()=>r6(l),[l]),h=mp.default||mp||mp,p=j.useMemo(()=>{const O=Array.isArray(h)?h:[];return u==="all"?O:O.filter(I=>I.category.toLowerCase()===u.toLowerCase())},[u,h]),x=j.useMemo(()=>{const O=Array.isArray(h)?h:[];return{total:O.length,high:O.filter(I=>I.severity==="high").length,medium:O.filter(I=>I.severity==="medium").length,low:O.filter(I=>I.severity==="low").length,categories:Array.from(new Set(O.map(I=>I.category))),avgLatency:O.filter(I=>I.latency).reduce((I,R)=>I+(R.latency||0),0)/(O.filter(I=>I.latency).length||1)}},[h]),b=O=>{t(I=>({...I,[O]:!I[O]}))},y=O=>{switch(O){case"high":return"bg-red-500";case"medium":return"bg-orange-500";case"low":return"bg-blue-500"}},N=O=>{switch(O){case"process":return"";case"feature":return"";case"usability":return"";case"automation":return"";case"quality":return""}},w=O=>{switch(O){case"low":return"Laag";case"medium":return"Gemiddeld";case"high":return"Hoog"}},S=m.moduleStats.map(O=>({name:O.module,sessies:O.totalSessions,tijd:O.totalTime,acties:O.actionsCount,fouten:O.errorCount})),D=m.processMetrics.map(O=>({name:O.processName,gemiddelde:O.averageCycleTime,stappen:O.averageSteps})),P=m.userStats.sort((O,I)=>I.efficiencyScore-O.efficiencyScore).slice(0,10).map(O=>({name:O.userName.split(" ")[0],score:O.efficiencyScore,rol:O.role}));return i.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-neutral mb-2",children:"Admin Instellingen"}),i.jsx("p",{className:"text-gray-600 mb-6 sm:mb-8 text-sm sm:text-base",children:"Beheer modules en analyseer systeem gebruik voor optimalisatie."}),i.jsxs("div",{className:"flex gap-2 mb-6 border-b border-gray-200 overflow-x-auto",children:[i.jsx("button",{onClick:()=>r("modules"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${n==="modules"?"text-primary border-b-2 border-primary":"text-gray-600 hover:text-gray-900"}`,children:" Module Beheer"}),i.jsx("button",{onClick:()=>r("analytics"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${n==="analytics"?"text-primary border-b-2 border-primary":"text-gray-600 hover:text-gray-900"}`,children:" Systeem Analytics"}),i.jsx("button",{onClick:()=>r("database"),className:`px-4 py-2 font-medium transition-colors whitespace-nowrap ${n==="database"?"text-primary border-b-2 border-primary":"text-gray-600 hover:text-gray-900"}`,children:" Database Diagnostics"})]}),n==="modules"&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-6",children:"Module Beheer"}),i.jsx("div",{className:"space-y-4",children:Hc.map(O=>{const I=O.icon,R=e[O.id];return i.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border-2 transition-all ${R?"border-primary bg-blue-50":"border-gray-200 bg-gray-50"}`,children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`p-2 rounded-lg ${R?"bg-primary text-white":"bg-gray-200 text-gray-600"}`,children:i.jsx(I,{className:"w-6 h-6"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-neutral",children:O.name}),i.jsx("p",{className:"text-sm text-gray-600",children:O.description})]})]}),i.jsx("button",{onClick:()=>b(O.id),className:`px-6 py-2 rounded-lg font-medium transition-colors ${R?"bg-red-500 text-white hover:bg-red-600":"bg-primary text-white hover:bg-secondary"}`,children:R?"Uitschakelen":"Inschakelen"})]},O.id)})}),i.jsx("div",{className:"mt-8 p-4 bg-blue-100 border-l-4 border-primary rounded",children:i.jsxs("p",{className:"text-sm text-blue-900",children:[i.jsx("strong",{children:"Let op:"})," Uitgeschakelde modules zijn niet zichtbaar in de navigatie en zijn niet toegankelijk voor gebruikers."]})})]}),n==="analytics"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-neutral mb-2",children:" Systeem Analytics Dashboard"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Lean Six Sigma analyse voor data-driven optimalisatie beslissingen"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Periode:"}),i.jsxs("select",{value:l,onChange:O=>c(O.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"day",children:"Vandaag"}),i.jsx("option",{value:"week",children:"Laatste Week"}),i.jsx("option",{value:"month",children:"Laatste Maand"}),i.jsx("option",{value:"quarter",children:"Laatste Kwartaal"}),i.jsx("option",{value:"year",children:"Laatste Jaar"})]}),i.jsx("button",{onClick:()=>{confirm("Weet u zeker dat u alle analytics data wilt wissen?")&&(a6(),window.location.reload())},className:"px-3 py-2 text-sm bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",title:"Wis alle analytics data",children:" Reset"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Totale Events"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:m.totalEvents.toLocaleString()}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[m.trends.usageGrowth>0?"":""," ",Math.abs(m.trends.usageGrowth).toFixed(1),"% vs vorige periode"]})]}),i.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-l-4 border-green-500",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Actieve Gebruikers"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.totalUsers}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Unieke gebruikers"})]}),i.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border-l-4 border-purple-500",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Totale Gebruikstijd"}),i.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[m.totalTime,"h"]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["In ",m.period]})]}),i.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border-l-4 border-orange-500",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Efficiency Verandering"}),i.jsxs("p",{className:`text-2xl font-bold ${m.trends.efficiencyChange>=0?"text-green-600":"text-red-600"}`,children:[m.trends.efficiencyChange>=0?"+":"",m.trends.efficiencyChange.toFixed(1),"%"]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"vs vorige periode"})]})]})]}),m.moduleStats.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-neutral mb-4",children:"Module Gebruik Statistieken"}),i.jsx("div",{className:"mb-6",children:i.jsx(vi,{width:"100%",height:300,children:i.jsxs(ao,{data:S,children:[i.jsx(xs,{strokeDasharray:"3 3"}),i.jsx(vs,{dataKey:"name",angle:-45,textAnchor:"end",height:80,fontSize:12}),i.jsx(ys,{fontSize:12}),i.jsx(bi,{}),i.jsx(Ua,{}),i.jsx($a,{dataKey:"sessies",fill:"#0088FE",name:"Sessies"}),i.jsx($a,{dataKey:"acties",fill:"#00C49F",name:"Acties"}),i.jsx($a,{dataKey:"fouten",fill:"#FF8042",name:"Fouten"})]})})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-2 px-2",children:"Module"}),i.jsx("th",{className:"text-right py-2 px-2",children:"Sessies"}),i.jsx("th",{className:"text-right py-2 px-2",children:"Tijd (min)"}),i.jsx("th",{className:"text-right py-2 px-2",children:"Acties"}),i.jsx("th",{className:"text-right py-2 px-2",children:"Fouten"}),i.jsx("th",{className:"text-center py-2 px-2",children:"Trend"})]})}),i.jsx("tbody",{children:m.moduleStats.map(O=>i.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[i.jsx("td",{className:"py-2 px-2 font-medium",children:O.module}),i.jsx("td",{className:"text-right py-2 px-2",children:O.totalSessions}),i.jsx("td",{className:"text-right py-2 px-2",children:O.totalTime}),i.jsx("td",{className:"text-right py-2 px-2",children:O.actionsCount}),i.jsx("td",{className:"text-right py-2 px-2",children:i.jsx("span",{className:O.errorCount>0?"text-red-600 font-semibold":"",children:O.errorCount})}),i.jsxs("td",{className:"text-center py-2 px-2",children:[O.usageTrend==="increasing"&&i.jsx("span",{className:"text-green-600",children:""}),O.usageTrend==="decreasing"&&i.jsx("span",{className:"text-red-600",children:""}),O.usageTrend==="stable"&&i.jsx("span",{className:"text-gray-400",children:""})]})]},O.module))})]})})]}),m.processMetrics.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-neutral mb-4",children:"Proces Efficintie Metrics"}),i.jsx("div",{className:"mb-6",children:i.jsx(vi,{width:"100%",height:250,children:i.jsxs(ao,{data:D,children:[i.jsx(xs,{strokeDasharray:"3 3"}),i.jsx(vs,{dataKey:"name",fontSize:12}),i.jsx(ys,{fontSize:12}),i.jsx(bi,{}),i.jsx(Ua,{}),i.jsx($a,{dataKey:"gemiddelde",fill:"#8884d8",name:"Gemiddelde Cyclus Tijd (min)"})]})})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.processMetrics.map(O=>i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-semibold text-neutral mb-3",children:O.processName}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Gemiddelde Cyclus Tijd:"}),i.jsxs("span",{className:"font-medium",children:[O.averageCycleTime," min"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Gemiddeld Aantal Stappen:"}),i.jsx("span",{className:"font-medium",children:O.averageSteps.toFixed(1)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Completion Rate:"}),i.jsxs("span",{className:`font-medium ${O.completionRate>80?"text-green-600":O.completionRate>50?"text-orange-600":"text-red-600"}`,children:[O.completionRate.toFixed(1),"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Error Rate:"}),i.jsxs("span",{className:`font-medium ${O.errorRate<5?"text-green-600":O.errorRate<15?"text-orange-600":"text-red-600"}`,children:[O.errorRate.toFixed(1),"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Rework Rate:"}),i.jsxs("span",{className:`font-medium ${O.reworkRate<5?"text-green-600":O.reworkRate<15?"text-orange-600":"text-red-600"}`,children:[O.reworkRate.toFixed(1),"%"]})]}),O.bottleneckSteps.length>0&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[i.jsx("p",{className:"text-xs font-semibold text-red-600 mb-2",children:" Bottlenecks:"}),i.jsx("ul",{className:"text-xs space-y-1",children:O.bottleneckSteps.slice(0,3).map((I,R)=>i.jsxs("li",{className:"text-gray-700",children:[" ",I.step,": ",Math.round(I.averageWaitTime)," min wachttijd"]},R))})]})]})]},O.processName))})]}),m.userStats.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-neutral mb-4",children:"Gebruiker Efficiency Scores"}),i.jsx("div",{className:"mb-6",children:i.jsx(vi,{width:"100%",height:300,children:i.jsxs(ao,{data:P,layout:"vertical",children:[i.jsx(xs,{strokeDasharray:"3 3"}),i.jsx(vs,{type:"number",domain:[0,100],fontSize:12}),i.jsx(ys,{dataKey:"name",type:"category",fontSize:12,width:80}),i.jsx(bi,{}),i.jsx(Ua,{}),i.jsx($a,{dataKey:"score",fill:"#00C49F",name:"Efficiency Score (0-100)"})]})})})]}),m.recommendations.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-neutral mb-4",children:" Optimalisatie Aanbevelingen (Lean Six Sigma)"}),i.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Data-driven aanbevelingen voor procesverbetering gebaseerd op gebruikspatronen"}),i.jsx("div",{className:"space-y-4",children:m.recommendations.map(O=>i.jsxs("div",{className:"border-l-4 border-gray-300 rounded-lg p-4 bg-gray-50 hover:bg-gray-100 transition-colors",style:{borderLeftColor:O.priority==="high"?"#ef4444":O.priority==="medium"?"#f97316":"#3b82f6"},children:[i.jsx("div",{className:"flex items-start justify-between gap-4 mb-3",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"text-xl",children:N(O.category)}),i.jsx("h4",{className:"font-semibold text-neutral",children:O.title}),i.jsx("span",{className:`px-2 py-1 text-xs font-semibold text-white rounded ${y(O.priority)}`,children:O.priority.toUpperCase()}),i.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-gray-200 text-gray-700 rounded",children:["ROI: ",O.roi]})]}),i.jsx("p",{className:"text-sm text-gray-700 mb-3",children:O.description}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Impact: "}),i.jsx("span",{className:"font-medium text-green-600",children:O.impact})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Inspanning: "}),i.jsx("span",{className:"font-medium",children:w(O.effort)})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Metric: "}),i.jsxs("span",{className:"font-medium",children:[O.metrics.current," ",O.metrics.unit,"  ",O.metrics.target," ",O.metrics.unit]})]})]})]})}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Aanbevolen Acties:"}),i.jsx("ul",{className:"text-xs space-y-1",children:O.actions.map((I,R)=>i.jsxs("li",{className:"text-gray-600 flex items-start gap-2",children:[i.jsx("span",{className:"text-primary",children:""}),i.jsx("span",{children:I})]},R))})]})]},O.id))})]}),m.totalEvents===0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[i.jsx("p",{className:"text-gray-500 text-lg mb-4",children:" Geen analytics data beschikbaar"}),i.jsx("p",{className:"text-sm text-gray-400",children:"Begin met gebruik van het systeem om analytics data te verzamelen voor optimalisatie analyses."})]})]}),n==="database"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[i.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-neutral mb-2",children:" Database Diagnostics Dashboard"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Baseline diagnostics voor Supabase, NeonDB, PlanetScale en andere managed databases"})]})}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-red-50 rounded-lg p-4 border-l-4 border-red-500",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"High Severity"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:x.high})]}),i.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border-l-4 border-orange-500",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Medium Severity"}),i.jsx("p",{className:"text-2xl font-bold text-orange-600",children:x.medium})]}),i.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-l-4 border-blue-500",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Low Severity"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:x.low})]}),i.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border-l-4 border-purple-500",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Issues"}),i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:x.total})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter op Categorie:"}),i.jsxs("select",{value:u,onChange:O=>f(O.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary w-full sm:w-auto",children:[i.jsx("option",{value:"all",children:"Alle Categorien"}),x.categories.map(O=>i.jsx("option",{value:O.toLowerCase(),children:O},O))]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-neutral mb-4",children:"Severity Distributie"}),i.jsx(vi,{width:"100%",height:200,children:i.jsxs(ao,{data:[{name:"High",value:x.high,color:"#ef4444"},{name:"Medium",value:x.medium,color:"#f97316"},{name:"Low",value:x.low,color:"#3b82f6"}],children:[i.jsx(xs,{strokeDasharray:"3 3"}),i.jsx(vs,{dataKey:"name",fontSize:12}),i.jsx(ys,{fontSize:12}),i.jsx(bi,{}),i.jsx($a,{dataKey:"value",children:[{name:"High",value:x.high,color:"#ef4444"},{name:"Medium",value:x.medium,color:"#f97316"},{name:"Low",value:x.low,color:"#3b82f6"}].map((O,I)=>i.jsx(yl,{fill:O.color},`cell-${I}`))})]})})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[i.jsxs("h3",{className:"text-lg sm:text-xl font-bold text-neutral mb-4",children:["Gedetecteerde Issues (",p.length,")"]}),i.jsx("div",{className:"space-y-4",children:p.map((O,I)=>{const R={high:"border-red-500 bg-red-50",medium:"border-orange-500 bg-orange-50",low:"border-blue-500 bg-blue-50"},M={high:"text-red-700",medium:"text-orange-700",low:"text-blue-700"};return i.jsxs("div",{className:`border-l-4 rounded-lg p-4 ${R[O.severity]} hover:shadow-md transition-shadow`,children:[i.jsx("div",{className:"flex items-start justify-between gap-4 mb-3",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[i.jsx("h4",{className:"font-semibold text-neutral text-base sm:text-lg",children:O.issue}),i.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${M[O.severity]} bg-white border`,children:O.severity.toUpperCase()}),i.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-200 text-gray-700 rounded",children:O.category}),O.latency&&i.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-purple-100 text-purple-700 rounded",children:[" ",O.latency,"ms"]}),O.occurrences&&i.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded",children:[" ",O.occurrences,"x"]})]}),i.jsx("p",{className:"text-sm text-gray-700 mb-4",children:O.message})]})}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2 flex items-center gap-1",children:" Diagnostische Stappen:"}),i.jsx("ul",{className:"text-xs space-y-1 ml-4",children:O.diagnostic_steps.map((B,$)=>i.jsx("li",{className:"text-gray-600 list-disc",children:B},$))})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2 flex items-center gap-1",children:" Voorgestelde Oplossingen:"}),i.jsx("ul",{className:"text-xs space-y-1 ml-4",children:O.suggested_fix.map((B,$)=>i.jsx("li",{className:"text-gray-600 list-disc",children:B},$))})]}),O.vendor_specific_info&&i.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsx("p",{className:"text-xs font-semibold text-yellow-800 mb-2",children:" Platform-specifieke Informatie:"}),i.jsx("div",{className:"text-xs text-yellow-700 space-y-1",children:Object.entries(O.vendor_specific_info).map(([B,$])=>i.jsxs("div",{children:[i.jsxs("span",{className:"font-medium",children:[B,":"]})," ",String($)]},B))})]}),i.jsx("div",{className:"flex justify-end pt-3 border-t border-gray-200",children:i.jsxs("button",{onClick:()=>{alert(`Test actie "${O.test_action}" zou worden uitgevoerd.

In productie zou dit een backend API call zijn naar:
POST /api/diagnostics/${O.test_action}`)},className:"px-4 py-2 bg-primary text-white text-sm rounded-lg hover:bg-secondary transition-colors font-medium",children:[" Test: ",O.test_action.replace(/_/g," ")]})})]},I)})}),p.length===0&&i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500",children:"Geen issues gevonden voor de geselecteerde categorie."})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 sm:p-6",children:[i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-neutral mb-4",children:"Issues per Categorie"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:x.categories.map(O=>{const I=(Array.isArray(h)?h:[]).filter(M=>M.category===O),R=I.filter(M=>M.severity==="high").length;return i.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>f(O.toLowerCase()),children:[i.jsx("p",{className:"text-sm font-semibold text-neutral mb-1",children:O}),i.jsx("p",{className:"text-2xl font-bold text-primary",children:I.length}),R>0&&i.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[" ",R," high severity"]})]},O)})})]})]})]})},Vg=e=>{const t=e.replace("/","").trim();return t?Object.values(yt).find(l=>l===t)||null:yt.DASHBOARD},eV=({userId:e,userRole:t})=>{const n=_i(),r=j.useRef(null),l=j.useRef(Date.now());return j.useEffect(()=>{const c=n.pathname,u=Vg(c);if(!u)return;const f=r.current,m=f?Vg(f):null;if(m!==u){const h=m?Date.now()-l.current:void 0;G1(e,t,m,u,h),l.current=Date.now(),r.current=c}},[n.pathname,e,t]),j.useEffect(()=>{const c=Vg(n.pathname);c&&!r.current&&(G1(e,t,null,c),r.current=n.pathname,l.current=Date.now())},[n.pathname,e,t]),null},tV=[{id:"1",name:"Staal plaat",sku:"STL-001",quantity:150,reorderLevel:50,supplier:"Staal B.V.",location:"A1",price:45.5,unit:"stuk"},{id:"2",name:"Aluminium staaf",sku:"ALU-002",quantity:80,reorderLevel:30,supplier:"MetaalGigant",location:"A2",price:28.75,unit:"meter"},{id:"3",name:"Schroeven M8",sku:"SCH-003",quantity:5e3,reorderLevel:1e3,supplier:"Bouten & Co",location:"B1",price:.15,unit:"stuk"},{id:"4",name:"Verfspuit",sku:"VRF-004",quantity:12,reorderLevel:5,supplier:"Verf Wereld",location:"C1",price:245,unit:"stuk"},{id:"5",name:"Lasstaaf",sku:"LAS-005",quantity:200,reorderLevel:50,supplier:"Las Totaal",location:"A3",price:3.25,unit:"stuk"}],nV=[{id:"p1",name:"Metalen Frame",price:125,inventoryItemId:"1"},{id:"p2",name:"Aluminium Behuizing",price:89.5,inventoryItemId:"2"},{id:"p3",name:"Schroefset (100st)",price:15,inventoryItemId:"3"},{id:"p4",name:"Verfspuit Professioneel",price:245,inventoryItemId:"4"}],rV=[{id:"s1",items:[{id:"p1",name:"Metalen Frame",price:125,inventoryItemId:"1",quantity:2},{id:"p3",name:"Schroefset (100st)",price:15,inventoryItemId:"3",quantity:5}],total:325,customerId:"c1",date:"2024-10-01"},{id:"s2",items:[{id:"p2",name:"Aluminium Behuizing",price:89.5,inventoryItemId:"2",quantity:3}],total:268.5,customerId:"c2",date:"2024-10-05"},{id:"s3",items:[{id:"p4",name:"Verfspuit Professioneel",price:245,inventoryItemId:"4",quantity:1}],total:245,customerId:null,date:"2024-10-07"}],Kg=["website","referral","cold-call","advertisement","social-media","trade-show","email-campaign","walk-in","other"],Gg=[{value:"call",label:"Telefoongesprek",icon:""},{value:"email",label:"E-mail",icon:""},{value:"meeting",label:"Meeting",icon:""},{value:"note",label:"Notitie",icon:""},{value:"sms",label:"SMS",icon:""}],aV=[{id:"wo1",title:"Frame Assemblage",description:"Assembleer 10 metalen frames voor order #1234",status:"In Progress",assignedTo:"e1",requiredInventory:[{itemId:"1",quantity:20},{itemId:"3",quantity:200}],createdDate:"2024-09-28",customerId:"c1",location:"Werkplaats A",scheduledDate:"2024-10-10",hoursSpent:4,notes:"Lassen moet met precisie gebeuren"},{id:"wo2",title:"Lassen Constructie",description:"Las werk voor industrile constructie",status:"Pending",assignedTo:"e2",requiredInventory:[{itemId:"5",quantity:50}],createdDate:"2024-10-01",customerId:"c3",location:"Lasstation",scheduledDate:"2024-10-12",pendingReason:"Wacht op levering extra lasstaaf"},{id:"wo3",title:"Verfwerk Behuizingen",description:"Spuit 15 aluminium behuizingen",status:"Completed",assignedTo:"e3",requiredInventory:[{itemId:"2",quantity:15},{itemId:"4",quantity:2}],createdDate:"2024-09-20",completedDate:"2024-09-25",customerId:"c2",location:"Spuitcabine",hoursSpent:8},{id:"wo4",title:"Schroefverbindingen controleren",description:"Kwaliteitscontrole op alle schroefverbindingen van project #5678",status:"To Do",assignedTo:"e1",requiredInventory:[],createdDate:"2024-10-08",customerId:"c1",location:"Werkplaats B",scheduledDate:"2024-10-15"},{id:"wo5",title:"Nieuwe frame productie",description:"Productie van 5 nieuwe metalen frames volgens tekening",status:"To Do",assignedTo:"e2",requiredInventory:[{itemId:"1",quantity:10},{itemId:"3",quantity:100}],createdDate:"2024-10-09",customerId:"c2",location:"Werkplaats A",scheduledDate:"2024-10-16"}],iV=[{id:"c1",name:"TechBouw B.V.",email:"info@techbouw.nl",phone:"020-1234567",since:"2022-03-15",type:"business",address:"Techniekstraat 15, Amsterdam",notes:"Vaste klant, altijd op tijd betalen",source:"referral",company:"TechBouw B.V."},{id:"c2",name:"Industriaal Partners",email:"contact@industriaal.nl",phone:"010-9876543",since:"2023-01-10",type:"business",address:"Industrieweg 44, Rotterdam",source:"website",company:"Industriaal Partners"},{id:"c3",name:"Metaal Constructies",email:"sales@metaalcon.nl",phone:"030-5555555",since:"2021-11-22",type:"business",address:"Staalstraat 8, Utrecht",source:"advertisement",company:"Metaal Constructies"},{id:"c4",name:"Jan Jansen",email:"jan@email.nl",phone:"06-11223344",since:"2023-06-05",type:"private",address:"Dorpsstraat 12, Den Haag",source:"walk-in"}],sV=[{id:"l1",name:"Emma van der Berg",email:"emma@constructiebv.nl",phone:"06-11223344",company:"Constructie B.V.",status:"qualified",source:"website",estimatedValue:5e3,notes:"Genteresseerd in maandelijkse samenwerking voor meerdere projecten",createdDate:"2024-10-05",lastContactDate:"2024-10-08",nextFollowUpDate:"2024-10-12"},{id:"l2",name:"Thomas de Groot",email:"thomas@innovatielab.nl",phone:"06-22334455",company:"Innovatie Lab",status:"proposal",source:"referral",estimatedValue:8500,notes:"Offerte verstuurd voor prototype ontwikkeling",createdDate:"2024-09-28",lastContactDate:"2024-10-06",nextFollowUpDate:"2024-10-13"},{id:"l3",name:"Lisa Vermeulen",email:"lisa@designstudio.nl",phone:"06-33445566",company:"Design Studio",status:"negotiation",source:"cold-call",estimatedValue:3200,notes:"In onderhandeling over prijzen en levertijd",createdDate:"2024-09-20",lastContactDate:"2024-10-07",nextFollowUpDate:"2024-10-11"},{id:"l4",name:"Mark Hendriks",email:"mark@bouwmaatschappij.nl",phone:"06-44556677",company:"Bouwmaatschappij NL",status:"new",source:"advertisement",estimatedValue:12e3,notes:"Contact opgenomen via LinkedIn advertentie",createdDate:"2024-10-09",nextFollowUpDate:"2024-10-11"},{id:"l5",name:"Sarah Bakker",email:"sarah@projectbureau.nl",phone:"06-55667788",company:"Projectbureau",status:"contacted",source:"website",estimatedValue:6500,notes:"Eerste telefoongesprek gehad, wacht op specificaties",createdDate:"2024-10-03",lastContactDate:"2024-10-04",nextFollowUpDate:"2024-10-10"},{id:"l6",name:"Kevin Smit",email:"kevin@architecten.nl",phone:"06-66778899",company:"Architecten & Co",status:"lost",source:"referral",estimatedValue:4500,notes:"Prijs te hoog, gekozen voor concurrent",createdDate:"2024-09-15",lastContactDate:"2024-09-30"}],lV=[{id:"int1",leadId:"l1",type:"call",subject:"Eerste kennismakingsgesprek",description:"Telefoongesprek over behoeftes en mogelijke samenwerking. Emma is zeer genteresseerd.",date:"2024-10-08T10:30:00",employeeId:"e4",followUpRequired:!0,followUpDate:"2024-10-12"},{id:"int2",leadId:"l2",type:"email",subject:"Offerte verstuurd",description:"Offerte voor prototype ontwikkeling verstuurd per email. Wacht op reactie.",date:"2024-10-06T14:15:00",employeeId:"e4",followUpRequired:!0,followUpDate:"2024-10-13"},{id:"int3",customerId:"c1",type:"meeting",subject:"Project bespreking",description:"Bespreking nieuwe projecten voor Q4. Positief verlopen.",date:"2024-10-07T11:00:00",employeeId:"e4",followUpRequired:!1},{id:"int4",leadId:"l3",type:"call",subject:"Prijsonderhandeling",description:"Telefoongesprek over prijsaanpassingen. Lisa vraagt om 10% korting.",date:"2024-10-07T15:30:00",employeeId:"e4",followUpRequired:!0,followUpDate:"2024-10-11"},{id:"int5",customerId:"c2",type:"email",subject:"Factuur verzonden",description:"Factuur voor order #1235 verzonden. Betaling verwacht binnen 30 dagen.",date:"2024-10-05T16:45:00",followUpRequired:!1},{id:"int6",leadId:"l4",type:"note",subject:"LinkedIn contact",description:"Mark heeft gereageerd op advertentie. Wil graag meer informatie over onze diensten.",date:"2024-10-09T09:00:00",followUpRequired:!0,followUpDate:"2024-10-11"},{id:"int7",customerId:"c3",type:"meeting",subject:"Kwartaal review",description:"Review van geleverde diensten dit kwartaal. Zeer tevreden.",date:"2024-10-01T13:00:00",employeeId:"e4",followUpRequired:!1}],oV=[{id:"e1",name:"Jan de Vries",role:"Productiemedewerker",email:"jan@bedrijf.nl",phone:"06-12345678",hireDate:"2020-05-01",vacationDays:25,usedVacationDays:12,availability:"available",password:"1234"},{id:"e2",name:"Maria Jansen",role:"Lasser",email:"maria@bedrijf.nl",phone:"06-23456789",hireDate:"2019-08-15",vacationDays:25,usedVacationDays:8,availability:"available",password:"1234"},{id:"e3",name:"Peter Bakker",role:"Spuiter",email:"peter@bedrijf.nl",phone:"06-34567890",hireDate:"2021-02-20",vacationDays:25,usedVacationDays:15,availability:"vacation",password:"1234"},{id:"e4",name:"Sophie van Dam",role:"Manager Productie",email:"sophie@bedrijf.nl",phone:"06-45678901",hireDate:"2018-11-10",vacationDays:28,usedVacationDays:10,availability:"available",password:"1234"}],cV=[{id:"t1",type:"income",description:"Verkoop order #1234",amount:325,date:"2024-10-01",relatedTo:"s1"},{id:"t2",type:"expense",description:"Inkoop staal",amount:-450,date:"2024-09-28"},{id:"t3",type:"income",description:"Verkoop order #1235",amount:268.5,date:"2024-10-05",relatedTo:"s2"},{id:"t4",type:"expense",description:"Elektriciteit factuur",amount:-125,date:"2024-10-03"},{id:"t5",type:"income",description:"Verkoop order #1236",amount:245,date:"2024-10-07",relatedTo:"s3"},{id:"t6",type:"expense",description:"Salarissen",amount:-5200,date:"2024-09-30"},{id:"t7",type:"income",description:"Offerte Q001 geaccepteerd",amount:1500,date:"2024-10-08",relatedTo:"q1"}],uV=[{id:"Q001",customerId:"c1",items:[{inventoryItemId:"1",description:"Staal plaat",quantity:20,pricePerUnit:45.5,total:910},{inventoryItemId:"3",description:"Schroeven M8",quantity:200,pricePerUnit:.15,total:30}],labor:[{description:"Montage en installatie",hours:8,hourlyRate:65,total:520}],subtotal:1460,vatRate:21,vatAmount:306.6,total:1766.6,status:"approved",createdDate:"2024-10-01",validUntil:"2024-10-31",notes:"Inclusief transport"},{id:"Q002",customerId:"c2",items:[{inventoryItemId:"2",description:"Aluminium staaf",quantity:25,pricePerUnit:28.75,total:718.75}],labor:[{description:"Zagen en afwerken",hours:6,hourlyRate:55,total:330}],subtotal:1048.75,vatRate:21,vatAmount:220.24,total:1268.99,status:"sent",createdDate:"2024-10-05",validUntil:"2024-11-05"},{id:"Q003",customerId:"c3",items:[{inventoryItemId:"5",description:"Lasstaaf",quantity:100,pricePerUnit:3.25,total:325},{description:"Extra materialen en verbruiksgoederen",quantity:1,pricePerUnit:175,total:175}],labor:[{description:"Laswerk industrile constructie",hours:40,hourlyRate:75,total:3e3}],subtotal:3500,vatRate:21,vatAmount:735,total:4235,status:"draft",createdDate:"2024-10-08",validUntil:"2024-11-08"}],dV=[{id:"task1",title:"Follow-up offerte TechBouw",description:"Bellen voor status offerte Q001",customerId:"c1",priority:"high",status:"todo",dueDate:"2024-10-12",createdDate:"2024-10-08"},{id:"task2",title:"Materialen bestellen",description:"Aluminium staaf bestellen bij MetaalGigant",employeeId:"e4",priority:"medium",status:"in_progress",dueDate:"2024-10-10",createdDate:"2024-10-07"},{id:"task3",title:"Klantoverleg Metaal Constructies",description:"Bespreken project planning en deadlines",customerId:"c3",priority:"high",status:"todo",dueDate:"2024-10-15",createdDate:"2024-10-08"}],fV=[{id:"cal1",title:"Frame Assemblage - TechBouw",description:"Werkorder wo1",start:"2024-10-10T09:00:00",end:"2024-10-10T17:00:00",type:"workorder",relatedId:"wo1",employeeId:"e1",customerId:"c1"},{id:"cal2",title:"Lassen Constructie",start:"2024-10-12T08:00:00",end:"2024-10-12T16:00:00",type:"workorder",relatedId:"wo2",employeeId:"e2",customerId:"c3"},{id:"cal3",title:"Vakantie Peter Bakker",start:"2024-10-14T00:00:00",end:"2024-10-20T23:59:59",type:"vacation",employeeId:"e3"},{id:"cal4",title:"Team Meeting",description:"Wekelijkse productie bespreking",start:"2024-10-11T14:00:00",end:"2024-10-11T15:00:00",type:"meeting"}],mV=[{id:"notif1",type:"warning",message:"Verfspuit voorraad onder herbestel niveau (12/5)",date:"2024-10-08T10:30:00",read:!1,relatedModule:"inventory",relatedId:"4"},{id:"notif2",type:"success",message:"Offerte Q001 door TechBouw B.V. geaccepteerd",date:"2024-10-08T09:15:00",read:!1,relatedModule:"accounting",relatedId:"q1"},{id:"notif3",type:"info",message:"Werkorder wo3 succesvol afgerond door Peter Bakker",date:"2024-10-07T16:45:00",read:!0,relatedModule:"work_orders",relatedId:"wo3"},{id:"notif4",type:"warning",message:'Taak "Follow-up offerte TechBouw" vervalt over 4 dagen',date:"2024-10-08T08:00:00",read:!1,relatedModule:"crm",relatedId:"task1"}],hV=[{id:"inv1",invoiceNumber:"2025-001",customerId:"c1",quoteId:"Q001",items:[{inventoryItemId:"1",description:"Staal plaat",quantity:20,pricePerUnit:45.5,total:910},{inventoryItemId:"3",description:"Schroeven M8",quantity:200,pricePerUnit:.15,total:30}],labor:[{description:"Montage en installatie",hours:8,hourlyRate:65,total:520}],subtotal:1460,vatRate:21,vatAmount:306.6,total:1766.6,status:"paid",issueDate:"2024-10-08",dueDate:"2024-10-22",paidDate:"2024-10-15",notes:"Inclusief transport",paymentTerms:"14 dagen"},{id:"inv2",invoiceNumber:"2025-002",customerId:"c2",items:[{inventoryItemId:"2",description:"Aluminium staaf",quantity:15,pricePerUnit:28.75,total:431.25}],labor:[{description:"Zagen en afwerken",hours:4,hourlyRate:55,total:220}],subtotal:651.25,vatRate:21,vatAmount:136.76,total:788.01,status:"sent",issueDate:"2024-10-06",dueDate:"2024-11-06",paymentTerms:"30 dagen"},{id:"inv3",invoiceNumber:"2025-003",customerId:"c3",items:[{inventoryItemId:"5",description:"Lasstaaf",quantity:50,pricePerUnit:3.25,total:162.5}],labor:[{description:"Laswerk reparatie",hours:6,hourlyRate:75,total:450}],subtotal:612.5,vatRate:21,vatAmount:128.63,total:741.13,status:"overdue",issueDate:"2024-09-15",dueDate:"2024-09-29",paymentTerms:"14 dagen",notes:"Herinnering verstuurd"}],pV=({inventory:e,sales:t,workOrders:n,notifications:r,setNotifications:l})=>{const c=e.filter(b=>b.quantity<=b.reorderLevel),u=t.reduce((b,y)=>b+y.total,0),f=n.filter(b=>b.status==="Pending").length,m=n.filter(b=>b.status==="In Progress").length,h=r.filter(b=>!b.read),p=b=>{l(r.map(y=>y.id===b?{...y,read:!0}:y))},x=b=>{switch(b){case"warning":return i.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});case"error":return i.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"success":return i.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};return i.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-neutral mb-2",children:"Dashboard"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-8",children:"Overzicht van uw bedrijfsactiviteiten"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Totale Verkopen"}),i.jsxs("p",{className:"text-2xl font-bold text-neutral mt-1",children:["",u.toFixed(2)]})]}),i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Lage Voorraad"}),i.jsx("p",{className:"text-2xl font-bold text-neutral mt-1",children:c.length})]}),i.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Orders In Uitvoering"}),i.jsx("p",{className:"text-2xl font-bold text-neutral mt-1",children:m})]}),i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Orders In Wacht"}),i.jsx("p",{className:"text-2xl font-bold text-neutral mt-1",children:f})]}),i.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),h.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral",children:"Meldingen"}),i.jsxs("span",{className:"px-3 py-1 bg-red-100 text-red-800 text-sm font-semibold rounded-full",children:[h.length," nieuw"]})]}),i.jsx("div",{className:"space-y-3",children:h.slice(0,5).map(b=>i.jsx("div",{className:`p-4 rounded-lg border-l-4 ${b.type==="warning"?"bg-orange-50 border-orange-500":b.type==="error"?"bg-red-50 border-red-500":b.type==="success"?"bg-green-50 border-green-500":"bg-blue-50 border-blue-500"}`,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[x(b.type),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-neutral",children:b.message}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(b.date).toLocaleString("nl-NL")})]})]}),i.jsx("button",{onClick:()=>p(b.id),className:"text-sm text-gray-600 hover:text-gray-800",children:""})]})},b.id))})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Lage Voorraad Waarschuwingen"}),i.jsx("div",{className:"space-y-3",children:c.length===0?i.jsx("p",{className:"text-gray-500 text-sm",children:"Alle voorraad niveaus zijn voldoende."}):c.map(b=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-neutral",children:b.name}),i.jsxs("p",{className:"text-sm text-gray-600",children:["SKU: ",b.sku]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-semibold text-orange-600",children:[b.quantity," stuks"]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Min: ",b.reorderLevel]})]})]},b.id))})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Recente Werkorders"}),i.jsx("div",{className:"space-y-3",children:n.slice(0,5).map(b=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-neutral",children:b.title}),i.jsx("p",{className:"text-sm text-gray-600",children:b.description})]}),i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${b.status==="Completed"?"bg-green-100 text-green-800":b.status==="In Progress"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:b.status})]},b.id))})]})]})]})},gV=({inventory:e,setInventory:t,isAdmin:n})=>{const[r,l]=j.useState(""),[c,u]=j.useState(!1),[f,m]=j.useState({name:"",sku:"",quantity:0,reorderLevel:0,supplier:"",price:0,unit:"stuk"}),h=e.filter(y=>y.name.toLowerCase().includes(r.toLowerCase())||y.sku.toLowerCase().includes(r.toLowerCase())),p=()=>{const y={...f,id:Date.now().toString()};t([...e,y]),m({name:"",sku:"",quantity:0,reorderLevel:0,supplier:"",price:0,unit:"stuk"}),u(!1)},x=(y,N)=>{t(e.map(w=>w.id===y?{...w,quantity:Math.max(0,w.quantity+N)}:w))},b=y=>{t(e.filter(N=>N.id!==y))};return i.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4 sm:mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-neutral",children:"Voorraadbeheer"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Beheer grondstoffen, halffabricaten en eindproducten"})]}),n&&i.jsx("button",{onClick:()=>u(!c),className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"+ Nieuw Item"})]}),i.jsx("div",{className:"mb-6",children:i.jsx("input",{type:"text",placeholder:"Zoek op naam of SKU...",value:r,onChange:y=>l(y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})}),c&&n&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Nieuw Item Toevoegen"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("input",{type:"text",placeholder:"Naam",value:f.name,onChange:y=>m({...f,name:y.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"text",placeholder:"SKU",value:f.sku,onChange:y=>m({...f,sku:y.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"number",placeholder:"Aantal",value:f.quantity,onChange:y=>m({...f,quantity:parseInt(y.target.value)||0}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"number",placeholder:"Herbestel Niveau",value:f.reorderLevel,onChange:y=>m({...f,reorderLevel:parseInt(y.target.value)||0}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"number",step:"0.01",placeholder:"Prijs per eenheid ()",value:f.price,onChange:y=>m({...f,price:parseFloat(y.target.value)||0}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsxs("select",{value:f.unit,onChange:y=>m({...f,unit:y.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"stuk",children:"Stuk"}),i.jsx("option",{value:"meter",children:"Meter"}),i.jsx("option",{value:"kg",children:"Kilogram"}),i.jsx("option",{value:"liter",children:"Liter"}),i.jsx("option",{value:"m2",children:"Vierkante meter"}),i.jsx("option",{value:"doos",children:"Doos"})]}),i.jsx("input",{type:"text",placeholder:"Leverancier",value:f.supplier,onChange:y=>m({...f,supplier:y.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary col-span-2"})]}),i.jsxs("div",{className:"flex gap-3 mt-4",children:[i.jsx("button",{onClick:p,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"Toevoegen"}),i.jsx("button",{onClick:()=>u(!1),className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Annuleren"})]})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Naam"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"SKU"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Aantal"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Prijs"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Herbestel"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Leverancier"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"}),n&&i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Acties"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:h.map(y=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 text-sm font-medium text-neutral",children:y.name}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:y.sku}),i.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[y.quantity," ",y.unit]}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:y.price?`${y.price.toFixed(2)}/${y.unit}`:"-"}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:y.reorderLevel}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:y.supplier}),i.jsx("td",{className:"px-6 py-4",children:y.quantity<=y.reorderLevel?i.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-red-800 bg-red-100 rounded-full",children:"Laag"}):i.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full",children:"OK"})}),n&&i.jsx("td",{className:"px-6 py-4 text-sm",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>x(y.id,10),className:"px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 text-xs",children:"+10"}),i.jsx("button",{onClick:()=>x(y.id,-10),className:"px-3 py-1 bg-orange-500 text-white rounded hover:bg-orange-600 text-xs",children:"-10"}),i.jsx("button",{onClick:()=>b(y.id),className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 text-xs",children:"Del"})]})})]},y.id))})]})})]})},xV=({products:e,inventory:t,setInventory:n,sales:r,setSales:l,setTransactions:c,customers:u})=>{const[f,m]=j.useState([]),[h,p]=j.useState(null),x=w=>{const S=f.find(D=>D.id===w.id);m(S?f.map(D=>D.id===w.id?{...D,quantity:D.quantity+1}:D):[...f,{...w,quantity:1}])},b=(w,S)=>{S<=0?m(f.filter(D=>D.id!==w)):m(f.map(D=>D.id===w?{...D,quantity:S}:D))},y=()=>f.reduce((w,S)=>w+S.price*S.quantity,0),N=()=>{if(f.length===0){alert("Winkelwagen is leeg!");return}const w=[...t];f.forEach(P=>{const O=w.find(I=>I.id===P.inventoryItemId);O&&(O.quantity-=P.quantity)}),n(w);const S={id:`s${Date.now()}`,items:[...f],total:y(),customerId:h,date:new Date().toISOString().split("T")[0]};l([...r,S]);const D={id:`t${Date.now()}`,type:"income",description:`Verkoop order #${S.id}`,amount:S.total,date:S.date};c(P=>[...P,D]),m([]),p(null),alert("Verkoop succesvol voltooid!")};return i.jsxs("div",{className:"p-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-neutral mb-2",children:"Kassasysteem (POS)"}),i.jsx("p",{className:"text-gray-600 mb-8",children:"Verwerk betalingen en registreer verkopen"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Producten"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(w=>{const S=t.find(P=>P.id===w.inventoryItemId),D=S&&S.quantity>0;return i.jsxs("button",{onClick:()=>D&&x(w),disabled:!D,className:`p-4 rounded-lg border-2 text-left transition-all ${D?"border-gray-200 hover:border-primary hover:bg-blue-50 cursor-pointer":"border-gray-200 bg-gray-100 cursor-not-allowed opacity-50"}`,children:[i.jsx("h3",{className:"font-semibold text-neutral",children:w.name}),i.jsxs("p",{className:"text-2xl font-bold text-primary mt-2",children:["",w.price.toFixed(2)]}),i.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Voorraad: ",(S==null?void 0:S.quantity)||0]})]},w.id)})})]})}),i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-8",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Winkelwagen"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Klant (optioneel)"}),i.jsxs("select",{value:h||"",onChange:w=>p(w.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Geen klant"}),u.map(w=>i.jsx("option",{value:w.id,children:w.name},w.id))]})]}),i.jsx("div",{className:"space-y-3 mb-6 max-h-64 overflow-y-auto",children:f.length===0?i.jsx("p",{className:"text-gray-500 text-sm text-center py-8",children:"Winkelwagen is leeg"}):f.map(w=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-neutral text-sm",children:w.name}),i.jsxs("p",{className:"text-xs text-gray-600",children:["",w.price.toFixed(2),"  ",w.quantity]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>b(w.id,w.quantity-1),className:"w-6 h-6 bg-gray-300 rounded text-sm hover:bg-gray-400",children:"-"}),i.jsx("span",{className:"w-8 text-center font-semibold",children:w.quantity}),i.jsx("button",{onClick:()=>b(w.id,w.quantity+1),className:"w-6 h-6 bg-gray-300 rounded text-sm hover:bg-gray-400",children:"+"})]})]},w.id))}),i.jsx("div",{className:"border-t pt-4 mb-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-lg font-semibold text-neutral",children:"Totaal:"}),i.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",y().toFixed(2)]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("button",{onClick:N,disabled:f.length===0,className:`w-full py-3 rounded-lg font-semibold transition-colors ${f.length>0?"bg-primary text-white hover:bg-secondary":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Verkoop Voltooien"}),i.jsx("button",{onClick:()=>m([]),className:"w-full py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Wissen"})]})]})})]})]})},vV=({workOrders:e,setWorkOrders:t,employees:n,customers:r,inventory:l,setInventory:c,currentUser:u,isAdmin:f,quotes:m=[],setQuotes:h,invoices:p=[],setInvoices:x})=>{var Xa;const[b,y]=j.useState(!1),[N,w]=j.useState(null),[S,D]=j.useState(u.employeeId),[P,O]=j.useState(!1),[I,R]=j.useState(null),[M,B]=j.useState(null),[$,Y]=j.useState(!1),[X,le]=j.useState(null),[he,we]=j.useState(!1),[Te,De]=j.useState(!1),[Z,ce]=j.useState(!1),[ke,G]=j.useState(""),[Ne,z]=j.useState(null),[L,se]=j.useState(null),[ve,Ee]=j.useState({title:"",description:"",assignedTo:u.employeeId,customerId:"",location:"",scheduledDate:"",pendingReason:"",sortIndex:void 0}),[_e,nt]=j.useState(""),[ct,ue]=j.useState(1),[Fe,Ye]=j.useState([]),[me,bt]=j.useState(!1),[qe,be]=j.useState(""),[ge,lt]=j.useState(1),ye=()=>e.length===0?1:Math.max(...e.map(F=>F.sortIndex||0))+1,We=j.useMemo(()=>{let A;return f&&S==="all"?A=e:A=e.filter(F=>F.assignedTo===S),A.sort((F,q)=>{const ie=F.sortIndex??999999,Oe=q.sortIndex??999999;return ie!==Oe?ie-Oe:new Date(F.createdDate).getTime()-new Date(q.createdDate).getTime()})},[e,S,f]),Wr=j.useMemo(()=>{if(!f||S!=="all")return null;const A={};return e.forEach(F=>{A[F.assignedTo]||(A[F.assignedTo]=[]),A[F.assignedTo].push(F)}),Object.keys(A).forEach(F=>{A[F].sort((q,ie)=>{const Oe=q.sortIndex??999999,Le=ie.sortIndex??999999;return Oe!==Le?Oe-Le:new Date(q.createdDate).getTime()-new Date(ie.createdDate).getTime()})}),A},[e,S,f]),Xt=j.useMemo(()=>{const A=We.filter(Le=>Le.status==="To Do").length,F=We.filter(Le=>Le.status==="Pending").length,q=We.filter(Le=>Le.status==="In Progress").length,ie=We.filter(Le=>Le.status==="Completed").length,Oe=We.reduce((Le,Qe)=>Le+(Qe.hoursSpent||0),0);return{todo:A,pending:F,inProgress:q,completed:ie,totalHours:Oe}},[We]),Wa=()=>{if(!ve.title||!ve.assignedTo){alert("Vul alle verplichte velden in!");return}for(const q of Fe){const ie=l.find(Oe=>Oe.id===q.itemId);if(ie&&ie.quantity<q.quantity){alert(`Niet genoeg voorraad van ${ie.name}. Beschikbaar: ${ie.quantity}, Nodig: ${q.quantity}`);return}}const A=new Date().toISOString(),F={id:`wo${Date.now()}`,title:ve.title,description:ve.description,status:me?"Pending":"To Do",assignedTo:ve.assignedTo,assignedBy:u.employeeId,requiredInventory:Fe,createdDate:new Date().toISOString().split("T")[0],customerId:ve.customerId||void 0,location:ve.location||void 0,scheduledDate:ve.scheduledDate||void 0,pendingReason:me&&ve.pendingReason||void 0,sortIndex:ve.sortIndex!==void 0&&ve.sortIndex>0?ve.sortIndex:ye(),timestamps:{created:A,assigned:A},history:[{timestamp:A,action:"created",performedBy:u.employeeId,details:`Werkorder aangemaakt door ${Be(u.employeeId)}`},{timestamp:A,action:"assigned",performedBy:u.employeeId,details:`Toegewezen aan ${Be(ve.assignedTo)} door ${Be(u.employeeId)}`,toAssignee:ve.assignedTo}]};t([...e,F]),il(u.employeeId,u.role,yt.WORK_ORDERS,"create_workorder","create",{workOrderId:F.id,customerId:F.customerId,assignedTo:F.assignedTo,status:F.status,materialsCount:F.requiredInventory.length}),Ee({title:"",description:"",assignedTo:u.employeeId,customerId:"",location:"",scheduledDate:"",pendingReason:"",sortIndex:void 0}),Ye([]),bt(!1),y(!1)},Es=()=>{if(!_e||ct<=0){alert("Selecteer een materiaal en voer een geldig aantal in!");return}const A=l.find(q=>q.id===_e);if(!A)return;if(A.quantity<ct){alert(`Niet genoeg voorraad. Beschikbaar: ${A.quantity}`);return}const F=Fe.findIndex(q=>q.itemId===_e);if(F>=0){const q=[...Fe];q[F].quantity+=ct,Ye(q)}else Ye([...Fe,{itemId:_e,quantity:ct}]);nt(""),ue(1)},On=A=>{Ye(Fe.filter(F=>F.itemId!==A))},Ms=()=>{if(!N||!qe||ge<=0){alert("Selecteer een materiaal en voer een geldig aantal in!");return}const A=l.find(q=>q.id===qe);if(!A)return;if(A.quantity<ge){alert(`Niet genoeg voorraad. Beschikbaar: ${A.quantity}`);return}const F=N.requiredInventory.findIndex(q=>q.itemId===qe);if(F>=0){const q=[...N.requiredInventory];q[F].quantity+=ge,w({...N,requiredInventory:q})}else w({...N,requiredInventory:[...N.requiredInventory,{itemId:qe,quantity:ge}]});be(""),lt(1)},$i=A=>{N&&w({...N,requiredInventory:N.requiredInventory.filter(F=>F.itemId!==A)})},Zn=A=>{w(A),be(""),lt(1)},_a=()=>{if(!N||!N.title||!N.assignedTo){alert("Vul alle verplichte velden in!");return}for(const Oe of N.requiredInventory){const Le=l.find(Qe=>Qe.id===Oe.itemId);if(Le&&Le.quantity<Oe.quantity){alert(`Niet genoeg voorraad van ${Le.name}. Beschikbaar: ${Le.quantity}, Nodig: ${Oe.quantity}`);return}}const A=new Date().toISOString(),F=e.find(Oe=>Oe.id===N.id);let q={...N},ie=[...e];if(F&&F.sortIndex!==N.sortIndex&&N.sortIndex!==void 0){const Oe=N.sortIndex,Le=e.find(Qe=>Qe.id!==N.id&&Qe.assignedTo===N.assignedTo&&Qe.sortIndex===Oe);if(Le){const wt=e.filter(nn=>nn.assignedTo===N.assignedTo&&nn.id!==N.id).map(nn=>nn.sortIndex||0),ht=Math.max(...wt,0)+1;ie=ie.map(nn=>nn.id===Le.id?{...nn,sortIndex:ht,history:[...nn.history||[],{timestamp:A,action:"reordered",performedBy:u.employeeId,details:`Indexnummer automatisch aangepast van #${Le.sortIndex} naar #${ht} (conflictresolutie door ${Be(u.employeeId)})`}]}:nn),q.history=[...q.history||[],{timestamp:A,action:"reordered",performedBy:u.employeeId,details:`Indexnummer gewijzigd van #${F.sortIndex} naar #${Oe} door ${Be(u.employeeId)} (werkorder #${Le.sortIndex} opgeschoven naar #${ht})`}]}else q.history=[...q.history||[],{timestamp:A,action:"reordered",performedBy:u.employeeId,details:`Indexnummer gewijzigd van #${F.sortIndex||"auto"} naar #${Oe} door ${Be(u.employeeId)}`}]}F&&F.assignedTo!==N.assignedTo&&(q.history=[...q.history||[],{timestamp:A,action:"assigned",performedBy:u.employeeId,details:`Opnieuw toegewezen van ${Be(F.assignedTo)} naar ${Be(N.assignedTo)} door ${Be(u.employeeId)}`,fromAssignee:F.assignedTo,toAssignee:N.assignedTo}],q.timestamps?q.timestamps={...q.timestamps}:q.timestamps={created:q.createdDate},q.timestamps.assigned=A),q.pendingReason=q.status==="Pending"?q.pendingReason:void 0,t(ie.map(Oe=>Oe.id===q.id?q:Oe)),w(null)},Ui=()=>{w(null),be(""),lt(1)},ur=(A,F)=>{var q;if(t(e.map(ie=>{if(ie.id===A){const Oe=new Date().toISOString(),Le=ie.status,Qe={status:F,history:[...ie.history||[],{timestamp:Oe,action:"status_changed",performedBy:u.employeeId,details:`Status gewijzigd van "${Le}" naar "${F}" door ${Be(u.employeeId)}`,fromStatus:Le,toStatus:F}]};return ie.timestamps?Qe.timestamps={...ie.timestamps}:Qe.timestamps={created:ie.createdDate},F==="In Progress"&&!Qe.timestamps.started&&(Qe.timestamps.started=Oe),F==="Completed"&&(Qe.completedDate=new Date().toISOString().split("T")[0],Qe.timestamps.completed=Oe),F!=="Pending"&&(Qe.pendingReason=void 0),{...ie,...Qe}}return ie})),F==="Completed"){const ie=e.find(Oe=>Oe.id===A);if(ie){const Oe=(q=ie.timestamps)!=null&&q.started?Date.now()-new Date(ie.timestamps.started).getTime():void 0;e6(u.employeeId,u.role,yt.WORK_ORDERS,"workorder",Oe||0,!0,[]);const Le=[...l];ie.requiredInventory.forEach(Qe=>{const wt=Le.find(He=>He.id===Qe.itemId);wt&&(wt.quantity=Math.max(0,wt.quantity-Qe.quantity))}),c(Le),xt(ie)}}else{const ie=e.find(Oe=>Oe.id===A);ie&&il(u.employeeId,u.role,yt.WORK_ORDERS,`update_status_${F.toLowerCase().replace(" ","_")}`,"update",{workOrderId:ie.id,fromStatus:ie.status,toStatus:F})}},Ar=(A,F)=>{t(e.map(q=>q.id===A?{...q,hoursSpent:F}:q))},Jn=A=>{confirm("Weet je zeker dat je deze werkorder wilt verwijderen?")&&t(e.filter(F=>F.id!==A))},_t=A=>{switch(A){case"Completed":return"bg-green-100 text-green-800 border-green-500";case"In Progress":return"bg-blue-100 text-blue-800 border-blue-500";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-500";case"To Do":return"bg-gray-100 text-gray-800 border-gray-500"}},Be=A=>{var F;return((F=n.find(q=>q.id===A))==null?void 0:F.name)||"Onbekend"},et=A=>{var F;return A?((F=r.find(q=>q.id===A))==null?void 0:F.name)||"Onbekend":null},It=()=>{if(!p||p.length===0)return`${new Date().getFullYear()}-001`;const A=new Date().getFullYear(),F=p.filter(ie=>ie.invoiceNumber.startsWith(`${A}-`)).map(ie=>parseInt(ie.invoiceNumber.split("-")[1])).filter(ie=>!isNaN(ie)),q=F.length>0?Math.max(...F)+1:1;return`${A}-${String(q).padStart(3,"0")}`},Ft=(A,F,q)=>({timestamp:new Date().toISOString(),action:A,performedBy:u.employeeId,details:F,...q}),xt=A=>{if(A.invoiceId){const Ve=p==null?void 0:p.find(tt=>tt.id===A.invoiceId);if(Ve){if(x&&A.hoursSpent){const tt=Ve.labor?Ve.labor.map(Dn=>({...Dn,hours:A.hoursSpent||Dn.hours,total:(A.hoursSpent||Dn.hours)*Dn.hourlyRate})):[],nr=Ve.items.reduce((Dn,Bt)=>Dn+Bt.total,0),qn=tt.reduce((Dn,Bt)=>Dn+Bt.total,0),Hn=nr+qn,Tr=Hn*(Ve.vatRate/100),Zr=Hn+Tr,Na={...Ve,labor:tt.length>0?tt:void 0,subtotal:Hn,vatAmount:Tr,total:Zr,history:[...Ve.history||[],Ft("updated",`Factuur bijgewerkt met werkelijke gewerkte uren (${A.hoursSpent}u) na voltooiing werkorder ${A.id}`)]};x(p.map(Dn=>Dn.id===Ve.id?Na:Dn))}return}}if(A.quoteId){const Ve=m.find(tt=>tt.id===A.quoteId);if(Ve){const tt=p==null?void 0:p.find(nr=>nr.quoteId===Ve.id);if(tt&&x&&A.hoursSpent&&tt.labor){const nr=tt.labor.map(Bt=>({...Bt,hours:A.hoursSpent||Bt.hours,total:(A.hoursSpent||Bt.hours)*Bt.hourlyRate})),qn=tt.items.reduce((Bt,Jr)=>Bt+Jr.total,0),Hn=nr.reduce((Bt,Jr)=>Bt+Jr.total,0),Tr=qn+Hn,Zr=Tr*(tt.vatRate/100),Na=Tr+Zr,Dn={...tt,labor:nr,subtotal:Tr,vatAmount:Zr,total:Na,workOrderId:A.id,history:[...tt.history||[],Ft("updated",`Factuur bijgewerkt met werkelijke gewerkte uren (${A.hoursSpent}u) na voltooiing werkorder ${A.id}`)]};x(p.map(Bt=>Bt.id===tt.id?Dn:Bt)),t(e.map(Bt=>Bt.id===A.id?{...Bt,invoiceId:tt.id}:Bt));return}}}if(!x||!A.customerId){console.log("Kan geen factuur aanmaken: setInvoices of customerId ontbreekt");return}let F=[],q=[],ie=21;if(A.quoteId){const Ve=m.find(tt=>tt.id===A.quoteId);Ve&&(F=[...Ve.items],q=Ve.labor?[...Ve.labor]:[],ie=Ve.vatRate,A.hoursSpent&&q.length>0&&(q=q.map(tt=>({...tt,hours:A.hoursSpent||tt.hours,total:(A.hoursSpent||tt.hours)*tt.hourlyRate}))))}F.length===0&&(F=A.requiredInventory.map(Ve=>{const tt=l.find(nr=>nr.id===Ve.itemId);return{inventoryItemId:Ve.itemId,description:(tt==null?void 0:tt.name)||"Onbekend item",quantity:Ve.quantity,pricePerUnit:(tt==null?void 0:tt.price)||0,total:((tt==null?void 0:tt.price)||0)*Ve.quantity}}),F.length===0&&(F=[{description:`Werkzaamheden - ${A.title}`,quantity:1,pricePerUnit:A.estimatedCost||0,total:A.estimatedCost||0}])),q.length===0&&A.hoursSpent&&A.hoursSpent>0&&(q=[{description:`Werkzaamheden - ${A.title}`,hours:A.hoursSpent,hourlyRate:65,total:A.hoursSpent*65}]);const Oe=F.reduce((Ve,tt)=>Ve+tt.total,0),Le=q.reduce((Ve,tt)=>Ve+tt.total,0),Qe=Oe+Le,wt=Qe*(ie/100),He=Qe+wt,ht=new Date().toISOString().split("T")[0],nn=new Date;nn.setDate(nn.getDate()+14);const fn=nn.toISOString().split("T")[0],tr=new Date().toISOString();et(A.customerId);const Tn={id:`inv${Date.now()}`,invoiceNumber:It(),customerId:A.customerId,workOrderId:A.id,quoteId:A.quoteId,items:F,labor:q.length>0?q:void 0,subtotal:Qe,vatRate:ie,vatAmount:wt,total:He,status:"draft",issueDate:ht,dueDate:fn,paymentTerms:"14 dagen",notes:`Factuur aangemaakt automatisch na voltooiing werkorder ${A.id}
${A.notes||""}`,location:A.location,scheduledDate:A.scheduledDate,createdBy:u.employeeId,timestamps:{created:tr},history:[Ft("created",`Factuur automatisch aangemaakt na voltooiing werkorder ${A.id} door ${Be(u.employeeId)}`)]};x([...p,Tn]),t(e.map(Ve=>Ve.id===A.id?{...Ve,invoiceId:Tn.id}:Ve)),alert(` Factuur ${Tn.invoiceNumber} automatisch aangemaakt voor voltooide werkorder ${A.id}!

Bekijk de factuur in de Boekhouding module.`)},Xe=A=>{if(A.quoteId){const F=m.find(q=>q.id===A.quoteId);if(F){R("quote"),B(F),O(!0);return}}if(A.invoiceId){const F=p.find(q=>q.id===A.invoiceId);if(F){R("invoice"),B(F),O(!0);return}}le(A),Y(!0)},Gt=()=>{if(M){if(I==="quote"){const A=M;se({customerId:A.customerId,items:A.items,labor:A.labor||[],vatRate:A.vatRate,notes:A.notes||"",validUntil:A.validUntil})}else{const A=M;se({customerId:A.customerId,items:A.items,labor:A.labor||[],vatRate:A.vatRate,notes:A.notes||"",paymentTerms:A.paymentTerms,issueDate:A.issueDate,dueDate:A.dueDate})}O(!1),we(!0)}},Wt=()=>{if(M){if(I==="quote"){const A=M;se({customerId:A.customerId,items:A.items.map(F=>({...F})),labor:A.labor?A.labor.map(F=>({...F})):[],vatRate:A.vatRate,notes:A.notes||"",validUntil:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0]})}else{const A=M,F=new Date().toISOString().split("T")[0],q=new Date;q.setDate(q.getDate()+14),se({customerId:A.customerId,items:A.items.map(ie=>({...ie})),labor:A.labor?A.labor.map(ie=>({...ie})):[],vatRate:A.vatRate,notes:A.notes||"",paymentTerms:A.paymentTerms,issueDate:F,dueDate:q.toISOString().split("T")[0]})}O(!1),De(!0)}},gn=()=>{if(!L)return{subtotal:0,vatAmount:0,total:0};const A=L.items.reduce((Le,Qe)=>Le+Qe.total,0),F=L.labor.reduce((Le,Qe)=>Le+Qe.total,0),q=A+F,ie=q*(L.vatRate/100),Oe=q+ie;return{subtotal:q,vatAmount:ie,total:Oe}},jt=(A,F,q)=>{if(!L)return;const ie=[...L.items];ie[A]={...ie[A],[F]:q},(F==="quantity"||F==="pricePerUnit")&&(ie[A].total=ie[A].quantity*ie[A].pricePerUnit),se({...L,items:ie})},er=(A,F,q)=>{if(!L)return;const ie=[...L.labor];ie[A]={...ie[A],[F]:q},(F==="hours"||F==="hourlyRate")&&(ie[A].total=ie[A].hours*ie[A].hourlyRate),se({...L,labor:ie})},An=()=>{if(!L)return;const A={description:"",quantity:1,pricePerUnit:0,total:0};se({...L,items:[...L.items,A]})},dr=()=>{if(!L)return;const A={description:"",hours:1,hourlyRate:65,total:65};se({...L,labor:[...L.labor,A]})},ba=A=>{L&&se({...L,items:L.items.filter((F,q)=>q!==A)})},Ia=A=>{L&&se({...L,labor:L.labor.filter((F,q)=>q!==A)})},Yr=(A,F)=>{if(!L)return;const q=l.find(ie=>ie.id===F);if(q){const ie=[...L.items];ie[A]={...ie[A],inventoryItemId:F,description:q.name,pricePerUnit:q.price||0,total:ie[A].quantity*(q.price||0)},se({...L,items:ie})}},Qr=()=>{if(!m||m.length===0)return"Q001";const A=m.map(q=>parseInt(q.id.replace("Q",""))).filter(q=>!isNaN(q)),F=A.length>0?Math.max(...A)+1:1;return`Q${String(F).padStart(3,"0")}`},Ya=()=>{if(!L||!M||I!=="quote"||!h)return;const{subtotal:A,vatAmount:F,total:q}=gn(),ie=M,Oe={...ie,customerId:L.customerId,items:L.items,labor:L.labor.length>0?L.labor:void 0,subtotal:A,vatRate:L.vatRate,vatAmount:F,total:q,notes:L.notes,validUntil:L.validUntil||ie.validUntil,history:[...ie.history||[],{timestamp:new Date().toISOString(),action:"updated",performedBy:u.employeeId,details:`Offerte bijgewerkt door ${Be(u.employeeId)}`}]};h(m.map(Le=>Le.id===ie.id?Oe:Le)),we(!1),se(null),O(!1),B(null),alert(` Offerte ${ie.id} succesvol bijgewerkt!`)},qi=()=>{if(!L||!M||I!=="invoice"||!x)return;const{subtotal:A,vatAmount:F,total:q}=gn(),ie=M,Oe={...ie,customerId:L.customerId,items:L.items,labor:L.labor.length>0?L.labor:void 0,subtotal:A,vatRate:L.vatRate,vatAmount:F,total:q,notes:L.notes,paymentTerms:L.paymentTerms,issueDate:L.issueDate||ie.issueDate,dueDate:L.dueDate||ie.dueDate,history:[...ie.history||[],Ft("updated",`Factuur bijgewerkt door ${Be(u.employeeId)}`)]};x(p.map(Le=>Le.id===ie.id?Oe:Le)),we(!1),se(null),O(!1),B(null),alert(` Factuur ${ie.invoiceNumber} succesvol bijgewerkt!`)},Qa=(A=!1)=>{if(!L||I!=="quote"||!h)return;if(!L.customerId||L.items.length===0||!L.validUntil){alert("Vul alle verplichte velden in!");return}const{subtotal:F,vatAmount:q,total:ie}=gn(),Oe=new Date().toISOString(),Le=et(L.customerId)||"Onbekend",Qe=Qr(),wt={id:Qe,customerId:L.customerId,items:L.items,labor:L.labor.length>0?L.labor:void 0,subtotal:F,vatRate:L.vatRate,vatAmount:q,total:ie,status:"draft",validUntil:L.validUntil,notes:L.notes,createdBy:u.employeeId,timestamps:{created:Oe},history:[{timestamp:Oe,action:"created",performedBy:u.employeeId,details:`Offerte gecloneerd door ${Be(u.employeeId)} voor klant ${Le}`}]};h([...m,wt]),De(!1),se(null),A?(z(wt),ce(!0)):alert(` Offerte ${Qe} succesvol gecloneerd!`)},Xr=(A=!1)=>{if(!L||I!=="invoice"||!x)return;if(!L.customerId||L.items.length===0||!L.issueDate||!L.dueDate){alert("Vul alle verplichte velden in!");return}const{subtotal:F,vatAmount:q,total:ie}=gn(),Oe=new Date().toISOString(),Le=et(L.customerId)||"Onbekend",Qe=It(),wt={id:`inv${Date.now()}`,invoiceNumber:Qe,customerId:L.customerId,items:L.items,labor:L.labor.length>0?L.labor:void 0,subtotal:F,vatRate:L.vatRate,vatAmount:q,total:ie,status:"draft",issueDate:L.issueDate,dueDate:L.dueDate,paymentTerms:L.paymentTerms||"14 dagen",notes:L.notes,createdBy:u.employeeId,timestamps:{created:Oe},history:[Ft("created",`Factuur gecloneerd door ${Be(u.employeeId)} voor klant ${Le}`)]};x([...p,wt]),De(!1),se(null),A?(z(wt),ce(!0)):alert(` Factuur ${Qe} succesvol gecloneerd!`)},ja=()=>{var q,ie;if(!ke||!Ne){alert("Selecteer een medewerker!");return}const A=new Date().toISOString(),F=`wo${Date.now()}`;if(Ne.id.startsWith("Q")){const Oe=Ne,Le=et(Oe.customerId)||"Onbekend",Qe=((q=Oe.labor)==null?void 0:q.reduce((He,ht)=>He+ht.hours,0))||0,wt={id:F,title:`${Le} - Offerte ${Oe.id}`,description:Oe.notes||`Werkorder aangemaakt vanuit offerte ${Oe.id}`,status:"To Do",assignedTo:ke,assignedBy:u.employeeId,convertedBy:u.employeeId,requiredInventory:Oe.items.filter(He=>He.inventoryItemId).map(He=>({itemId:He.inventoryItemId,quantity:He.quantity})),createdDate:new Date().toISOString().split("T")[0],customerId:Oe.customerId,quoteId:Oe.id,estimatedHours:Qe,estimatedCost:Oe.total,notes:`Geschatte uren: ${Qe}u
Geschatte kosten: ${Oe.total.toFixed(2)}`,timestamps:{created:A,converted:A,assigned:A},history:[{timestamp:A,action:"created",performedBy:u.employeeId,details:`Werkorder aangemaakt door ${Be(u.employeeId)}`},{timestamp:A,action:"converted",performedBy:u.employeeId,details:`Geconverteerd van geclonede offerte ${Oe.id} door ${Be(u.employeeId)}`},{timestamp:A,action:"assigned",performedBy:u.employeeId,details:`Toegewezen aan ${Be(ke)} door ${Be(u.employeeId)}`}]};t([...e,wt]),ce(!1),G(""),z(null),alert(` Werkorder ${F} succesvol aangemaakt en toegewezen aan ${Be(ke)}!`)}else{const Oe=Ne,Le=et(Oe.customerId)||"Onbekend",Qe=((ie=Oe.labor)==null?void 0:ie.reduce((He,ht)=>He+ht.hours,0))||0,wt={id:F,title:`${Le} - Factuur ${Oe.invoiceNumber}`,description:Oe.notes||`Werkorder aangemaakt vanuit factuur ${Oe.invoiceNumber}`,status:"To Do",assignedTo:ke,assignedBy:u.employeeId,convertedBy:u.employeeId,requiredInventory:Oe.items.filter(He=>He.inventoryItemId).map(He=>({itemId:He.inventoryItemId,quantity:He.quantity})),createdDate:new Date().toISOString().split("T")[0],customerId:Oe.customerId,invoiceId:Oe.id,estimatedHours:Qe,estimatedCost:Oe.total,notes:`Geschatte uren: ${Qe}u
Geschatte kosten: ${Oe.total.toFixed(2)}`,timestamps:{created:A,converted:A,assigned:A},history:[{timestamp:A,action:"created",performedBy:u.employeeId,details:`Werkorder aangemaakt door ${Be(u.employeeId)}`},{timestamp:A,action:"converted",performedBy:u.employeeId,details:`Geconverteerd van geclonede factuur ${Oe.invoiceNumber} door ${Be(u.employeeId)}`},{timestamp:A,action:"assigned",performedBy:u.employeeId,details:`Toegewezen aan ${Be(ke)} door ${Be(u.employeeId)}`}]};t([...e,wt]),ce(!1),G(""),z(null),alert(` Werkorder ${F} succesvol aangemaakt en toegewezen aan ${Be(ke)}!`)}},wa=n.find(A=>A.id===S);return i.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-neutral truncate",children:f&&S==="all"?"Alle Werkorders":`Workboard - ${(wa==null?void 0:wa.name)||u.name}`}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:f&&S==="all"?"Volledig overzicht van alle werkorders":"Jouw toegewezen taken en werkzaamheden"})]}),f&&i.jsx("button",{onClick:()=>y(!b),className:"w-full sm:w-auto px-6 py-2 sm:py-2.5 bg-primary text-white text-sm sm:text-base rounded-lg hover:bg-secondary transition-colors whitespace-nowrap flex-shrink-0",children:"+ Nieuwe Werkorder"})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 w-full sm:w-auto",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:f?"Bekijk werkorders van:":"Bekijk ook:"}),i.jsxs("select",{value:S,onChange:A=>D(A.target.value),className:"w-full sm:w-auto px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",children:[i.jsx("option",{value:u.employeeId,children:"Mijn werkorders"}),f&&i.jsx("option",{value:"all",children:"Alle medewerkers"}),n.filter(A=>A.id!==u.employeeId).map(A=>i.jsxs("option",{value:A.id,children:[A.name," (",A.role,")"]},A.id))]})]}),i.jsxs("div",{className:"hidden md:flex items-center gap-4 lg:gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-600",children:Xt.todo}),i.jsx("p",{className:"text-xs text-gray-600",children:"To Do"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold text-yellow-600",children:Xt.pending}),i.jsx("p",{className:"text-xs text-gray-600",children:"In Wacht"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold text-blue-600",children:Xt.inProgress}),i.jsx("p",{className:"text-xs text-gray-600",children:"Bezig"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xl lg:text-2xl font-bold text-green-600",children:Xt.completed}),i.jsx("p",{className:"text-xs text-gray-600",children:"Afgerond"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-xl lg:text-2xl font-bold text-primary",children:[Xt.totalHours,"u"]}),i.jsx("p",{className:"text-xs text-gray-600",children:"Totaal uren"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-4 md:hidden",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 text-center",children:[i.jsx("p",{className:"text-lg font-bold text-gray-600",children:Xt.todo}),i.jsx("p",{className:"text-xs text-gray-600",children:"To Do"})]}),i.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 text-center",children:[i.jsx("p",{className:"text-lg font-bold text-yellow-600",children:Xt.pending}),i.jsx("p",{className:"text-xs text-gray-600",children:"Wacht"})]}),i.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 text-center",children:[i.jsx("p",{className:"text-lg font-bold text-blue-600",children:Xt.inProgress}),i.jsx("p",{className:"text-xs text-gray-600",children:"Bezig"})]}),i.jsxs("div",{className:"bg-green-50 rounded-lg p-3 text-center",children:[i.jsx("p",{className:"text-lg font-bold text-green-600",children:Xt.completed}),i.jsx("p",{className:"text-xs text-gray-600",children:"Klaar"})]}),i.jsxs("div",{className:"bg-primary bg-opacity-10 rounded-lg p-3 text-center col-span-2",children:[i.jsxs("p",{className:"text-lg font-bold text-primary",children:[Xt.totalHours,"u"]}),i.jsx("p",{className:"text-xs text-gray-600",children:"Totaal uren"})]})]})]}),b&&f&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Nieuwe Werkorder"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("input",{type:"text",placeholder:"Titel *",value:ve.title,onChange:A=>Ee({...ve,title:A.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsxs("select",{value:ve.assignedTo,onChange:A=>Ee({...ve,assignedTo:A.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Selecteer medewerker *"}),n.map(A=>i.jsxs("option",{value:A.id,children:[A.name," - ",A.role]},A.id))]}),i.jsxs("select",{value:ve.customerId,onChange:A=>Ee({...ve,customerId:A.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Klant (optioneel)"}),r.map(A=>i.jsx("option",{value:A.id,children:A.name},A.id))]}),i.jsx("input",{type:"text",placeholder:"Locatie",value:ve.location,onChange:A=>Ee({...ve,location:A.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"date",placeholder:"Geplande datum",value:ve.scheduledDate,onChange:A=>Ee({...ve,scheduledDate:A.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"number",placeholder:"Indexnummer (optioneel)",value:ve.sortIndex!==void 0?ve.sortIndex:"",onChange:A=>Ee({...ve,sortIndex:A.target.value?parseInt(A.target.value):void 0}),min:"1",max:"999",className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",title:"Laat leeg voor automatisch volgnummer. Lagere nummers verschijnen bovenaan."}),i.jsx("textarea",{placeholder:"Beschrijving",value:ve.description,onChange:A=>Ee({...ve,description:A.target.value}),rows:2,className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary col-span-2"})]}),i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("input",{type:"checkbox",id:"addPendingReason",checked:me,onChange:A=>{bt(A.target.checked),A.target.checked||Ee({...ve,pendingReason:""})},className:"w-4 h-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500"}),i.jsx("label",{htmlFor:"addPendingReason",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Werkorder in wacht zetten (optioneel)"})]}),me&&i.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Reden voor wachtstatus"})]}),i.jsx("input",{type:"text",placeholder:"bijv: Wacht op materiaal, wacht op klant bevestiging...",value:ve.pendingReason,onChange:A=>Ee({...ve,pendingReason:A.target.value}),className:"w-full px-4 py-2 border border-yellow-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500"}),i.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Geef aan waarom deze werkorder in wacht staat."})]})]}),i.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Benodigde Materialen (optioneel)"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[i.jsxs("select",{value:_e,onChange:A=>nt(A.target.value),className:"px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[i.jsx("option",{value:"",children:"Selecteer materiaal"}),l.filter(A=>A.quantity>0).map(A=>i.jsxs("option",{value:A.id,children:[A.name," (Voorraad: ",A.quantity,")"]},A.id))]}),i.jsx("input",{type:"number",min:"1",value:ct,onChange:A=>ue(parseInt(A.target.value)||1),className:"px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Aantal"}),i.jsx("button",{type:"button",onClick:Es,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"+ Materiaal Toevoegen"})]}),Fe.length>0?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Toegevoegde materialen:"}),Fe.map(A=>{const F=l.find(q=>q.id===A.itemId);return i.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border border-blue-200",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-medium",children:F==null?void 0:F.name}),i.jsxs("span",{className:"text-xs text-gray-600 ml-2",children:[" ",A.quantity]})]}),i.jsx("button",{type:"button",onClick:()=>On(A.itemId),className:"text-red-600 hover:text-red-800 p-1",title:"Verwijderen",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},A.itemId)})]}):i.jsx("p",{className:"text-xs text-gray-500 italic",children:"Geen materialen toegevoegd"})]}),i.jsxs("div",{className:"flex gap-3 mt-4",children:[i.jsx("button",{onClick:Wa,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"Toevoegen"}),i.jsx("button",{onClick:()=>y(!1),className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Annuleren"})]})]}),N&&f&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-neutral",children:"Werkorder Bewerken"}),i.jsx("button",{onClick:Ui,className:"text-gray-500 hover:text-gray-700",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titel *"}),i.jsx("input",{type:"text",value:N.title,onChange:A=>w({...N,title:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Toegewezen aan *"}),i.jsx("select",{value:N.assignedTo,onChange:A=>w({...N,assignedTo:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:n.map(A=>i.jsxs("option",{value:A.id,children:[A.name," - ",A.role]},A.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),i.jsxs("select",{value:N.status,onChange:A=>w({...N,status:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"To Do",children:"To Do"}),i.jsx("option",{value:"Pending",children:"In Wacht"}),i.jsx("option",{value:"In Progress",children:"In Uitvoering"}),i.jsx("option",{value:"Completed",children:"Afgerond"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Klant"}),i.jsxs("select",{value:N.customerId||"",onChange:A=>w({...N,customerId:A.target.value||void 0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Geen klant"}),r.map(A=>i.jsx("option",{value:A.id,children:A.name},A.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Locatie"}),i.jsx("input",{type:"text",value:N.location||"",onChange:A=>w({...N,location:A.target.value||void 0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Geplande datum"}),i.jsx("input",{type:"date",value:N.scheduledDate||"",onChange:A=>w({...N,scheduledDate:A.target.value||void 0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gewerkte uren"}),i.jsx("input",{type:"number",step:"0.5",min:"0",value:N.hoursSpent||0,onChange:A=>w({...N,hoursSpent:parseFloat(A.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Aanmaak datum"}),i.jsx("input",{type:"text",value:N.createdDate,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100 cursor-not-allowed"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Indexnummer (optioneel)"}),i.jsx("input",{type:"number",value:N.sortIndex!==void 0?N.sortIndex:"",onChange:A=>w({...N,sortIndex:A.target.value?parseInt(A.target.value):void 0}),placeholder:"Auto",min:"1",max:"999",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",title:"Laat leeg voor automatisch volgnummer. Lagere nummers verschijnen bovenaan."}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lagere nummers verschijnen bovenaan. Laat leeg voor automatisch volgnummer."})]})]}),N.status==="Pending"&&i.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reden waarom in wacht"}),i.jsx("input",{type:"text",value:N.pendingReason||"",onChange:A=>w({...N,pendingReason:A.target.value}),placeholder:"Bijv: Wacht op materialen, wacht op klant bevestiging...",className:"w-full px-4 py-2 border border-yellow-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500"}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Deze reden is zichtbaar voor alle medewerkers"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Beschrijving"}),i.jsx("textarea",{value:N.description,onChange:A=>w({...N,description:A.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Benodigde Materialen"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[i.jsxs("select",{value:qe,onChange:A=>be(A.target.value),className:"px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[i.jsx("option",{value:"",children:"Selecteer materiaal"}),l.filter(A=>A.quantity>0).map(A=>i.jsxs("option",{value:A.id,children:[A.name," (Voorraad: ",A.quantity,")"]},A.id))]}),i.jsx("input",{type:"number",min:"1",value:ge,onChange:A=>lt(parseInt(A.target.value)||1),className:"px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Aantal"}),i.jsx("button",{type:"button",onClick:Ms,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"+ Toevoegen"})]}),N.requiredInventory.length>0?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"Toegevoegde materialen:"}),N.requiredInventory.map(A=>{const F=l.find(q=>q.id===A.itemId);return i.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border border-blue-200",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-medium",children:F==null?void 0:F.name}),i.jsxs("span",{className:"text-xs text-gray-600 ml-2",children:[" ",A.quantity]}),i.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(Voorraad: ",F==null?void 0:F.quantity,")"]})]}),i.jsx("button",{type:"button",onClick:()=>$i(A.itemId),className:"text-red-600 hover:text-red-800 p-1",title:"Verwijderen",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},A.itemId)})]}):i.jsx("p",{className:"text-xs text-gray-500 italic",children:"Geen materialen toegevoegd"})]}),N.notes!==void 0&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notities"}),i.jsx("textarea",{value:N.notes||"",onChange:A=>w({...N,notes:A.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),(N.timestamps||N.history&&N.history.length>0)&&i.jsxs("div",{className:"border-t pt-4 mt-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-neutral mb-3",children:"Werkorder Geschiedenis"}),i.jsx(l4,{history:N.history||[],timestamps:N.timestamps,getEmployeeName:Be})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx("button",{onClick:_a,className:"flex-1 px-6 py-3 bg-primary text-white rounded-lg hover:bg-secondary transition-colors font-semibold",children:"Opslaan"}),i.jsx("button",{onClick:Ui,className:"px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors font-semibold",children:"Annuleren"})]})]})})}),Wr?i.jsx("div",{className:"space-y-8",children:n.map(A=>{const F=Wr[A.id]||[],q={todo:F.filter(ie=>ie.status==="To Do").length,pending:F.filter(ie=>ie.status==="Pending").length,inProgress:F.filter(ie=>ie.status==="In Progress").length,completed:F.filter(ie=>ie.status==="Completed").length,totalHours:F.reduce((ie,Oe)=>ie+(Oe.hoursSpent||0),0)};return i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 border-t-4 border-primary",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-white font-bold text-lg",children:A.name.split(" ").map(ie=>ie[0]).join("")}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-neutral",children:A.name}),i.jsx("p",{className:"text-sm text-gray-600",children:A.role})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-center px-3 py-2 bg-gray-100 rounded-lg",children:[i.jsx("p",{className:"text-lg font-bold text-gray-700",children:q.todo}),i.jsx("p",{className:"text-xs text-gray-600",children:"To Do"})]}),i.jsxs("div",{className:"text-center px-3 py-2 bg-yellow-100 rounded-lg",children:[i.jsx("p",{className:"text-lg font-bold text-yellow-700",children:q.pending}),i.jsx("p",{className:"text-xs text-gray-600",children:"In Wacht"})]}),i.jsxs("div",{className:"text-center px-3 py-2 bg-blue-100 rounded-lg",children:[i.jsx("p",{className:"text-lg font-bold text-blue-700",children:q.inProgress}),i.jsx("p",{className:"text-xs text-gray-600",children:"Bezig"})]}),i.jsxs("div",{className:"text-center px-3 py-2 bg-green-100 rounded-lg",children:[i.jsx("p",{className:"text-lg font-bold text-green-700",children:q.completed}),i.jsx("p",{className:"text-xs text-gray-600",children:"Afgerond"})]}),i.jsxs("div",{className:"text-center px-3 py-2 bg-primary bg-opacity-10 rounded-lg",children:[i.jsxs("p",{className:"text-lg font-bold text-primary",children:[q.totalHours,"u"]}),i.jsx("p",{className:"text-xs text-gray-600",children:"Uren"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("h4",{className:"font-semibold text-neutral flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"w-2 h-2 bg-gray-500 rounded-full"}),"To Do"]}),i.jsx("span",{className:"px-2 py-1 bg-gray-200 text-gray-800 text-xs font-bold rounded-full",children:q.todo})]}),i.jsxs("div",{className:"space-y-2",children:[F.filter(ie=>ie.status==="To Do").map(ie=>i.jsx(ms,{order:ie,employees:n,customers:r,currentUser:u,isAdmin:f,inventory:l,onUpdateStatus:ur,onUpdateHours:Ar,onDelete:Jn,onEdit:Zn,onOpenDetail:Xe,getEmployeeName:Be,getCustomerName:et},ie.id)),q.todo===0&&i.jsx("p",{className:"text-xs text-gray-500 text-center py-4",children:"Geen taken"})]})]}),i.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("h4",{className:"font-semibold text-neutral flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),"In Wacht"]}),i.jsx("span",{className:"px-2 py-1 bg-yellow-200 text-yellow-800 text-xs font-bold rounded-full",children:q.pending})]}),i.jsxs("div",{className:"space-y-2",children:[F.filter(ie=>ie.status==="Pending").map(ie=>i.jsx(ms,{order:ie,employees:n,customers:r,currentUser:u,isAdmin:f,inventory:l,onUpdateStatus:ur,onUpdateHours:Ar,onDelete:Jn,onEdit:Zn,onOpenDetail:Xe,getEmployeeName:Be,getCustomerName:et},ie.id)),q.pending===0&&i.jsx("p",{className:"text-xs text-gray-500 text-center py-4",children:"Geen taken"})]})]}),i.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("h4",{className:"font-semibold text-neutral flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"In Uitvoering"]}),i.jsx("span",{className:"px-2 py-1 bg-blue-200 text-blue-800 text-xs font-bold rounded-full",children:q.inProgress})]}),i.jsxs("div",{className:"space-y-2",children:[F.filter(ie=>ie.status==="In Progress").map(ie=>i.jsx(ms,{order:ie,employees:n,customers:r,currentUser:u,isAdmin:f,inventory:l,onUpdateStatus:ur,onUpdateHours:Ar,onDelete:Jn,onEdit:Zn,onOpenDetail:Xe,getEmployeeName:Be,getCustomerName:et},ie.id)),q.inProgress===0&&i.jsx("p",{className:"text-xs text-gray-500 text-center py-4",children:"Geen taken"})]})]}),i.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("h4",{className:"font-semibold text-neutral flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Afgerond"]}),i.jsx("span",{className:"px-2 py-1 bg-green-200 text-green-800 text-xs font-bold rounded-full",children:q.completed})]}),i.jsxs("div",{className:"space-y-2",children:[F.filter(ie=>ie.status==="Completed").map(ie=>i.jsx(ms,{order:ie,employees:n,customers:r,currentUser:u,isAdmin:f,inventory:l,onUpdateStatus:ur,onUpdateHours:Ar,onDelete:Jn,onEdit:Zn,onOpenDetail:Xe,getEmployeeName:Be,getCustomerName:et},ie.id)),q.completed===0&&i.jsx("p",{className:"text-xs text-gray-500 text-center py-4",children:"Geen taken"})]})]})]})]},A.id)})}):i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[i.jsxs("h3",{className:"font-semibold text-neutral flex items-center gap-2 text-sm sm:text-base",children:[i.jsx("span",{className:"w-3 h-3 bg-gray-500 rounded-full"}),"To Do"]}),i.jsx("span",{className:"px-2 py-1 bg-gray-200 text-gray-800 text-xs font-bold rounded-full",children:We.filter(A=>A.status==="To Do").length})]}),i.jsxs("div",{className:"space-y-3",children:[We.filter(A=>A.status==="To Do").map(A=>i.jsx(ms,{order:A,employees:n,customers:r,currentUser:u,isAdmin:f,inventory:l,onUpdateStatus:ur,onUpdateHours:Ar,onDelete:Jn,onEdit:Zn,onOpenDetail:Xe,getEmployeeName:Be,getCustomerName:et},A.id)),We.filter(A=>A.status==="To Do").length===0&&i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 text-center py-6 sm:py-8",children:"Geen taken om te starten"})]})]}),i.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 sm:p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[i.jsxs("h3",{className:"font-semibold text-neutral flex items-center gap-2 text-sm sm:text-base",children:[i.jsx("span",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),"In Wacht"]}),i.jsx("span",{className:"px-2 py-1 bg-yellow-200 text-yellow-800 text-xs font-bold rounded-full",children:We.filter(A=>A.status==="Pending").length})]}),i.jsxs("div",{className:"space-y-3",children:[We.filter(A=>A.status==="Pending").map(A=>i.jsx(ms,{order:A,employees:n,customers:r,currentUser:u,isAdmin:f,inventory:l,onUpdateStatus:ur,onUpdateHours:Ar,onDelete:Jn,onEdit:Zn,getEmployeeName:Be,getCustomerName:et},A.id)),We.filter(A=>A.status==="Pending").length===0&&i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 text-center py-6 sm:py-8",children:"Geen taken in wacht"})]})]}),i.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 sm:p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[i.jsxs("h3",{className:"font-semibold text-neutral flex items-center gap-2 text-sm sm:text-base",children:[i.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full"}),"In Uitvoering"]}),i.jsx("span",{className:"px-2 py-1 bg-blue-200 text-blue-800 text-xs font-bold rounded-full",children:We.filter(A=>A.status==="In Progress").length})]}),i.jsxs("div",{className:"space-y-3",children:[We.filter(A=>A.status==="In Progress").map(A=>i.jsx(ms,{order:A,employees:n,customers:r,currentUser:u,isAdmin:f,inventory:l,onUpdateStatus:ur,onUpdateHours:Ar,onDelete:Jn,onEdit:Zn,getEmployeeName:Be,getCustomerName:et},A.id)),We.filter(A=>A.status==="In Progress").length===0&&i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 text-center py-6 sm:py-8",children:"Geen actieve taken"})]})]}),i.jsxs("div",{className:"bg-green-50 rounded-lg p-3 sm:p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[i.jsxs("h3",{className:"font-semibold text-neutral flex items-center gap-2 text-sm sm:text-base",children:[i.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full"}),"Afgerond"]}),i.jsx("span",{className:"px-2 py-1 bg-green-200 text-green-800 text-xs font-bold rounded-full",children:We.filter(A=>A.status==="Completed").length})]}),i.jsxs("div",{className:"space-y-3",children:[We.filter(A=>A.status==="Completed").map(A=>i.jsx(ms,{order:A,employees:n,customers:r,currentUser:u,isAdmin:f,inventory:l,onUpdateStatus:ur,onUpdateHours:Ar,onDelete:Jn,onEdit:Zn,onOpenDetail:Xe,getEmployeeName:Be,getCustomerName:et},A.id)),We.filter(A=>A.status==="Completed").length===0&&i.jsx("p",{className:"text-xs sm:text-sm text-gray-500 text-center py-6 sm:py-8",children:"Geen afgeronde taken"})]})]})]}),We.length===0&&!Wr&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("svg",{className:"w-20 h-20 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),i.jsx("p",{className:"text-gray-500",children:"Geen werkorders gevonden"})]}),P&&M&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-none sm:rounded-lg shadow-xl w-full sm:max-w-4xl sm:w-full h-full sm:h-auto sm:my-8 sm:max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between z-10",children:[i.jsx("h2",{className:"text-2xl font-bold text-neutral",children:I==="quote"?" Offerte Details":" Factuur Details"}),i.jsx("button",{onClick:()=>O(!1),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),i.jsxs("div",{className:"p-6",children:[I==="quote"?i.jsx(i.Fragment,{children:(()=>{var wt;const A=M,F=et(A.customerId)||"Onbekend",q=A.items.reduce((He,ht)=>He+ht.total,0),ie=((wt=A.labor)==null?void 0:wt.reduce((He,ht)=>He+ht.total,0))||0,Oe=q+ie,Le=Oe*(A.vatRate/100),Qe=Oe+Le;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Offerte ID:"}),i.jsx("p",{className:"text-neutral font-bold",children:A.id})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Klant:"}),i.jsx("p",{className:"text-neutral",children:F})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Status:"}),i.jsx("p",{className:"text-neutral",children:A.status})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Geldig tot:"}),i.jsx("p",{className:"text-neutral",children:A.validUntil})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"font-semibold text-neutral mb-2",children:"Items:"}),i.jsx("div",{className:"space-y-2",children:A.items.map((He,ht)=>i.jsxs("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[i.jsxs("span",{children:[He.description,"  ",He.quantity]}),i.jsxs("span",{className:"font-semibold",children:["",He.total.toFixed(2)]})]},ht))})]}),A.labor&&A.labor.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"font-semibold text-neutral mb-2",children:"Werkuren:"}),i.jsx("div",{className:"space-y-2",children:A.labor.map((He,ht)=>i.jsxs("div",{className:"flex justify-between p-2 bg-green-50 rounded",children:[i.jsxs("span",{children:[He.description," (",He.hours,"u  ",He.hourlyRate,"/u)"]}),i.jsxs("span",{className:"font-semibold",children:["",He.total.toFixed(2)]})]},ht))})]}),i.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{children:"Subtotaal:"}),i.jsxs("span",{children:["",Oe.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsxs("span",{children:["BTW (",A.vatRate,"%):"]}),i.jsxs("span",{children:["",Le.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2 mt-2",children:[i.jsx("span",{children:"Totaal:"}),i.jsxs("span",{children:["",Qe.toFixed(2)]})]})]}),A.notes&&i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Notities:"}),i.jsx("p",{className:"text-neutral mt-1",children:A.notes})]})]})})()}):i.jsx(i.Fragment,{children:(()=>{var wt;const A=M,F=et(A.customerId)||"Onbekend",q=A.items.reduce((He,ht)=>He+ht.total,0),ie=((wt=A.labor)==null?void 0:wt.reduce((He,ht)=>He+ht.total,0))||0,Oe=q+ie,Le=Oe*(A.vatRate/100),Qe=Oe+Le;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Factuurnummer:"}),i.jsx("p",{className:"text-neutral font-bold",children:A.invoiceNumber})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Klant:"}),i.jsx("p",{className:"text-neutral",children:F})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Status:"}),i.jsx("p",{className:"text-neutral",children:A.status})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Factuurdatum:"}),i.jsx("p",{className:"text-neutral",children:A.issueDate})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Vervaldatum:"}),i.jsx("p",{className:"text-neutral",children:A.dueDate})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Betalingsvoorwaarden:"}),i.jsx("p",{className:"text-neutral",children:A.paymentTerms||"14 dagen"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"font-semibold text-neutral mb-2",children:"Items:"}),i.jsx("div",{className:"space-y-2",children:A.items.map((He,ht)=>i.jsxs("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[i.jsxs("span",{children:[He.description,"  ",He.quantity]}),i.jsxs("span",{className:"font-semibold",children:["",He.total.toFixed(2)]})]},ht))})]}),A.labor&&A.labor.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"font-semibold text-neutral mb-2",children:"Werkuren:"}),i.jsx("div",{className:"space-y-2",children:A.labor.map((He,ht)=>i.jsxs("div",{className:"flex justify-between p-2 bg-green-50 rounded",children:[i.jsxs("span",{children:[He.description," (",He.hours,"u  ",He.hourlyRate,"/u)"]}),i.jsxs("span",{className:"font-semibold",children:["",He.total.toFixed(2)]})]},ht))})]}),i.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{children:"Subtotaal:"}),i.jsxs("span",{children:["",Oe.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsxs("span",{children:["BTW (",A.vatRate,"%):"]}),i.jsxs("span",{children:["",Le.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2 mt-2",children:[i.jsx("span",{children:"Totaal:"}),i.jsxs("span",{children:["",Qe.toFixed(2)]})]})]}),A.notes&&i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Notities:"}),i.jsx("p",{className:"text-neutral mt-1",children:A.notes})]})]})})()}),i.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[i.jsx("button",{onClick:Gt,className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-semibold",children:" Bewerken"}),i.jsx("button",{onClick:Wt,className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold",children:" Clonen"}),i.jsx("button",{onClick:()=>O(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-semibold",children:"Sluiten"})]})]})]})}),he&&L&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-none sm:rounded-lg shadow-xl w-full sm:max-w-5xl sm:w-full h-full sm:h-auto sm:my-8 sm:max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between z-10",children:[i.jsx("h2",{className:"text-2xl font-bold text-neutral",children:I==="quote"?" Offerte Bewerken":" Factuur Bewerken"}),i.jsx("button",{onClick:()=>{we(!1),se(null)},className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Klant *"}),i.jsxs("select",{value:L.customerId,onChange:A=>se({...L,customerId:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Selecteer klant"}),r.map(A=>i.jsx("option",{value:A.id,children:A.name},A.id))]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"BTW Percentage (%)"}),i.jsx("input",{type:"number",value:L.vatRate,onChange:A=>se({...L,vatRate:parseFloat(A.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",min:"0",max:"100",step:"0.1"})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"font-semibold text-neutral text-lg",children:"Items"}),i.jsx("div",{className:"flex gap-2",children:i.jsx("button",{onClick:An,className:"px-4 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600",children:"+ Custom Item"})})]}),i.jsx("div",{className:"space-y-3",children:L.items.map((A,F)=>i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-3 bg-gray-50 rounded-lg",children:[i.jsxs("select",{value:A.inventoryItemId||"",onChange:q=>Yr(F,q.target.value),className:"col-span-4 px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[i.jsx("option",{value:"",children:"Uit voorraad selecteren"}),l.map(q=>{var ie;return i.jsxs("option",{value:q.id,children:[q.name," - ",((ie=q.price)==null?void 0:ie.toFixed(2))||"0.00"]},q.id)})]}),i.jsx("input",{type:"text",placeholder:"Beschrijving",value:A.description,onChange:q=>jt(F,"description",q.target.value),className:"col-span-3 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),i.jsx("input",{type:"number",placeholder:"Aantal",value:A.quantity,onChange:q=>jt(F,"quantity",parseFloat(q.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg text-sm",min:"0",step:"0.01"}),i.jsx("input",{type:"number",placeholder:"Prijs per stuk",value:A.pricePerUnit,onChange:q=>jt(F,"pricePerUnit",parseFloat(q.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg text-sm",min:"0",step:"0.01"}),i.jsxs("div",{className:"col-span-1 text-sm font-semibold text-right",children:["",A.total.toFixed(2)]}),i.jsx("button",{onClick:()=>ba(F),className:"col-span-1 px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 text-sm",children:""})]},F))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"font-semibold text-neutral text-lg",children:"Werkuren (optioneel)"}),i.jsx("button",{onClick:dr,className:"px-4 py-2 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600",children:"+ Werkuren Toevoegen"})]}),i.jsx("div",{className:"space-y-3",children:L.labor.map((A,F)=>i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-3 bg-green-50 rounded-lg",children:[i.jsx("input",{type:"text",placeholder:"Beschrijving",value:A.description,onChange:q=>er(F,"description",q.target.value),className:"col-span-4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),i.jsx("input",{type:"number",placeholder:"Uren",value:A.hours,onChange:q=>er(F,"hours",parseFloat(q.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg text-sm",min:"0",step:"0.5"}),i.jsx("input",{type:"number",placeholder:"Uurtarief",value:A.hourlyRate,onChange:q=>er(F,"hourlyRate",parseFloat(q.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg text-sm",min:"0",step:"0.01"}),i.jsxs("div",{className:"col-span-2 text-sm font-semibold text-right",children:["",A.total.toFixed(2)]}),i.jsx("button",{onClick:()=>Ia(F),className:"col-span-2 px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 text-sm",children:"Verwijderen"})]},F))})]}),I==="quote"?i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Geldig tot *"}),i.jsx("input",{type:"date",value:L.validUntil||"",onChange:A=>se({...L,validUntil:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}):i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Factuurdatum *"}),i.jsx("input",{type:"date",value:L.issueDate||"",onChange:A=>se({...L,issueDate:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Vervaldatum *"}),i.jsx("input",{type:"date",value:L.dueDate||"",onChange:A=>se({...L,dueDate:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),I==="invoice"&&i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Betalingsvoorwaarden"}),i.jsx("input",{type:"text",value:L.paymentTerms||"",onChange:A=>se({...L,paymentTerms:A.target.value}),placeholder:"bijv. 14 dagen",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Notities"}),i.jsx("textarea",{value:L.notes,onChange:A=>se({...L,notes:A.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Optionele notities..."})]}),(()=>{const{subtotal:A,vatAmount:F,total:q}=gn();return i.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{className:"font-semibold",children:"Subtotaal:"}),i.jsxs("span",{className:"font-semibold",children:["",A.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsxs("span",{className:"font-semibold",children:["BTW (",L.vatRate,"%):"]}),i.jsxs("span",{className:"font-semibold",children:["",F.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between pt-2 mt-2 border-t border-blue-200",children:[i.jsx("span",{className:"font-bold text-lg",children:"Totaal:"}),i.jsxs("span",{className:"font-bold text-lg",children:["",q.toFixed(2)]})]})]})})(),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>{I==="quote"?Ya():qi()},className:"flex-1 px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-semibold",children:" Opslaan"}),i.jsx("button",{onClick:()=>{we(!1),se(null)},className:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-semibold",children:"Annuleren"})]})]})]})}),Te&&L&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-none sm:rounded-lg shadow-xl w-full sm:max-w-5xl sm:w-full h-full sm:h-auto sm:my-8 sm:max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between z-10",children:[i.jsx("h2",{className:"text-2xl font-bold text-neutral",children:I==="quote"?" Offerte Clonen":" Factuur Clonen"}),i.jsx("button",{onClick:()=>{De(!1),se(null)},className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Klant *"}),i.jsxs("select",{value:L.customerId,onChange:A=>se({...L,customerId:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Selecteer klant"}),r.map(A=>i.jsx("option",{value:A.id,children:A.name},A.id))]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"BTW Percentage (%)"}),i.jsx("input",{type:"number",value:L.vatRate,onChange:A=>se({...L,vatRate:parseFloat(A.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",min:"0",max:"100",step:"0.1"})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"font-semibold text-neutral text-lg",children:"Items"}),i.jsx("button",{onClick:An,className:"px-4 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600",children:"+ Custom Item"})]}),i.jsx("div",{className:"space-y-3",children:L.items.map((A,F)=>i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-3 bg-gray-50 rounded-lg",children:[i.jsxs("select",{value:A.inventoryItemId||"",onChange:q=>Yr(F,q.target.value),className:"col-span-4 px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[i.jsx("option",{value:"",children:"Uit voorraad selecteren"}),l.map(q=>{var ie;return i.jsxs("option",{value:q.id,children:[q.name," - ",((ie=q.price)==null?void 0:ie.toFixed(2))||"0.00"]},q.id)})]}),i.jsx("input",{type:"text",placeholder:"Beschrijving",value:A.description,onChange:q=>jt(F,"description",q.target.value),className:"col-span-3 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),i.jsx("input",{type:"number",placeholder:"Aantal",value:A.quantity,onChange:q=>jt(F,"quantity",parseFloat(q.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg text-sm",min:"0",step:"0.01"}),i.jsx("input",{type:"number",placeholder:"Prijs per stuk",value:A.pricePerUnit,onChange:q=>jt(F,"pricePerUnit",parseFloat(q.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg text-sm",min:"0",step:"0.01"}),i.jsxs("div",{className:"col-span-1 text-sm font-semibold text-right",children:["",A.total.toFixed(2)]}),i.jsx("button",{onClick:()=>ba(F),className:"col-span-1 px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 text-sm",children:""})]},F))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"font-semibold text-neutral text-lg",children:"Werkuren (optioneel)"}),i.jsx("button",{onClick:dr,className:"px-4 py-2 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600",children:"+ Werkuren Toevoegen"})]}),i.jsx("div",{className:"space-y-3",children:L.labor.map((A,F)=>i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-3 bg-green-50 rounded-lg",children:[i.jsx("input",{type:"text",placeholder:"Beschrijving",value:A.description,onChange:q=>er(F,"description",q.target.value),className:"col-span-4 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),i.jsx("input",{type:"number",placeholder:"Uren",value:A.hours,onChange:q=>er(F,"hours",parseFloat(q.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg text-sm",min:"0",step:"0.5"}),i.jsx("input",{type:"number",placeholder:"Uurtarief",value:A.hourlyRate,onChange:q=>er(F,"hourlyRate",parseFloat(q.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg text-sm",min:"0",step:"0.01"}),i.jsxs("div",{className:"col-span-2 text-sm font-semibold text-right",children:["",A.total.toFixed(2)]}),i.jsx("button",{onClick:()=>Ia(F),className:"col-span-2 px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 text-sm",children:"Verwijderen"})]},F))})]}),I==="quote"?i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Geldig tot *"}),i.jsx("input",{type:"date",value:L.validUntil||"",onChange:A=>se({...L,validUntil:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}):i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Factuurdatum *"}),i.jsx("input",{type:"date",value:L.issueDate||"",onChange:A=>se({...L,issueDate:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Vervaldatum *"}),i.jsx("input",{type:"date",value:L.dueDate||"",onChange:A=>se({...L,dueDate:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),I==="invoice"&&i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Betalingsvoorwaarden"}),i.jsx("input",{type:"text",value:L.paymentTerms||"",onChange:A=>se({...L,paymentTerms:A.target.value}),placeholder:"bijv. 14 dagen",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Notities"}),i.jsx("textarea",{value:L.notes,onChange:A=>se({...L,notes:A.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Optionele notities..."})]}),(()=>{const{subtotal:A,vatAmount:F,total:q}=gn();return i.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{className:"font-semibold",children:"Subtotaal:"}),i.jsxs("span",{className:"font-semibold",children:["",A.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsxs("span",{className:"font-semibold",children:["BTW (",L.vatRate,"%):"]}),i.jsxs("span",{className:"font-semibold",children:["",F.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between pt-2 mt-2 border-t border-blue-200",children:[i.jsx("span",{className:"font-bold text-lg",children:"Totaal:"}),i.jsxs("span",{className:"font-bold text-lg",children:["",q.toFixed(2)]})]})]})})(),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>{I==="quote"?Qa(!1):Xr(!1)},className:"flex-1 px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold",children:" Clonen"}),i.jsx("button",{onClick:()=>{I==="quote"?Qa(!0):Xr(!0)},className:"flex-1 px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-semibold",children:" Clonen & Naar Werkorder"}),i.jsx("button",{onClick:()=>{De(!1),se(null)},className:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-semibold",children:"Annuleren"})]})]})]})}),$&&X&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-none sm:rounded-lg shadow-xl w-full sm:max-w-4xl sm:w-full h-full sm:h-auto sm:my-8 sm:max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between z-10",children:[i.jsx("h2",{className:"text-2xl font-bold text-neutral",children:" Werkorder Details"}),i.jsx("button",{onClick:()=>{Y(!1),le(null)},className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Werkorder ID:"}),i.jsx("p",{className:"text-neutral font-bold",children:X.id})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Status:"}),i.jsx("p",{className:"text-neutral",children:i.jsx("span",{className:`px-2 py-1 rounded text-sm font-semibold ${_t(X.status)}`,children:X.status})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Titel:"}),i.jsx("p",{className:"text-neutral font-bold",children:X.title})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Toegewezen aan:"}),i.jsx("p",{className:"text-neutral",children:Be(X.assignedTo)})]}),X.customerId&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Klant:"}),i.jsx("p",{className:"text-neutral",children:et(X.customerId)||"Onbekend"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Aanmaakdatum:"}),i.jsx("p",{className:"text-neutral",children:X.createdDate})]}),X.location&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Locatie:"}),i.jsx("p",{className:"text-neutral",children:X.location})]}),X.scheduledDate&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Geplande datum:"}),i.jsx("p",{className:"text-neutral",children:X.scheduledDate})]}),X.estimatedHours&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Geschatte uren:"}),i.jsxs("p",{className:"text-neutral",children:[X.estimatedHours,"u"]})]}),X.hoursSpent&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Gewerkte uren:"}),i.jsxs("p",{className:"text-neutral",children:[X.hoursSpent,"u"]})]}),X.estimatedCost&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Geschatte kosten:"}),i.jsxs("p",{className:"text-neutral",children:["",X.estimatedCost.toFixed(2)]})]})]}),X.description&&i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600 mb-2 block",children:"Beschrijving:"}),i.jsx("p",{className:"text-neutral bg-gray-50 p-3 rounded-lg",children:X.description})]}),X.pendingReason&&i.jsxs("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsx("label",{className:"text-sm font-semibold text-yellow-800 mb-2 block",children:"Reden voor wachtstatus:"}),i.jsx("p",{className:"text-yellow-700",children:X.pendingReason})]}),X.requiredInventory&&X.requiredInventory.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"font-semibold text-neutral mb-2",children:"Benodigde Materialen:"}),i.jsx("div",{className:"space-y-2",children:X.requiredInventory.map((A,F)=>{const q=l.find(ie=>ie.id===A.itemId);return i.jsxs("div",{className:"flex justify-between p-2 bg-blue-50 rounded",children:[i.jsxs("span",{children:[(q==null?void 0:q.name)||"Onbekend item","  ",A.quantity]}),(q==null?void 0:q.unit)&&i.jsxs("span",{className:"text-gray-600",children:["(",q.unit,")"]})]},F)})})]}),X.notes&&i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600 mb-2 block",children:"Notities:"}),i.jsx("p",{className:"text-neutral bg-gray-50 p-3 rounded-lg whitespace-pre-line",children:X.notes})]}),X.timestamps&&i.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-neutral mb-3",children:"Tijdlijn:"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[X.timestamps.created&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Aangemaakt:"})," ",new Date(X.timestamps.created).toLocaleString("nl-NL")]}),X.timestamps.assigned&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Toegewezen:"})," ",new Date(X.timestamps.assigned).toLocaleString("nl-NL")]}),X.timestamps.started&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Gestart:"})," ",new Date(X.timestamps.started).toLocaleString("nl-NL")]}),X.timestamps.completed&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Voltooid:"})," ",new Date(X.timestamps.completed).toLocaleString("nl-NL")]})]})]}),(X.quoteId||X.invoiceId)&&i.jsxs("div",{className:"mb-4 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[i.jsx("h3",{className:"font-semibold text-purple-800 mb-2",children:"Gekoppeld document:"}),X.quoteId&&i.jsxs("p",{className:"text-purple-700",children:[" Offerte: ",X.quoteId,i.jsx("button",{onClick:()=>{const A=m.find(F=>F.id===X.quoteId);A&&(Y(!1),R("quote"),B(A),O(!0))},className:"ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded hover:bg-purple-600",children:"Bekijk Offerte"})]}),X.invoiceId&&i.jsxs("p",{className:"text-purple-700",children:[" Factuur: ",((Xa=p.find(A=>A.id===X.invoiceId))==null?void 0:Xa.invoiceNumber)||X.invoiceId,i.jsx("button",{onClick:()=>{const A=p.find(F=>F.id===X.invoiceId);A&&(Y(!1),R("invoice"),B(A),O(!0))},className:"ml-2 px-2 py-1 bg-purple-500 text-white text-xs rounded hover:bg-purple-600",children:"Bekijk Factuur"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[f&&i.jsx("button",{onClick:()=>{Y(!1),Zn(X)},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-semibold",children:" Bewerken"}),i.jsx("button",{onClick:()=>{Y(!1),le(null)},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-semibold",children:"Sluiten"})]})]})]})}),Z&&Ne&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-neutral mb-4",children:"Selecteer Medewerker voor Werkorder"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Medewerker *"}),i.jsxs("select",{value:ke,onChange:A=>G(A.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Selecteer medewerker"}),n.map(A=>i.jsxs("option",{value:A.id,children:[A.name," - ",A.role]},A.id))]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:ja,className:"flex-1 px-6 py-3 bg-primary text-white rounded-lg hover:bg-secondary transition-colors font-semibold",disabled:!ke,children:" Werkorder Aanmaken"}),i.jsx("button",{onClick:()=>{ce(!1),G(""),z(null)},className:"px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-semibold",children:"Annuleren"})]})]})})]})},l4=({history:e,timestamps:t,getEmployeeName:n})=>{const[r,l]=j.useState(!1),c=(h,p)=>{var w,S,D;if(!(t!=null&&t[h]))return;const x=t==null?void 0:t[h];if(!x)return;const y=new Date(x).toLocaleString("nl-NL",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});let N="";if(h==="started"){const P=(w=e.find(O=>O.action==="status_changed"&&O.toStatus==="In Progress"))!=null&&w.performedBy?n(e.find(O=>O.action==="status_changed"&&O.toStatus==="In Progress").performedBy):"Onbekend";N=`Uw opdracht is op ${y} gestart door ${P}.`}else if(h==="created"){const P=(S=e.find(O=>O.action==="created"))!=null&&S.performedBy?n(e.find(O=>O.action==="created").performedBy):"Onbekend";N=`Opdracht aangemaakt op ${y} door ${P}.`}else if(h==="assigned"){const P=e.find(I=>I.action==="assigned");N=`Opdracht toegewezen aan ${P!=null&&P.toAssignee?n(P.toAssignee):"Onbekend"} op ${y}.`}else if(h==="completed"){const P=(D=e.find(O=>O.action==="completed"))!=null&&D.performedBy?n(e.find(O=>O.action==="completed").performedBy):"Onbekend";N=`Opdracht voltooid op ${y} door ${P}.`}navigator.clipboard.writeText(N).then(()=>{alert(" Informatie gekopieerd naar klembord!")}).catch(()=>{const P=document.createElement("textarea");P.value=N,document.body.appendChild(P),P.select(),document.execCommand("copy"),document.body.removeChild(P),alert(" Informatie gekopieerd naar klembord!")})},u=h=>{switch(h){case"created":return"";case"converted":return"";case"assigned":return"";case"status_changed":return"";case"completed":return"";case"reordered":return"";default:return""}},f=h=>new Date(h).toLocaleString("nl-NL",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),m=h=>{const p=new Date,x=new Date(h),b=p.getTime()-x.getTime(),y=Math.floor(b/6e4),N=Math.floor(y/60),w=Math.floor(N/24);return y<1?"Zojuist":y<60?`${y} min geleden`:N<24?`${N} uur geleden`:w===1?"Gisteren":w<7?`${w} dagen geleden`:f(h)};return i.jsxs("div",{className:"mt-3 border-t border-gray-200 pt-3",children:[t&&i.jsx("div",{className:"mb-3 p-2 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[t.created&&i.jsxs("div",{className:"flex items-center gap-1 group",children:[i.jsx("span",{className:"text-gray-500",children:" Aangemaakt:"}),i.jsx("span",{className:"text-gray-700 font-medium",title:f(t.created),children:m(t.created)}),i.jsx("button",{onClick:()=>c("created"),className:"ml-1 opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-200 rounded",title:"Kopieer informatie",children:""})]}),t.converted&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-gray-500",children:" Geconverteerd:"}),i.jsx("span",{className:"text-gray-700 font-medium",title:f(t.converted),children:m(t.converted)})]}),t.assigned&&i.jsxs("div",{className:"flex items-center gap-1 group",children:[i.jsx("span",{className:"text-gray-500",children:" Toegewezen:"}),i.jsx("span",{className:"text-gray-700 font-medium",title:f(t.assigned),children:m(t.assigned)}),i.jsx("button",{onClick:()=>c("assigned"),className:"ml-1 opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-200 rounded",title:"Kopieer informatie",children:""})]}),t.started&&i.jsxs("div",{className:"flex items-center gap-1 group",children:[i.jsx("span",{className:"text-gray-500",children:" Gestart:"}),i.jsx("span",{className:"text-gray-700 font-medium",title:f(t.started),children:m(t.started)}),i.jsx("button",{onClick:()=>c("started"),className:"ml-1 opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-200 rounded",title:"Kopieer informatie",children:""})]}),t.completed&&i.jsxs("div",{className:"flex items-center gap-1 group",children:[i.jsx("span",{className:"text-gray-500",children:" Voltooid:"}),i.jsx("span",{className:"text-gray-700 font-medium",title:f(t.completed),children:m(t.completed)}),i.jsx("button",{onClick:()=>c("completed"),className:"ml-1 opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-gray-200 rounded",title:"Kopieer informatie",children:""})]})]})}),e&&e.length>0&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>l(!r),className:"w-full flex items-center justify-between px-3 py-2 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors text-xs font-medium text-gray-700",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsxs("span",{children:["Volledige Geschiedenis (",e.length,")"]})]}),i.jsx("svg",{className:`w-4 h-4 transition-transform ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&i.jsx("div",{className:"mt-2 space-y-2 max-h-60 overflow-y-auto",children:e.map((h,p)=>{const x=()=>{const y=f(h.timestamp),N=n(h.performedBy);return h.action==="created"?`Opdracht aangemaakt op ${y} door ${N}.`:h.action==="assigned"?`Opdracht toegewezen aan ${h.toAssignee?n(h.toAssignee):N} op ${y}.`:h.action==="status_changed"&&h.toStatus==="In Progress"?`Uw opdracht is op ${y} gestart door ${N}.`:h.action==="completed"?`Opdracht voltooid op ${y} door ${N}.`:`${h.details} - ${y}`},b=()=>{const y=x();navigator.clipboard.writeText(y).then(()=>{alert(" Informatie gekopieerd naar klembord!")}).catch(()=>{const N=document.createElement("textarea");N.value=y,document.body.appendChild(N),N.select(),document.execCommand("copy"),document.body.removeChild(N),alert(" Informatie gekopieerd naar klembord!")})};return i.jsxs("div",{className:"flex gap-2 text-xs border-l-2 border-blue-300 pl-3 py-2 bg-blue-50 rounded-r group",children:[i.jsx("span",{className:"text-base",children:u(h.action)}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-gray-700 leading-snug",children:h.details}),i.jsx("p",{className:"text-gray-500 text-xs mt-1",children:f(h.timestamp)})]}),i.jsx("button",{onClick:b,className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-blue-200 rounded text-blue-600",title:"Kopieer voor communicatie",children:""})]},p)})})]})]})},ms=({order:e,currentUser:t,isAdmin:n,inventory:r,onUpdateStatus:l,onUpdateHours:c,onDelete:u,onEdit:f,onOpenDetail:m,getEmployeeName:h,getCustomerName:p})=>{const[x,b]=j.useState(!1),[y,N]=j.useState(e.hoursSpent||0),[w,S]=j.useState(!1),[D,P]=j.useState(e.pendingReason||""),O=e.assignedTo===t.employeeId,I=n||O,R=()=>{c(e.id,y),b(!1)},M=()=>{f({...e,pendingReason:D.trim()||void 0}),S(!1)},$=(Y=>Y?Y<=5?{color:"red",label:"Vandaag",bgColor:"bg-red-500",textColor:"text-white",borderColor:"border-red-300",tooltip:"#1-#5: Vandaag afmaken (hoogste prioriteit)"}:Y<=15?{color:"orange",label:"Deze Week",bgColor:"bg-orange-500",textColor:"text-white",borderColor:"border-orange-300",tooltip:"#6-#15: Deze week afronden"}:{color:"green",label:"Later",bgColor:"bg-green-500",textColor:"text-white",borderColor:"border-green-300",tooltip:"#16+: Volgende week of later"}:{color:"gray",label:"Normaal",bgColor:"bg-gray-500",textColor:"text-white",borderColor:"border-gray-300"})(e.sortIndex);return i.jsxs("div",{className:`bg-white rounded-lg shadow-md p-3 sm:p-4 border-l-4 ${$.borderColor} hover:shadow-lg transition-shadow cursor-pointer`,onDoubleClick:()=>m&&m(e),title:"Dubbelklik om factuur/offerte details te zien",children:[e.sortIndex!==void 0&&i.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[i.jsxs("span",{className:`inline-block px-2 py-1 text-xs font-bold ${$.textColor} ${$.bgColor} rounded`,title:$.tooltip,children:["#",e.sortIndex]}),i.jsx("span",{className:`text-xs font-medium ${$.textColor.replace("text-white",`text-${$.color}-600`)}`,children:$.label})]}),i.jsxs("div",{className:"flex items-start justify-between mb-3 gap-2",children:[i.jsx("h4",{className:"font-semibold text-neutral flex-1 text-sm sm:text-base break-words",children:e.title}),i.jsxs("div",{className:"flex items-center gap-1",children:[n&&i.jsx("button",{onClick:()=>f(e),className:"p-1 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors",title:"Bewerken",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),n&&i.jsx("button",{onClick:()=>u(e.id),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors",title:"Verwijderen",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),e.status==="Pending"&&i.jsx("div",{className:"mb-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:w&&I?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),i.jsx("span",{className:"text-xs font-semibold text-yellow-800",children:"Reden voor wachtstatus:"})]}),i.jsx("textarea",{value:D,onChange:Y=>P(Y.target.value),placeholder:"bijv: Wacht op materiaal, wacht op klant bevestiging...",rows:2,className:"w-full px-3 py-2 border border-yellow-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-yellow-500"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:M,className:"px-3 py-1 bg-yellow-600 text-white text-xs rounded hover:bg-yellow-700 transition-colors",children:"Opslaan"}),i.jsx("button",{onClick:()=>{P(e.pendingReason||""),S(!1)},className:"px-3 py-1 bg-gray-300 text-gray-700 text-xs rounded hover:bg-gray-400 transition-colors",children:"Annuleren"})]})]}):i.jsx("div",{children:i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex items-start gap-2 flex-1",children:[i.jsx("svg",{className:"w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-semibold text-yellow-800 mb-1",children:"In wacht:"}),e.pendingReason?i.jsx("p",{className:"text-xs text-yellow-700",children:e.pendingReason}):i.jsx("p",{className:"text-xs text-yellow-600 italic",children:"Geen reden opgegeven"})]})]}),I&&i.jsx("button",{onClick:()=>S(!0),className:"text-xs text-yellow-700 hover:text-yellow-900 hover:underline whitespace-nowrap",title:"Reden bewerken",children:e.pendingReason?"Bewerk":"+ Reden toevoegen"})]})})}),(e.quoteId||e.invoiceId)&&i.jsxs("div",{className:"mb-3 p-3 bg-purple-50 border border-purple-200 rounded-lg cursor-pointer hover:bg-purple-100 transition-colors",onDoubleClick:()=>m&&m(e),title:"Dubbelklik om details te zien",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),i.jsx("span",{className:"text-xs font-semibold text-purple-800",children:e.quoteId?`Gebaseerd op offerte ${e.quoteId}`:`Gebaseerd op factuur ${e.invoiceId}`}),i.jsx("span",{className:"text-xs text-purple-600 ml-auto",children:" Dubbelklik"})]}),e.estimatedHours&&i.jsxs("div",{className:"text-xs text-purple-700 mb-1",children:["Geschatte uren: ",i.jsxs("span",{className:"font-semibold",children:[e.estimatedHours,"u"]}),e.hoursSpent!==void 0&&e.hoursSpent>0&&i.jsxs("span",{className:e.hoursSpent>e.estimatedHours?"text-red-600 ml-2":"text-green-600 ml-2",children:["(Daadwerkelijk: ",e.hoursSpent,"u ",e.hoursSpent>e.estimatedHours?"":"",")"]})]}),e.estimatedCost&&i.jsxs("div",{className:"text-xs text-purple-700",children:["Geschatte waarde: ",i.jsxs("span",{className:"font-semibold",children:["",e.estimatedCost.toFixed(2)]})]})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),e.requiredInventory&&e.requiredInventory.length>0&&i.jsxs("div",{className:"mb-3 p-2 bg-blue-50 border border-blue-200 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),i.jsx("span",{className:"text-xs font-semibold text-blue-800",children:"Benodigde materialen:"})]}),i.jsx("div",{className:"space-y-1",children:e.requiredInventory.map(Y=>{const X=r.find(he=>he.id===Y.itemId);if(!X)return null;const le=X.quantity>=Y.quantity;return i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:le?"text-gray-700":"text-red-600 font-semibold",children:X.name}),i.jsxs("span",{className:le?"text-gray-600":"text-red-600 font-semibold",children:[Y.quantity," ",le?"":`(Voorraad: ${X.quantity})`]})]},Y.itemId)})})]}),i.jsxs("div",{className:"space-y-2 mb-3 text-xs",children:[n&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),i.jsx("span",{className:"text-gray-700",children:h(e.assignedTo)})]}),e.customerId&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),i.jsx("span",{className:"text-gray-700",children:p(e.customerId)})]}),e.location&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),i.jsx("span",{className:"text-gray-700",children:e.location})]}),e.scheduledDate&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("span",{className:"text-gray-700",children:e.scheduledDate})]})]}),i.jsx("div",{className:"mb-3 p-2 bg-gray-50 rounded",children:x&&I?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"number",value:y,onChange:Y=>N(parseFloat(Y.target.value)||0),className:"flex-1 px-2 py-1 border border-gray-300 rounded text-sm",step:"0.5",min:"0"}),i.jsx("button",{onClick:R,className:"px-2 py-1 bg-primary text-white text-xs rounded hover:bg-secondary",children:""}),i.jsx("button",{onClick:()=>b(!1),className:"px-2 py-1 bg-gray-300 text-gray-700 text-xs rounded hover:bg-gray-400",children:""})]}):i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Uren besteed:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm font-semibold text-primary",children:[e.hoursSpent||0,"u"]}),I&&e.status!=="Completed"&&i.jsx("button",{onClick:()=>b(!0),className:"text-xs text-blue-600 hover:text-blue-800",children:"Bewerk"})]})]})}),I&&i.jsxs("div",{className:"space-y-2",children:[e.status==="To Do"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>l(e.id,"In Progress"),className:"w-full px-3 py-2.5 bg-blue-500 text-white text-sm sm:text-base rounded-lg hover:bg-blue-600 active:bg-blue-700 transition-colors font-medium",children:" Start Werkorder"}),i.jsx("button",{onClick:()=>l(e.id,"Pending"),className:"w-full px-3 py-2.5 bg-yellow-500 text-white text-sm sm:text-base rounded-lg hover:bg-yellow-600 active:bg-yellow-700 transition-colors font-medium",children:" In Wacht Zetten"})]}),e.status==="Pending"&&i.jsx("button",{onClick:()=>l(e.id,"In Progress"),className:"w-full px-3 py-2.5 bg-blue-500 text-white text-sm sm:text-base rounded-lg hover:bg-blue-600 active:bg-blue-700 transition-colors font-medium",children:" Start Werkorder"}),e.status==="In Progress"&&i.jsx("button",{onClick:()=>l(e.id,"Completed"),className:"w-full px-3 py-2.5 bg-green-500 text-white text-sm sm:text-base rounded-lg hover:bg-green-600 active:bg-green-700 transition-colors font-medium",children:" Voltooi"}),e.status==="Completed"&&i.jsx("span",{className:"block text-center px-3 py-2.5 bg-green-100 text-green-800 text-sm sm:text-base rounded-lg font-semibold",children:" Afgerond"})]}),(e.timestamps||e.history&&e.history.length>0)&&i.jsx(l4,{history:e.history||[],timestamps:e.timestamps,getEmployeeName:h})]})},yV=({transactions:e,quotes:t,setQuotes:n,invoices:r,setInvoices:l,customers:c,inventory:u,workOrders:f,setWorkOrders:m,employees:h,currentUser:p,isAdmin:x})=>{const[b,y]=j.useState("dashboard"),[N,w]=j.useState(null),[S,D]=j.useState("all"),[P,O]=j.useState(!1),[I,R]=j.useState(!1),[M,B]=j.useState(!1),[$,Y]=j.useState(!1),[X,le]=j.useState(null),[he,we]=j.useState(null),[Te,De]=j.useState(!1),[Z,ce]=j.useState("all"),[ke,G]=j.useState(!1),[Ne,z]=j.useState("all"),[L,se]=j.useState({customerName:"",dateFrom:"",dateTo:"",minAmount:"",maxAmount:""}),[ve,Ee]=j.useState(!1),[_e,nt]=j.useState(null),[ct,ue]=j.useState(""),[Fe,Ye]=j.useState(!1),[me,bt]=j.useState(null),[qe,be]=j.useState({hoursChecked:!1,materialsChecked:!1,extraWorkAdded:!1}),[ge,lt]=j.useState({customerId:"",items:[],labor:[],vatRate:21,notes:"",validUntil:""}),[ye,We]=j.useState({customerId:"",items:[],labor:[],vatRate:21,notes:"",paymentTerms:"14 dagen",issueDate:"",dueDate:""}),Wr=S==="all"?e:e.filter(k=>k.type===S),Xt=e.filter(k=>k.type==="income").reduce((k,_)=>k+_.amount,0),Wa=e.filter(k=>k.type==="expense").reduce((k,_)=>k+Math.abs(_.amount),0),Es=Xt-Wa,On=r.reduce((k,_)=>k+_.total,0),Ms=r.filter(k=>k.status==="paid"),$i=Ms.reduce((k,_)=>k+_.total,0),Zn=r.filter(k=>k.status==="overdue"),_a=Zn.reduce((k,_)=>k+_.total,0),Ui=r.filter(k=>["sent","overdue"].includes(k.status)),ur=Ui.reduce((k,_)=>k+_.total,0),Ar=t.reduce((k,_)=>k+_.total,0),Jn=t.filter(k=>k.status==="approved"),_t=t.filter(k=>k.status==="sent"),Be=t.filter(k=>k.status==="expired"||k.validUntil&&new Date(k.validUntil)<new Date),et=Jn.reduce((k,_)=>k+_.total,0),It=_t.reduce((k,_)=>k+_.total,0),Ft=Be.reduce((k,_)=>k+_.total,0),xt=k=>{var _;return((_=h.find(K=>K.id===k))==null?void 0:_.name)||"Onbekend"},Xe=(k,_,K,W)=>({timestamp:new Date().toISOString(),action:_,performedBy:p.employeeId,details:K,...W}),Gt=k=>{var _;return((_=c.find(K=>K.id===k))==null?void 0:_.name)||"Onbekend"},Wt=({invoices:k,quotes:_,transactions:K,customers:W,onNavigate:Ae})=>{const Ce=k.reduce((de,Se)=>de+Se.total,0),ee=k.filter(de=>de.status==="paid"),Ie=ee.reduce((de,Se)=>de+Se.total,0),it=k.filter(de=>["sent","overdue"].includes(de.status)),fr=it.reduce((de,Se)=>de+Se.total,0),Sa=k.filter(de=>de.status==="overdue"),Za=Sa.reduce((de,Se)=>de+Se.total,0),cu=_.filter(de=>!["approved","rejected"].includes(de.status)).length,Rs=k.filter(de=>de.status==="paid"&&de.issueDate&&de.paidDate),To=Rs.length>0?Math.round(Rs.reduce((de,Se)=>{const Me=new Date(Se.issueDate),ze=new Date(Se.paidDate),Je=Math.abs(ze.getTime()-Me.getTime()),kt=Math.ceil(Je/(1e3*60*60*24));return de+kt},0)/Rs.length):0,Ls=j.useMemo(()=>{const de={},Se=new Date;for(let Me=11;Me>=0;Me--){const ze=new Date(Se.getFullYear(),Se.getMonth()-Me,1),Je=`${ze.getFullYear()}-${String(ze.getMonth()+1).padStart(2,"0")}`;de[Je]=0}return k.forEach(Me=>{if(Me.status==="paid"&&Me.paidDate){const ze=new Date(Me.paidDate),Je=`${ze.getFullYear()}-${String(ze.getMonth()+1).padStart(2,"0")}`;de[Je]!==void 0&&(de[Je]+=Me.total)}}),Object.entries(de).map(([Me,ze])=>({month:Me.split("-")[1]+"/"+Me.split("-")[0].slice(-2),revenue:Math.round(ze*100)/100}))},[k]);j.useMemo(()=>{const de={};return it.forEach(Se=>{var ze;const Me=((ze=W.find(Je=>Je.id===Se.customerId))==null?void 0:ze.name)||"Onbekend";de[Me]=(de[Me]||0)+Se.total}),Object.entries(de).map(([Se,Me])=>({name:Se,amount:Math.round(Me*100)/100})).sort((Se,Me)=>Me.amount-Se.amount).slice(0,5)},[it,W]);const Dr=j.useMemo(()=>{const de={};return ee.forEach(Se=>{var ze;const Me=((ze=W.find(Je=>Je.id===Se.customerId))==null?void 0:ze.name)||"Onbekend";de[Me]=(de[Me]||0)+Se.total}),Object.entries(de).map(([Se,Me])=>({name:Se,amount:Math.round(Me*100)/100})).sort((Se,Me)=>Me.amount-Se.amount).slice(0,5)},[ee,W]);j.useMemo(()=>{const de={approved:0,sent:0,draft:0,rejected:0,expired:0};return _.forEach(Se=>{de[Se.status]=(de[Se.status]||0)+1}),[{name:"Goedgekeurd",value:de.approved,status:"approved"},{name:"Verzonden",value:de.sent,status:"sent"},{name:"Concept",value:de.draft,status:"draft"},{name:"Afgewezen",value:de.rejected,status:"rejected"},{name:"Verlopen",value:de.expired,status:"expired"}].filter(Se=>Se.value>0)},[_]);const Fi=j.useMemo(()=>{const de={};return k.forEach(Se=>{if(Se.status==="paid"&&Se.issueDate&&Se.paidDate&&Se.dueDate){const Me=new Date(Se.issueDate),ze=new Date(Se.paidDate),Je=new Date(Se.dueDate),kt=`${Me.getFullYear()}-${String(Me.getMonth()+1).padStart(2,"0")}`;de[kt]||(de[kt]={onTime:0,late:0}),ze<=Je?de[kt].onTime+=Se.total:de[kt].late+=Se.total}}),Object.entries(de).sort().slice(-6).map(([Se,Me])=>({month:Se.split("-")[1]+"/"+Se.split("-")[0].slice(-2),"Op tijd":Math.round(Me.onTime*100)/100,"Te laat":Math.round(Me.late*100)/100}))},[k]),Zt=j.useMemo(()=>{const de=new Date,Se=`${de.getFullYear()}-${String(de.getMonth()+1).padStart(2,"0")}`,Me=new Date(de.getFullYear(),de.getMonth()-1,1),ze=`${Me.getFullYear()}-${String(Me.getMonth()+1).padStart(2,"0")}`,Je=ee.filter(ot=>{if(!ot.paidDate)return!1;const Ot=new Date(ot.paidDate);return`${Ot.getFullYear()}-${String(Ot.getMonth()+1).padStart(2,"0")}`===Se}).reduce((ot,Ot)=>ot+Ot.total,0),kt=k.filter(ot=>{if(!ot.issueDate)return!1;const Ot=new Date(ot.issueDate);return`${Ot.getFullYear()}-${String(Ot.getMonth()+1).padStart(2,"0")}`===Se}).length,yr=it.filter(ot=>{if(!ot.issueDate)return!1;const Ot=new Date(ot.issueDate);return`${Ot.getFullYear()}-${String(Ot.getMonth()+1).padStart(2,"0")}`===Se}).reduce((ot,Ot)=>ot+Ot.total,0),ar=_.filter(ot=>{if(!ot.createdDate)return!1;const Ot=new Date(ot.createdDate);return`${Ot.getFullYear()}-${String(Ot.getMonth()+1).padStart(2,"0")}`===Se}),ei=ar.filter(ot=>ot.status==="approved").length,$s=ar.length>0?ei/ar.length:0,xn=ee.filter(ot=>{if(!ot.paidDate)return!1;const Ot=new Date(ot.paidDate);return`${Ot.getFullYear()}-${String(Ot.getMonth()+1).padStart(2,"0")}`===ze}).reduce((ot,Ot)=>ot+Ot.total,0),br=k.filter(ot=>{if(!ot.issueDate)return!1;const Ot=new Date(ot.issueDate);return`${Ot.getFullYear()}-${String(Ot.getMonth()+1).padStart(2,"0")}`===ze}).length,ea=it.filter(ot=>{if(!ot.issueDate)return!1;const Ot=new Date(ot.issueDate);return`${Ot.getFullYear()}-${String(Ot.getMonth()+1).padStart(2,"0")}`===ze}).reduce((ot,Ot)=>ot+Ot.total,0),ka=_.filter(ot=>{if(!ot.createdDate)return!1;const Ot=new Date(ot.createdDate);return`${Ot.getFullYear()}-${String(Ot.getMonth()+1).padStart(2,"0")}`===ze}),ti=ka.filter(ot=>ot.status==="approved").length,ni=ka.length>0?ti/ka.length:0;return{revenueChange:xn>0?(Je-xn)/xn:0,invoicesChange:br>0?(kt-br)/br:0,openAmountChange:ea>0?(yr-ea)/ea:0,quoteConversionChange:ni>0?($s-ni)/ni:0}},[ee,k,it,_]);j.useMemo(()=>{const de={},Se=new Date;for(let Me=5;Me>=0;Me--){const ze=new Date(Se.getFullYear()-1,Se.getMonth()-Me,1),Je=`${ze.getFullYear()}-${String(ze.getMonth()+1).padStart(2,"0")}`;de[Je]=0}return ee.forEach(Me=>{if(Me.paidDate){const ze=new Date(Me.paidDate),Je=`${ze.getFullYear()}-${String(ze.getMonth()+1).padStart(2,"0")}`;de[Je]!==void 0&&(de[Je]+=Me.total)}}),Object.entries(de).map(([Me,ze])=>({month:Me.split("-")[1]+"/"+Me.split("-")[0].slice(-2),revenue:Math.round(ze*100)/100}))},[ee]);const Er=j.useMemo(()=>{const de={};return it.forEach(Se=>{var ze;const Me=((ze=W.find(Je=>Je.id===Se.customerId))==null?void 0:ze.name)||"Onbekend";if(de[Me]||(de[Me]={amount:0,daysOpen:[]}),de[Me].amount+=Se.total,Se.issueDate){const Je=new Date(Se.issueDate),yr=Math.abs(new Date().getTime()-Je.getTime()),ar=Math.ceil(yr/(1e3*60*60*24));de[Me].daysOpen.push(ar)}}),Object.entries(de).map(([Se,Me])=>({name:Se,amount:Math.round(Me.amount*100)/100,daysOpen:Math.round(Me.daysOpen.reduce((ze,Je)=>ze+Je,0)/Me.daysOpen.length)||0})).sort((Se,Me)=>Me.amount-Se.amount).slice(0,5)},[it,W]);j.useMemo(()=>{const de={};ee.forEach(Je=>{var yr;const kt=((yr=W.find(ar=>ar.id===Je.customerId))==null?void 0:yr.name)||"Onbekend";if(de[kt]||(de[kt]={revenue:0,invoiceCount:0}),de[kt].revenue+=Je.total,de[kt].invoiceCount+=1,Je.paidDate){const ar=new Date(Je.paidDate);(!de[kt].lastInvoiceDate||ar>de[kt].lastInvoiceDate)&&(de[kt].lastInvoiceDate=ar),(!de[kt].firstInvoiceDate||ar<de[kt].firstInvoiceDate)&&(de[kt].firstInvoiceDate=ar)}});const Se=new Date,Me=Se.getMonth(),ze=Se.getFullYear();return Object.entries(de).map(([Je,kt])=>{const yr=kt.revenue*.3,ar=ee.filter(xn=>{var ti;if(((ti=W.find(ni=>ni.id===xn.customerId))==null?void 0:ti.name)!==Je||!xn.paidDate)return!1;const ea=new Date(xn.paidDate),ka=(ze-ea.getFullYear())*12+(Me-ea.getMonth());return ka>=0&&ka<3}).reduce((xn,br)=>xn+br.total,0),ei=ee.filter(xn=>{var ti;if(((ti=W.find(ni=>ni.id===xn.customerId))==null?void 0:ti.name)!==Je||!xn.paidDate)return!1;const ea=new Date(xn.paidDate),ka=(ze-ea.getFullYear())*12+(Me-ea.getMonth());return ka>=3&&ka<6}).reduce((xn,br)=>xn+br.total,0),$s=ei>0?(ar-ei)/ei:0;return{name:Je,revenue:Math.round(kt.revenue*100)/100,profit:Math.round(yr*100)/100,trend:Math.round($s*100)/100}}).sort((Je,kt)=>kt.revenue-Je.revenue).slice(0,5)},[ee,W]);const Ja=j.useMemo(()=>{const de={approved:{count:0,totalValue:0},sent:{count:0,totalValue:0},draft:{count:0,totalValue:0},rejected:{count:0,totalValue:0},expired:{count:0,totalValue:0}};return _.forEach(Se=>{de[Se.status]||(de[Se.status]={count:0,totalValue:0}),de[Se.status].count+=1,de[Se.status].totalValue+=Se.total}),[{status:"Goedgekeurd",count:de.approved.count,totalValue:Math.round(de.approved.totalValue*100)/100,statusKey:"approved"},{status:"Verzonden",count:de.sent.count,totalValue:Math.round(de.sent.totalValue*100)/100,statusKey:"sent"},{status:"In afwachting",count:de.draft.count,totalValue:Math.round(de.draft.totalValue*100)/100,statusKey:"draft"},{status:"Afgewezen",count:de.rejected.count,totalValue:Math.round(de.rejected.totalValue*100)/100,statusKey:"rejected"},{status:"Verlopen",count:de.expired.count,totalValue:Math.round(de.expired.totalValue*100)/100,statusKey:"expired"}].filter(Se=>Se.count>0)},[_]),zs=j.useMemo(()=>{const de=[];if(Sa.length>0){const ze=Sa.reduce((Je,kt)=>Je+kt.total,0);de.push(` Er zijn ${Sa.length} verlopen facturen met een totaalbedrag van ${ze.toFixed(2)}.`)}const Se=Er.filter(ze=>ze.daysOpen>30);if(Se.length>0&&Se.forEach(ze=>{de.push(` Klant ${ze.name} heeft openstaande facturen van ${ze.amount.toFixed(2)} die gemiddeld ${ze.daysOpen} dagen oud zijn.`)}),Zt.revenueChange>.1?de.push(` Omzet steeg met ${(Zt.revenueChange*100).toFixed(0)}% t.o.v. vorige maand  beste maand dit kwartaal.`):Zt.revenueChange<-.1&&de.push(` Omzet daalde met ${Math.abs(Zt.revenueChange*100).toFixed(0)}% t.o.v. vorige maand.`),Zt.quoteConversionChange>.05){const ze=Ja.filter(Je=>Je.statusKey==="approved").reduce((Je,kt)=>Je+kt.count,0)/Math.max(_.length,1);de.push(` Conversieratio offertes: ${(ze*100).toFixed(0)}% (+${(Zt.quoteConversionChange*100).toFixed(0)}% t.o.v. vorige maand).`)}const Me=Fi.slice(-1)[0];return Me&&Me["Te laat"]>Me["Op tijd"]*.3&&de.push(` Hoge percentage te late betalingen deze maand: ${(Me["Te laat"]/(Me["Op tijd"]+Me["Te laat"])*100).toFixed(0)}%.`),de.slice(0,4)},[Sa,Er,Zt,Ja,_.length,Fi]),Bs=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"];return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4 sm:p-6 border-l-4 border-green-500 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{Ae("invoices",{overviewType:"paid"})},children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Totale Omzet"}),i.jsx("span",{className:"text-2xl",children:""})]}),i.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-neutral",children:["",Ie.toFixed(2)]}),Zt.revenueChange!==0&&i.jsxs("div",{className:`flex items-center gap-1 mt-1 text-xs ${Zt.revenueChange>0?"text-green-600":"text-red-600"}`,children:[i.jsx("span",{children:Zt.revenueChange>0?"":""}),i.jsxs("span",{children:[Math.abs(Zt.revenueChange*100).toFixed(1),"%"]}),i.jsx("span",{className:"text-gray-500",children:"t.o.v. vorige maand"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Klik voor details "})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4 sm:p-6 border-l-4 border-blue-500 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{Ae("invoices",{overviewType:"all"})},children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Totaal Gefactureerd"}),i.jsx("span",{className:"text-2xl",children:""})]}),i.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-neutral",children:["",Ce.toFixed(2)]}),Zt.invoicesChange!==0&&i.jsxs("div",{className:`flex items-center gap-1 mt-1 text-xs ${Zt.invoicesChange>0?"text-green-600":"text-red-600"}`,children:[i.jsx("span",{children:Zt.invoicesChange>0?"":""}),i.jsxs("span",{children:[Math.abs(Zt.invoicesChange*100).toFixed(1),"%"]}),i.jsx("span",{className:"text-gray-500",children:"t.o.v. vorige maand"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Klik voor details "})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4 sm:p-6 border-l-4 border-orange-500 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{Ae("invoices",{overviewType:"outstanding"})},children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Openstaand"}),i.jsx("span",{className:"text-2xl",children:""})]}),i.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-neutral",children:["",fr.toFixed(2)]}),Zt.openAmountChange!==0&&i.jsxs("div",{className:`flex items-center gap-1 mt-1 text-xs ${Zt.openAmountChange<0?"text-green-600":"text-red-600"}`,children:[i.jsx("span",{children:Zt.openAmountChange<0?"":""}),i.jsxs("span",{children:[Math.abs(Zt.openAmountChange*100).toFixed(1),"%"]}),i.jsx("span",{className:"text-gray-500",children:"t.o.v. vorige maand"})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Klik voor details "})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4 sm:p-6 border-l-4 border-purple-500 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{Ae("quotes",{overviewType:"all"})},children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Openstaande Offertes"}),i.jsx("span",{className:"text-2xl",children:""})]}),i.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-neutral",children:cu}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Klik voor details "})]}),To>0&&i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4 sm:p-6 border-l-4 border-gray-400",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Gem. Betalingstermijn"}),i.jsx("span",{className:"text-2xl",children:""})]}),i.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-neutral",children:[To," dagen"]})]}),Za>0&&i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4 sm:p-6 border-l-4 border-red-500 cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{Ae("invoices",{overviewType:"overdue"})},children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Verlopen"}),i.jsx("span",{className:"text-2xl",children:""})]}),i.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-red-600",children:["",Za.toFixed(2)]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Klik voor details "})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-3 sm:p-4 lg:p-6",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral mb-3 sm:mb-4",children:"Omzet per Maand"}),i.jsx(vi,{width:"100%",height:250,children:i.jsxs(qF,{data:Ls,margin:{top:5,right:5,left:-10,bottom:5},children:[i.jsx(xs,{strokeDasharray:"3 3"}),i.jsx(vs,{dataKey:"month",tick:{fontSize:12}}),i.jsx(ys,{tick:{fontSize:12},width:60}),i.jsx(bi,{formatter:de=>`${de.toFixed(2)}`,contentStyle:{fontSize:"12px",padding:"8px"}}),i.jsx(Ua,{wrapperStyle:{fontSize:"12px"}}),i.jsx(VA,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:2,name:"Omzet ()",dot:{r:4},activeDot:{r:6}})]})})]}),Er.length>0&&i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-3 sm:p-4 lg:p-6",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral mb-3 sm:mb-4",children:"Openstaand per Klant"}),i.jsx(vi,{width:"100%",height:250,children:i.jsxs(ao,{data:Er,layout:"vertical",margin:{top:5,right:10,left:10,bottom:5},children:[i.jsx(xs,{strokeDasharray:"3 3"}),i.jsx(vs,{type:"number",tick:{fontSize:12},width:60}),i.jsx(ys,{dataKey:"name",type:"category",tick:{fontSize:11},width:80}),i.jsx(bi,{formatter:(de,Se,Me)=>Se==="amount"?[`${de.toFixed(2)}`,"Bedrag"]:[`${Me.payload.daysOpen} dagen`,"Dagen openstaand"],contentStyle:{fontSize:"12px",padding:"8px"}}),i.jsx($a,{dataKey:"amount",fill:"#f59e0b",name:"Bedrag ()",radius:[0,4,4,0]})]})})]}),Dr.length>0&&i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-3 sm:p-4 lg:p-6",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral mb-3 sm:mb-4",children:"Top 5 Klanten"}),i.jsx(vi,{width:"100%",height:250,children:i.jsxs(ZS,{children:[i.jsx(B0,{data:Dr,cx:"50%",cy:"50%",labelLine:!1,label:({percent:de})=>`${(de*100).toFixed(0)}%`,outerRadius:70,fill:"#8884d8",dataKey:"amount",children:Dr.map((de,Se)=>i.jsx(yl,{fill:Bs[Se%Bs.length]},`cell-${Se}`))}),i.jsx(bi,{formatter:(de,Se)=>[`${de.toFixed(2)}`,Se],contentStyle:{fontSize:"12px",padding:"8px"}}),i.jsx(Ua,{wrapperStyle:{fontSize:"11px"}})]})})]}),Ja.length>0&&i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-3 sm:p-4 lg:p-6",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral mb-3 sm:mb-4",children:"Offertes per Status"}),i.jsx(vi,{width:"100%",height:250,children:i.jsxs(ZS,{children:[i.jsx(B0,{data:Ja,cx:"50%",cy:"50%",labelLine:!1,label:({count:de})=>`${de}`,outerRadius:70,fill:"#8884d8",dataKey:"count",children:Ja.map((de,Se)=>i.jsx(yl,{fill:Bs[Se%Bs.length],onClick:()=>{de.statusKey&&Ae("quotes",{overviewType:de.statusKey})},style:{cursor:"pointer"}},`cell-${Se}`))}),i.jsx(bi,{formatter:(de,Se,Me)=>[`${Me.payload.count} offertes - ${Me.payload.totalValue.toFixed(2)}`,Me.payload.status],contentStyle:{fontSize:"12px",padding:"8px"}}),i.jsx(Ua,{wrapperStyle:{fontSize:"11px"}})]})})]}),Fi.length>0&&i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-3 sm:p-4 lg:p-6 lg:col-span-2",children:[i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-neutral mb-3 sm:mb-4",children:"Betaalgedrag per Maand"}),i.jsx(vi,{width:"100%",height:250,children:i.jsxs(ao,{data:Fi,margin:{top:5,right:5,left:-10,bottom:5},children:[i.jsx(xs,{strokeDasharray:"3 3"}),i.jsx(vs,{dataKey:"month",tick:{fontSize:12}}),i.jsx(ys,{tick:{fontSize:12},width:60}),i.jsx(bi,{formatter:de=>`${de.toFixed(2)}`,contentStyle:{fontSize:"12px",padding:"8px"}}),i.jsx(Ua,{wrapperStyle:{fontSize:"12px"}}),i.jsx($a,{dataKey:"Op tijd",stackId:"a",fill:"#10b981",radius:[4,4,0,0]}),i.jsx($a,{dataKey:"Te laat",stackId:"a",fill:"#ef4444",radius:[0,0,4,4]})]})})]})]}),zs.length>0&&i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4 sm:p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-neutral mb-4 flex items-center gap-2",children:[i.jsx("span",{children:""}),i.jsx("span",{children:"Inzichten & Aanbevelingen"})]}),i.jsx("div",{className:"space-y-3",children:zs.map((de,Se)=>i.jsx("div",{className:`p-3 rounded-lg border-l-4 ${de.includes("")?"bg-red-50 border-red-400":de.includes("")||de.includes("")?"bg-green-50 border-green-400":"bg-blue-50 border-blue-400"}`,children:i.jsx("p",{className:"text-sm text-gray-700",children:de})},Se))})]})]})},gn=k=>{var _;return((_=u.find(K=>K.id===k))==null?void 0:_.name)||"Onbekend item"},jt=k=>{switch(k){case"approved":return"bg-green-100 text-green-800";case"sent":return"bg-blue-100 text-blue-800";case"rejected":return"bg-red-100 text-red-800";case"expired":return"bg-gray-100 text-gray-800";case"draft":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},er=k=>{switch(k){case"paid":return"bg-green-100 text-green-800";case"sent":return"bg-blue-100 text-blue-800";case"overdue":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";case"draft":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},An=()=>{const k=ge.items.reduce((Ce,ee)=>Ce+ee.total,0),_=ge.labor.reduce((Ce,ee)=>Ce+ee.total,0),K=k+_,W=K*(ge.vatRate/100),Ae=K+W;return{subtotal:K,vatAmount:W,total:Ae}},dr=()=>{const k=ye.items.reduce((Ce,ee)=>Ce+ee.total,0),_=ye.labor.reduce((Ce,ee)=>Ce+ee.total,0),K=k+_,W=K*(ye.vatRate/100),Ae=K+W;return{subtotal:K,vatAmount:W,total:Ae}},ba=()=>{const k=new Date().getFullYear(),_=r.filter(W=>W.invoiceNumber.startsWith(`${k}-`)).map(W=>parseInt(W.invoiceNumber.split("-")[1])).filter(W=>!isNaN(W)),K=_.length>0?Math.max(..._)+1:1;return`${k}-${String(K).padStart(3,"0")}`},Ia=()=>{const k={inventoryItemId:"",description:"",quantity:1,pricePerUnit:0,total:0};lt({...ge,items:[...ge.items,k]})},Yr=()=>{const k={description:"",quantity:1,pricePerUnit:0,total:0};lt({...ge,items:[...ge.items,k]})},Qr=()=>{const k={description:"",hours:1,hourlyRate:50,total:50};lt({...ge,labor:[...ge.labor,k]})},Ya=k=>{lt({...ge,items:ge.items.filter((_,K)=>K!==k)})},qi=k=>{lt({...ge,labor:ge.labor.filter((_,K)=>K!==k)})},Qa=(k,_)=>{const K=u.find(W=>W.id===_);if(K){const W=[...ge.items];W[k]={...W[k],inventoryItemId:_,description:K.name,pricePerUnit:K.price||0,total:W[k].quantity*(K.price||0)},lt({...ge,items:W})}},Xr=(k,_,K)=>{const W=[...ge.items];W[k]={...W[k],[_]:K},(_==="quantity"||_==="pricePerUnit")&&(W[k].total=W[k].quantity*W[k].pricePerUnit),lt({...ge,items:W})},ja=(k,_,K)=>{const W=[...ge.labor];W[k]={...W[k],[_]:K},(_==="hours"||_==="hourlyRate")&&(W[k].total=W[k].hours*W[k].hourlyRate),lt({...ge,labor:W})},wa=k=>{const _=t.find(K=>K.id===k);_&&(lt({customerId:_.customerId,items:_.items,labor:_.labor||[],vatRate:_.vatRate,notes:_.notes||"",validUntil:_.validUntil}),we(k),y("quotes"),O(!0))},Xa=()=>{var ee;if(!ge.customerId||ge.items.length===0||!ge.validUntil){alert("Vul alle verplichte velden in (klant, minimaal 1 item, en geldig tot datum)!");return}const{subtotal:k,vatAmount:_,total:K}=An(),W=new Date().toISOString(),Ae=Gt(ge.customerId);if(he){const Ie=t.find(fr=>fr.id===he);if(!Ie)return;const it={...Ie,customerId:ge.customerId,items:ge.items,labor:ge.labor.length>0?ge.labor:void 0,subtotal:k,vatRate:ge.vatRate,vatAmount:_,total:K,validUntil:ge.validUntil,notes:ge.notes,history:[...Ie.history||[],Xe("quote","updated",`Offerte bijgewerkt door ${xt(p.employeeId)}`)]};n(t.map(fr=>fr.id===he?it:fr)),it.workOrderId&&qn(it.id)&&alert(" Offerte en werkorder succesvol gesynchroniseerd!"),we(null),O(!1),lt({customerId:"",items:[],labor:[],vatRate:21,notes:"",validUntil:""}),alert(` Offerte ${it.id} succesvol bijgewerkt!`);return}const Ce={id:`Q${Date.now()}`,customerId:ge.customerId,items:ge.items,labor:ge.labor.length>0?ge.labor:void 0,subtotal:k,vatRate:ge.vatRate,vatAmount:_,total:K,status:"draft",createdDate:new Date().toISOString().split("T")[0],validUntil:ge.validUntil,notes:ge.notes,createdBy:p.employeeId,timestamps:{created:W},history:[Xe("quote","created",`Offerte aangemaakt door ${xt(p.employeeId)} voor klant ${Ae}`)]};n([...t,Ce]),lt({customerId:"",items:[],labor:[],vatRate:21,notes:"",validUntil:""}),O(!1),il(p.employeeId,p.role,yt.ACCOUNTING,"create_quote","create",{quoteId:Ce.id,customerId:Ce.customerId,total:Ce.total,itemsCount:Ce.items.length,laborCount:((ee=Ce.labor)==null?void 0:ee.length)||0}),alert(` Offerte ${Ce.id} succesvol aangemaakt!`)},A=(k,_)=>{n(t.map(W=>{if(W.id===k){const Ae=new Date().toISOString(),Ce=W.status,ee={status:_,history:[...W.history||[],Xe("quote",_,`Status gewijzigd van "${Ce}" naar "${_}" door ${xt(p.employeeId)}`,{fromStatus:Ce,toStatus:_})]};return W.timestamps?ee.timestamps={...W.timestamps}:ee.timestamps={created:W.createdDate},_==="sent"&&!ee.timestamps.sent?ee.timestamps.sent=Ae:_==="approved"&&!ee.timestamps.approved&&(ee.timestamps.approved=Ae),{...W,...ee}}return W}));const K=t.find(W=>W.id===k);K!=null&&K.workOrderId&&_==="approved"&&qn(k)},F=k=>{confirm("Weet je zeker dat je deze offerte wilt verwijderen?")&&n(t.filter(_=>_.id!==k))},q=k=>{const _=t.find(ee=>ee.id===k);if(!_)return;if(_.status!=="approved"){alert("Alleen geaccepteerde offertes kunnen worden omgezet naar facturen!");return}const K=new Date().toISOString().split("T")[0],W=new Date;W.setDate(W.getDate()+14);const Ae=new Date().toISOString(),Ce={id:`inv${Date.now()}`,invoiceNumber:ba(),customerId:_.customerId,quoteId:_.id,items:_.items,labor:_.labor,subtotal:_.subtotal,vatRate:_.vatRate,vatAmount:_.vatAmount,total:_.total,status:"draft",issueDate:K,dueDate:W.toISOString().split("T")[0],notes:_.notes,paymentTerms:"14 dagen",workOrderId:_.workOrderId,createdBy:p.employeeId,timestamps:{created:Ae},history:[Xe("invoice","created",`Factuur aangemaakt door ${xt(p.employeeId)} vanuit offerte ${_.id}`)]};l([...r,Ce]),n(t.map(ee=>ee.id===k?{...ee,timestamps:{...ee.timestamps,convertedToInvoice:Ae},history:[...ee.history||[],Xe("quote","converted_to_invoice",`Geconverteerd naar factuur ${Ce.invoiceNumber} door ${xt(p.employeeId)}`)]}:ee)),alert(` Factuur ${Ce.invoiceNumber} succesvol aangemaakt!`),y("invoices")},ie=k=>{var Ae,Ce;const _=t.find(ee=>ee.id===k);if(!_)return;if(_.status!=="approved"){alert("Alleen geaccepteerde offertes kunnen worden omgezet naar werkorders!");return}if(_.workOrderId){alert("Deze offerte heeft al een gekoppelde werkorder!");return}for(const ee of _.items)if(ee.inventoryItemId){const Ie=u.find(it=>it.id===ee.inventoryItemId);if(Ie&&Ie.quantity<ee.quantity&&!confirm(`Waarschuwing: Niet genoeg voorraad van ${Ie.name}. Beschikbaar: ${Ie.quantity}, Nodig: ${ee.quantity}. Toch werkorder aanmaken?`))return}const K=((Ae=c.find(ee=>ee.id===_.customerId))==null?void 0:Ae.name)||"Onbekend",W=((Ce=_.labor)==null?void 0:Ce.reduce((ee,Ie)=>ee+Ie.hours,0))||0;il(p.employeeId,p.role,yt.ACCOUNTING,"convert_to_workorder","create",{quoteId:_.id,customerId:_.customerId,totalValue:_.total}),nt({type:"quote",sourceId:k,data:{customerName:K,totalHours:W,quote:_}}),ue(""),Ee(!0)},Oe=k=>{var Ae,Ce;const _=r.find(ee=>ee.id===k);if(!_)return;if(_.status!=="sent"&&_.status!=="draft"){alert("Alleen verzonden of concept facturen kunnen worden omgezet naar werkorders!");return}if(_.workOrderId){alert("Deze factuur heeft al een gekoppelde werkorder!");return}for(const ee of _.items)if(ee.inventoryItemId){const Ie=u.find(it=>it.id===ee.inventoryItemId);if(Ie&&Ie.quantity<ee.quantity&&!confirm(`Waarschuwing: Niet genoeg voorraad van ${Ie.name}. Beschikbaar: ${Ie.quantity}, Nodig: ${ee.quantity}. Toch werkorder aanmaken?`))return}const K=((Ae=c.find(ee=>ee.id===_.customerId))==null?void 0:Ae.name)||"Onbekend",W=((Ce=_.labor)==null?void 0:Ce.reduce((ee,Ie)=>ee+Ie.hours,0))||0;nt({type:"invoice",sourceId:k,data:{customerName:K,totalHours:W,invoice:_}}),ue(""),Ee(!0)},Le=k=>k?f.find(_=>_.id===k):null,Qe=k=>{if(!k)return null;switch(k.status){case"To Do":return{color:"bg-gray-100 text-gray-800 border-gray-500",icon:"",text:"Werkorder: To Do"};case"Pending":return{color:"bg-yellow-100 text-yellow-800 border-yellow-500",icon:"",text:"Werkorder: In Wacht"};case"In Progress":return{color:"bg-blue-100 text-blue-800 border-blue-500",icon:"",text:"Werkorder: In Uitvoering"};case"Completed":return{color:"bg-green-100 text-green-800 border-green-500",icon:"",text:"Werkorder: Voltooid"};default:return{color:"bg-gray-100 text-gray-800",icon:"",text:"Werkorder: Onbekend"}}},wt=k=>{ce(k),De(!0)},He=()=>{se({customerName:"",dateFrom:"",dateTo:"",minAmount:"",maxAmount:""})},ht=()=>{let k=r;switch(Z){case"paid":k=k.filter(_=>_.status==="paid");break;case"outstanding":k=k.filter(_=>["sent","overdue"].includes(_.status));break;case"overdue":k=k.filter(_=>_.status==="overdue");break}return L.customerName&&(k=k.filter(_=>Gt(_.customerId).toLowerCase().includes(L.customerName.toLowerCase()))),L.dateFrom&&(k=k.filter(_=>_.issueDate>=L.dateFrom)),L.dateTo&&(k=k.filter(_=>_.issueDate<=L.dateTo)),L.minAmount&&(k=k.filter(_=>_.total>=parseFloat(L.minAmount))),L.maxAmount&&(k=k.filter(_=>_.total<=parseFloat(L.maxAmount))),k},nn=()=>ht().reduce((k,_)=>k+_.total,0),fn=k=>{z(k),G(!0)},tr=()=>{let k=t;switch(Ne){case"approved":k=k.filter(_=>_.status==="approved");break;case"sent":k=k.filter(_=>_.status==="sent");break;case"expired":k=k.filter(_=>_.status==="expired"||_.validUntil&&new Date(_.validUntil)<new Date);break}return L.customerName&&(k=k.filter(_=>Gt(_.customerId).toLowerCase().includes(L.customerName.toLowerCase()))),L.dateFrom&&(k=k.filter(_=>_.createdDate>=L.dateFrom)),L.dateTo&&(k=k.filter(_=>_.createdDate<=L.dateTo)),L.minAmount&&(k=k.filter(_=>_.total>=parseFloat(L.minAmount))),L.maxAmount&&(k=k.filter(_=>_.total<=parseFloat(L.maxAmount))),k},Tn=()=>tr().reduce((k,_)=>k+_.total,0),Ve=()=>{if(!ct){alert("Selecteer een medewerker!");return}_e&&(_e.type==="quote"?tt(_e.sourceId,ct,_e.data):nr(_e.sourceId,ct,_e.data),Ee(!1),nt(null),ue(""))},tt=(k,_,K)=>{const W=t.find(Ie=>Ie.id===k);if(!W)return;const Ae=new Date().toISOString(),ee={id:`wo${Date.now()}`,title:`${K.customerName} - Offerte ${W.id}`,description:W.notes||`Werkorder aangemaakt vanuit offerte ${W.id}`,status:"To Do",assignedTo:_,assignedBy:p.employeeId,convertedBy:p.employeeId,requiredInventory:W.items.filter(Ie=>Ie.inventoryItemId).map(Ie=>({itemId:Ie.inventoryItemId,quantity:Ie.quantity})),createdDate:new Date().toISOString().split("T")[0],customerId:W.customerId,location:W.location,scheduledDate:W.scheduledDate,quoteId:W.id,estimatedHours:K.totalHours,estimatedCost:W.total,notes:`Geschatte uren: ${K.totalHours}u
Geschatte kosten: ${W.total.toFixed(2)}`,timestamps:{created:Ae,converted:Ae,assigned:Ae},history:[Xe("quote","created",`Werkorder aangemaakt door ${xt(p.employeeId)}`),Xe("quote","converted",`Geconverteerd van offerte ${W.id} door ${xt(p.employeeId)}`),{timestamp:Ae,action:"assigned",performedBy:p.employeeId,details:`Toegewezen aan ${xt(_)} door ${xt(p.employeeId)}`,toAssignee:_}]};m([...f,ee]),n(t.map(Ie=>Ie.id===k?{...Ie,workOrderId:ee.id,timestamps:{...Ie.timestamps,convertedToWorkOrder:Ae},history:[...Ie.history||[],Xe("quote","converted_to_workorder",`Geconverteerd naar werkorder ${ee.id} door ${xt(p.employeeId)}`)]}:Ie)),alert(` Werkorder ${ee.id} succesvol aangemaakt en toegewezen aan ${xt(_)}!`)},nr=(k,_,K)=>{const W=r.find(Ie=>Ie.id===k);if(!W)return;const Ae=new Date().toISOString(),ee={id:`wo${Date.now()}`,title:`${K.customerName} - Factuur ${K.invoice.invoiceNumber}`,description:K.invoice.notes||`Werkorder aangemaakt vanuit factuur ${K.invoice.invoiceNumber}`,status:"To Do",assignedTo:_,assignedBy:p.employeeId,convertedBy:p.employeeId,requiredInventory:K.invoice.items.filter(Ie=>Ie.inventoryItemId).map(Ie=>({itemId:Ie.inventoryItemId,quantity:Ie.quantity})),createdDate:new Date().toISOString().split("T")[0],customerId:K.invoice.customerId,location:K.invoice.location,scheduledDate:K.invoice.scheduledDate,invoiceId:W.id,estimatedHours:K.totalHours,estimatedCost:K.invoice.total,notes:`Geschatte uren: ${K.totalHours}u
Geschatte kosten: ${K.invoice.total.toFixed(2)}`,timestamps:{created:Ae,converted:Ae,assigned:Ae},history:[Xe("invoice","created",`Werkorder aangemaakt door ${xt(p.employeeId)}`),Xe("invoice","converted",`Geconverteerd van factuur ${K.invoice.invoiceNumber} door ${xt(p.employeeId)}`),{timestamp:Ae,action:"assigned",performedBy:p.employeeId,details:`Toegewezen aan ${xt(_)} door ${xt(p.employeeId)}`,toAssignee:_}]};m([...f,ee]),l(r.map(Ie=>Ie.id===k?{...Ie,workOrderId:ee.id,timestamps:{...Ie.timestamps,convertedToWorkOrder:Ae},history:[...Ie.history||[],Xe("invoice","converted_to_workorder",`Geconverteerd naar werkorder ${ee.id} door ${xt(p.employeeId)}`)]}:Ie)),alert(` Werkorder ${ee.id} succesvol aangemaakt en toegewezen aan ${xt(_)}!`)},qn=k=>{var Ce;const _=t.find(ee=>ee.id===k);if(!_||!_.workOrderId)return;const K=f.find(ee=>ee.id===_.workOrderId);if(!K)return;if(K.status==="Completed")return alert(" Deze werkorder is al voltooid. Wijzigingen zijn niet meer mogelijk (behalve notities)."),!1;if(K.status==="In Progress"&&!window.confirm(" Deze werkorder is momenteel actief. Weet je zeker dat je wijzigingen wilt doorvoeren? De toegewezen medewerker ontvangt een notificatie."))return!1;const W=((Ce=_.labor)==null?void 0:Ce.reduce((ee,Ie)=>ee+Ie.hours,0))||0,Ae={...K,requiredInventory:_.items.filter(ee=>ee.inventoryItemId).map(ee=>({itemId:ee.inventoryItemId,quantity:ee.quantity})),estimatedHours:W,estimatedCost:_.total,notes:`${K.notes||""}

[Update: ${new Date().toLocaleDateString()}] Offerte aangepast - Geschatte uren: ${W}u, Kosten: ${_.total.toFixed(2)}`};return m(f.map(ee=>ee.id===K.id?Ae:ee)),!0},Hn=k=>{var Ce;const _=r.find(ee=>ee.id===k);if(!_||!_.workOrderId)return;const K=f.find(ee=>ee.id===_.workOrderId);if(!K)return;if(K.status==="Completed")return alert(" Deze werkorder is al voltooid. Wijzigingen zijn niet meer mogelijk (behalve notities)."),!1;if(K.status==="In Progress"&&!window.confirm(" Deze werkorder is momenteel actief. Weet je zeker dat je wijzigingen wilt doorvoeren? De toegewezen medewerker ontvangt een notificatie."))return!1;const W=((Ce=_.labor)==null?void 0:Ce.reduce((ee,Ie)=>ee+Ie.hours,0))||0,Ae={...K,requiredInventory:_.items.filter(ee=>ee.inventoryItemId).map(ee=>({itemId:ee.inventoryItemId,quantity:ee.quantity})),estimatedHours:W,estimatedCost:_.total,notes:`${K.notes||""}

[Update: ${new Date().toLocaleDateString()}] Factuur aangepast - Geschatte uren: ${W}u, Kosten: ${_.total.toFixed(2)}`};return m(f.map(ee=>ee.id===K.id?Ae:ee)),!0},Tr=()=>{const k={inventoryItemId:"",description:"",quantity:1,pricePerUnit:0,total:0};We({...ye,items:[...ye.items,k]})},Zr=()=>{const k={description:"",quantity:1,pricePerUnit:0,total:0};We({...ye,items:[...ye.items,k]})},Na=()=>{const k={description:"",hours:1,hourlyRate:50,total:50};We({...ye,labor:[...ye.labor,k]})},Dn=k=>{We({...ye,items:ye.items.filter((_,K)=>K!==k)})},Bt=k=>{We({...ye,labor:ye.labor.filter((_,K)=>K!==k)})},Jr=(k,_)=>{const K=u.find(W=>W.id===_);if(K){const W=[...ye.items];W[k]={...W[k],inventoryItemId:_,description:K.name,pricePerUnit:K.price||0,total:W[k].quantity*(K.price||0)},We({...ye,items:W})}},rr=(k,_,K)=>{const W=[...ye.items];W[k]={...W[k],[_]:K},(_==="quantity"||_==="pricePerUnit")&&(W[k].total=W[k].quantity*W[k].pricePerUnit),We({...ye,items:W})},En=(k,_,K)=>{const W=[...ye.labor];W[k]={...W[k],[_]:K},(_==="hours"||_==="hourlyRate")&&(W[k].total=W[k].hours*W[k].hourlyRate),We({...ye,labor:W})},_s=()=>{var ee;if(!ye.customerId||ye.items.length===0||!ye.issueDate||!ye.dueDate){alert("Vul alle verplichte velden in!");return}const{subtotal:k,vatAmount:_,total:K}=dr(),W=new Date().toISOString(),Ae=Gt(ye.customerId);if(X){const Ie=r.find(fr=>fr.id===X);if(!Ie)return;const it={...Ie,customerId:ye.customerId,items:ye.items,labor:ye.labor.length>0?ye.labor:void 0,subtotal:k,vatRate:ye.vatRate,vatAmount:_,total:K,issueDate:ye.issueDate,dueDate:ye.dueDate,notes:ye.notes,paymentTerms:ye.paymentTerms,history:[...Ie.history||[],Xe("invoice","updated",`Factuur bijgewerkt door ${xt(p.employeeId)}`)]};J(it),le(null),R(!1),We({customerId:"",items:[],labor:[],vatRate:21,notes:"",paymentTerms:"14 dagen",issueDate:"",dueDate:""}),alert(` Factuur ${it.invoiceNumber} succesvol bijgewerkt!`);return}const Ce={id:`inv${Date.now()}`,invoiceNumber:ba(),customerId:ye.customerId,items:ye.items,labor:ye.labor.length>0?ye.labor:void 0,subtotal:k,vatRate:ye.vatRate,vatAmount:_,total:K,status:"draft",issueDate:ye.issueDate,dueDate:ye.dueDate,notes:ye.notes,paymentTerms:ye.paymentTerms,createdBy:p.employeeId,timestamps:{created:W},history:[Xe("invoice","created",`Factuur aangemaakt door ${xt(p.employeeId)} voor klant ${Ae}`)]};l([...r,Ce]),We({customerId:"",items:[],labor:[],vatRate:21,notes:"",paymentTerms:"14 dagen",issueDate:"",dueDate:""}),R(!1),il(p.employeeId,p.role,yt.ACCOUNTING,"create_invoice","create",{invoiceNumber:Ce.invoiceNumber,customerId:Ce.customerId,total:Ce.total,itemsCount:Ce.items.length,laborCount:((ee=Ce.labor)==null?void 0:ee.length)||0}),alert(` Factuur ${Ce.invoiceNumber} succesvol aangemaakt!`)},Is=k=>!!(k.workOrderId||k.notes&&k.notes.includes("Factuur aangemaakt automatisch")),Hi=k=>{const _=r.find(K=>K.id===k);return _!=null&&_.workOrderId?f.find(K=>K.id===_.workOrderId):null},Pa=(k,_)=>{const K=r.find(W=>W.id===k);if(K){if(_==="sent"&&K.status==="draft"&&Is(K)){bt(K),be({hoursChecked:!1,materialsChecked:!1,extraWorkAdded:!1}),Ye(!0);return}l(r.map(W=>{if(W.id===k){const Ae=new Date().toISOString(),Ce=W.status,ee={status:_,history:[...W.history||[],Xe("invoice",_,`Status gewijzigd van "${Ce}" naar "${_}" door ${xt(p.employeeId)}`,{fromStatus:Ce,toStatus:_})]};return W.timestamps?ee.timestamps={...W.timestamps}:ee.timestamps={created:W.issueDate},_==="sent"&&!ee.timestamps.sent?(ee.timestamps.sent=Ae,il(p.employeeId,p.role,yt.ACCOUNTING,"validate_invoice","complete",{invoiceId:W.id,invoiceNumber:W.invoiceNumber,wasAutoGenerated:Is(W)})):_==="paid"&&(ee.paidDate=new Date().toISOString().split("T")[0],ee.timestamps.paid=Ae,il(p.employeeId,p.role,yt.ACCOUNTING,"mark_invoice_paid","complete",{invoiceId:W.id,invoiceNumber:W.invoiceNumber,total:W.total})),{...W,...ee}}return W}))}},T=()=>{if(me){if(!qe.hoursChecked||!qe.materialsChecked){alert(" Controleer minimaal de uren en materialen voordat u verzendt.");return}Pa(me.id,"sent"),Ye(!1),bt(null),be({hoursChecked:!1,materialsChecked:!1,extraWorkAdded:!1})}},V=k=>{const _=r.find(W=>W.id===k);if(!_)return;We({customerId:_.customerId,items:_.items,labor:_.labor||[],vatRate:_.vatRate,notes:_.notes||"",paymentTerms:_.paymentTerms||"14 dagen",issueDate:_.issueDate,dueDate:_.dueDate}),le(k),y("invoices"),R(!0)},J=k=>{l(r.map(_=>_.id===k.id?k:_)),k.workOrderId&&Hn(k.id)&&alert(" Factuur en werkorder succesvol gesynchroniseerd!")},je=k=>{confirm("Weet je zeker dat je deze factuur wilt verwijderen?")&&l(r.filter(_=>_.id!==k))},dt=k=>{const _=t.find(K=>K.id===k);_&&(lt({customerId:_.customerId,items:_.items,labor:_.labor||[],vatRate:_.vatRate,notes:_.notes||"",validUntil:""}),B(!0))},Nt=()=>{if(!ge.customerId||ge.items.length===0||!ge.validUntil){alert("Vul alle verplichte velden in (klant, minimaal 1 item, en geldig tot datum)!");return}const{subtotal:k,vatAmount:_,total:K}=An(),W=new Date().toISOString(),Ae=Gt(ge.customerId),Ce={id:`Q${Date.now()}`,customerId:ge.customerId,items:ge.items,labor:ge.labor.length>0?ge.labor:void 0,subtotal:k,vatRate:ge.vatRate,vatAmount:_,total:K,status:"draft",createdDate:new Date().toISOString().split("T")[0],validUntil:ge.validUntil,notes:ge.notes,createdBy:p.employeeId,timestamps:{created:W},history:[Xe("quote","created",`Offerte gecloneerd door ${xt(p.employeeId)} voor klant ${Ae}`)]};n([...t,Ce]),lt({customerId:"",items:[],labor:[],vatRate:21,notes:"",validUntil:""}),B(!1),alert(` Offerte ${Ce.id} succesvol gecloneerd!`),setTimeout(()=>{const ee=document.getElementById(Ce.id);ee==null||ee.scrollIntoView({behavior:"smooth",block:"center"})},100)},Pt=k=>{const _=r.find(Ae=>Ae.id===k);if(!_)return;const K=new Date().toISOString().split("T")[0],W=new Date;W.setDate(W.getDate()+14),We({customerId:_.customerId,items:_.items,labor:_.labor||[],vatRate:_.vatRate,notes:_.notes||"",paymentTerms:_.paymentTerms,issueDate:K,dueDate:W.toISOString().split("T")[0]}),Y(!0)},St=(k=!1)=>{var Ie;if(!ye.customerId||ye.items.length===0||!ye.issueDate||!ye.dueDate){alert("Vul alle verplichte velden in!");return}const{subtotal:_,vatAmount:K,total:W}=dr(),Ae=new Date().toISOString(),Ce=Gt(ye.customerId),ee={id:`inv${Date.now()}`,invoiceNumber:ba(),customerId:ye.customerId,items:ye.items,labor:ye.labor.length>0?ye.labor:void 0,subtotal:_,vatRate:ye.vatRate,vatAmount:K,total:W,status:"draft",issueDate:ye.issueDate,dueDate:ye.dueDate,notes:ye.notes,paymentTerms:ye.paymentTerms,createdBy:p.employeeId,timestamps:{created:Ae},history:[Xe("invoice","created",`Factuur gecloneerd door ${xt(p.employeeId)} voor klant ${Ce}`)]};if(l([...r,ee]),ye.customerId,ye.items,ye.labor,ye.vatRate,ye.notes,ye.paymentTerms,ye.issueDate,ye.dueDate,We({customerId:"",items:[],labor:[],vatRate:21,notes:"",paymentTerms:"14 dagen",issueDate:"",dueDate:""}),Y(!1),k){const it=((Ie=ee.labor)==null?void 0:Ie.reduce((fr,Sa)=>fr+Sa.hours,0))||0;nt({type:"invoice",sourceId:ee.id,data:{customerName:Ce,totalHours:it,invoice:ee}}),ue(""),Ee(!0)}else alert(` Factuur ${ee.invoiceNumber} succesvol gecloneerd!`),setTimeout(()=>{const it=document.getElementById(ee.id);it==null||it.scrollIntoView({behavior:"smooth",block:"center"})},100)},ut=()=>{St(!0)};return i.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-neutral mb-2",children:"Boekhouding, Offertes & Facturen"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-4 sm:mb-8",children:"Genereer offertes, facturen en beheer financile gegevens"}),Te&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-0 sm:p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-none sm:rounded-lg shadow-2xl w-full sm:max-w-6xl sm:w-full h-full sm:h-auto sm:my-8 sm:max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-neutral flex items-center gap-3",children:[Z==="all"&&" Totaal Gefactureerd",Z==="paid"&&" Betaalde Facturen",Z==="outstanding"&&" Uitstaande Facturen",Z==="overdue"&&" Verlopen Facturen"]}),i.jsx("button",{onClick:()=>{De(!1),He()},className:"text-gray-500 hover:text-gray-700 text-3xl font-bold",children:""})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[i.jsx("h3",{className:"font-semibold text-lg mb-3 flex items-center gap-2",children:" Filters"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Klantnaam"}),i.jsx("input",{type:"text",value:L.customerName,onChange:k=>se({...L,customerName:k.target.value}),placeholder:"Zoek op klantnaam...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Datum vanaf"}),i.jsx("input",{type:"date",value:L.dateFrom,onChange:k=>se({...L,dateFrom:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Datum tot"}),i.jsx("input",{type:"date",value:L.dateTo,onChange:k=>se({...L,dateTo:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min. Bedrag ()"}),i.jsx("input",{type:"number",value:L.minAmount,onChange:k=>se({...L,minAmount:k.target.value}),placeholder:"0.00",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max. Bedrag ()"}),i.jsx("input",{type:"number",value:L.maxAmount,onChange:k=>se({...L,maxAmount:k.target.value}),placeholder:"0.00",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsx("div",{className:"flex items-end",children:i.jsx("button",{onClick:He,className:"w-full px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors font-semibold",children:" Reset Filters"})})]})]}),i.jsxs("div",{className:"bg-blue-50 border-2 border-blue-300 p-4 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"Totaal Gefilterd:"}),i.jsxs("span",{className:"text-3xl font-bold text-blue-600",children:["",nn().toFixed(2)]})]}),i.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[ht().length," facturen gevonden"]})]})]}),i.jsx("div",{className:"p-4 sm:p-6 max-h-96 overflow-y-auto",children:ht().length===0?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500 text-lg",children:" Geen facturen gevonden met deze filters"})}):i.jsx("div",{className:"space-y-3",children:ht().map(k=>{const _=Le(k.workOrderId),K=Qe(_);return i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow bg-white",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-2xl",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-lg text-gray-800",children:k.invoiceNumber}),i.jsx("p",{className:"text-sm text-gray-600",children:Gt(k.customerId)})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-2xl font-bold text-primary",children:["",k.total.toFixed(2)]}),i.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${er(k.status)}`,children:k.status})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-gray-600 mt-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Factuurdatum:"}),i.jsx("p",{children:k.issueDate})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Vervaldatum:"}),i.jsx("p",{children:k.dueDate})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Betalingstermijn:"}),i.jsx("p",{children:k.paymentTerms})]}),k.paidDate&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Betaald op:"}),i.jsx("p",{children:k.paidDate})]})]}),K&&i.jsx("div",{className:"mt-3",children:i.jsxs("span",{className:`inline-block px-3 py-1 rounded-lg text-xs font-semibold border-2 ${K.color}`,children:[K.icon," ",K.text]})}),k.notes&&i.jsxs("div",{className:"mt-3 p-2 bg-gray-50 rounded text-sm text-gray-700",children:[i.jsx("strong",{children:"Notities:"})," ",k.notes]}),i.jsxs("div",{className:"mt-4 flex gap-2 flex-wrap",children:[i.jsx("button",{onClick:()=>{De(!1),V(k.id)},className:"flex-1 px-3 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 transition-colors font-semibold",title:"Factuur bewerken",children:" Bewerken"}),i.jsx("button",{onClick:()=>{De(!1),Pt(k.id)},className:"flex-1 px-3 py-2 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600 transition-colors font-semibold",title:"Factuur clonen",children:" Clonen"}),(k.status==="sent"||k.status==="draft")&&!k.workOrderId&&i.jsx("button",{onClick:()=>{De(!1),Oe(k.id)},className:"flex-1 px-3 py-2 bg-orange-500 text-white text-sm rounded-lg hover:bg-orange-600 transition-colors font-semibold",title:"Verzend naar werkorder",children:" Naar Werkorder"})]})]},k.id)})})}),i.jsx("div",{className:"p-4 sm:p-6 border-t border-gray-200 bg-gray-50",children:i.jsx("button",{onClick:()=>{De(!1),He()},className:"w-full px-6 py-3 bg-primary text-white rounded-lg hover:bg-secondary transition-colors font-semibold",children:" Sluiten"})})]})}),ve&&_e&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full p-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-neutral mb-4",children:" Medewerker Toewijzen"}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("p",{className:"text-gray-700 mb-4",children:["Je gaat een werkorder aanmaken van deze"," ",_e.type==="quote"?"offerte":"factuur",". Aan welke medewerker wil je deze werkorder toewijzen?"]}),i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"text-sm font-semibold text-blue-800",children:"Werkorder Details"})]}),i.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Klant:"})," ",_e.data.customerName]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Geschatte uren:"})," ",_e.data.totalHours,"u"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Waarde:"})," ",_e.type==="quote"?_e.data.quote.total.toFixed(2):_e.data.invoice.total.toFixed(2)]})]})]}),i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecteer Medewerker *"}),i.jsxs("select",{value:ct,onChange:k=>ue(k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"-- Kies een medewerker --"}),h.map(k=>i.jsxs("option",{value:k.id,children:[k.name," - ",k.role]},k.id))]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:Ve,disabled:!ct,className:`flex-1 px-6 py-3 rounded-lg font-semibold transition-colors ${ct?"bg-primary text-white hover:bg-secondary":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:" Werkorder Aanmaken"}),i.jsx("button",{onClick:()=>{Ee(!1),nt(null),ue("")},className:"px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors font-semibold",children:"Annuleren"})]})]})}),ke&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-6xl w-full my-8",children:[i.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-neutral flex items-center gap-3",children:[Ne==="all"&&" Totaal Geoffreerd",Ne==="approved"&&" Geaccepteerde Offertes",Ne==="sent"&&" Verzonden Offertes",Ne==="expired"&&" Verlopen Offertes"]}),i.jsx("button",{onClick:()=>{G(!1),He()},className:"text-gray-500 hover:text-gray-700 text-3xl font-bold",children:""})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[i.jsx("h3",{className:"font-semibold text-lg mb-3 flex items-center gap-2",children:" Filters"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Klantnaam"}),i.jsx("input",{type:"text",value:L.customerName,onChange:k=>se({...L,customerName:k.target.value}),placeholder:"Zoek op klantnaam...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Datum vanaf"}),i.jsx("input",{type:"date",value:L.dateFrom,onChange:k=>se({...L,dateFrom:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Datum tot"}),i.jsx("input",{type:"date",value:L.dateTo,onChange:k=>se({...L,dateTo:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min. Bedrag ()"}),i.jsx("input",{type:"number",value:L.minAmount,onChange:k=>se({...L,minAmount:k.target.value}),placeholder:"0.00",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max. Bedrag ()"}),i.jsx("input",{type:"number",value:L.maxAmount,onChange:k=>se({...L,maxAmount:k.target.value}),placeholder:"0.00",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsx("div",{className:"flex items-end",children:i.jsx("button",{onClick:He,className:"w-full px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors font-semibold",children:" Reset Filters"})})]})]}),i.jsxs("div",{className:"bg-blue-50 border-2 border-blue-300 p-4 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"Totaal Gefilterd:"}),i.jsxs("span",{className:"text-3xl font-bold text-blue-600",children:["",Tn().toFixed(2)]})]}),i.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[tr().length," offertes gevonden"]})]})]}),i.jsx("div",{className:"p-4 sm:p-6 max-h-96 overflow-y-auto",children:tr().length===0?i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500 text-lg",children:" Geen offertes gevonden met deze filters"})}):i.jsx("div",{className:"space-y-3",children:tr().map(k=>{const _=Le(k.workOrderId),K=Qe(_);return i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow bg-white",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-2xl",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-lg text-gray-800",children:k.id}),i.jsx("p",{className:"text-sm text-gray-600",children:Gt(k.customerId)})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-2xl font-bold text-primary",children:["",k.total.toFixed(2)]}),i.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${jt(k.status)}`,children:k.status})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm text-gray-600 mt-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Aangemaakt:"}),i.jsx("p",{children:k.createdDate})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Geldig tot:"}),i.jsx("p",{children:k.validUntil})]}),K&&i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Werkorder:"}),i.jsx("p",{children:K.text})]})]}),K&&i.jsx("div",{className:"mt-3",children:i.jsxs("span",{className:`inline-block px-3 py-1 rounded-lg text-xs font-semibold border-2 ${K.color}`,children:[K.icon," ",K.text]})}),k.notes&&i.jsxs("div",{className:"mt-3 p-2 bg-gray-50 rounded text-sm text-gray-700",children:[i.jsx("strong",{children:"Notities:"})," ",k.notes]}),i.jsxs("div",{className:"mt-4 flex gap-2 flex-wrap",children:[i.jsx("button",{onClick:()=>{G(!1),wa(k.id)},className:"flex-1 px-3 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 transition-colors font-semibold",title:"Offerte bewerken",children:" Bewerken"}),i.jsx("button",{onClick:()=>{G(!1),dt(k.id)},className:"flex-1 px-3 py-2 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600 transition-colors font-semibold",title:"Offerte clonen",children:" Clonen"}),(k.status==="approved"||k.status==="sent")&&!k.workOrderId&&i.jsx("button",{onClick:()=>{G(!1),ie(k.id)},className:"flex-1 px-3 py-2 bg-orange-500 text-white text-sm rounded-lg hover:bg-orange-600 transition-colors font-semibold",title:"Verzend naar werkorder",children:" Naar Werkorder"})]})]},k.id)})})}),i.jsx("div",{className:"p-4 sm:p-6 border-t border-gray-200 bg-gray-50",children:i.jsx("button",{onClick:()=>{G(!1),He()},className:"w-full px-6 py-3 bg-primary text-white rounded-lg hover:bg-secondary transition-colors font-semibold",children:" Sluiten"})})]})}),M&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-none sm:rounded-lg shadow-xl w-full sm:max-w-4xl sm:w-full h-full sm:h-auto p-4 sm:p-6 sm:my-8 overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-neutral",children:" Offerte Clonen"}),i.jsx("button",{onClick:()=>B(!1),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:i.jsxs("p",{className:"text-sm text-blue-800",children:[" ",i.jsx("strong",{children:"Tip:"})," Alle velden zijn aanpasbaar. Het nieuwe offerte krijgt automatisch een uniek Q-nummer en de datum wordt op vandaag gezet."]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Klant *"}),i.jsxs("select",{value:ge.customerId,onChange:k=>lt({...ge,customerId:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Selecteer klant"}),c.map(k=>i.jsx("option",{value:k.id,children:k.name},k.id))]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BTW Tarief (%)"}),i.jsx("input",{type:"number",value:ge.vatRate,onChange:k=>lt({...ge,vatRate:Number(k.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Geldig Tot *"}),i.jsx("input",{type:"date",value:ge.validUntil,onChange:k=>lt({...ge,validUntil:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notities"}),i.jsx("textarea",{value:ge.notes,onChange:k=>lt({...ge,notes:k.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Extra opmerkingen..."})]}),ge.items.length>0&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Subtotaal:"}),i.jsxs("span",{className:"font-semibold",children:["",An().subtotal.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-gray-600",children:["BTW (",ge.vatRate,"%):"]}),i.jsxs("span",{className:"font-semibold",children:["",An().vatAmount.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[i.jsx("span",{children:"Totaal:"}),i.jsxs("span",{className:"text-primary",children:["",An().total.toFixed(2)]})]})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx("button",{onClick:Nt,className:"flex-1 px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold",children:" Gecloneerde Offerte Opslaan"}),i.jsx("button",{onClick:()=>B(!1),className:"px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors font-semibold",children:"Annuleren"})]})]})}),$&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-none sm:rounded-lg shadow-xl w-full sm:max-w-4xl sm:w-full h-full sm:h-auto p-4 sm:p-6 sm:my-8 overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-neutral",children:" Factuur Clonen"}),i.jsx("button",{onClick:()=>Y(!1),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:i.jsxs("p",{className:"text-sm text-blue-800",children:[" ",i.jsx("strong",{children:"Tip:"})," De nieuwe factuur krijgt automatisch een nieuw factuurnummer en de datum wordt op vandaag gezet."]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Klant *"}),i.jsxs("select",{value:ye.customerId,onChange:k=>We({...ye,customerId:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Selecteer klant"}),c.map(k=>i.jsx("option",{value:k.id,children:k.name},k.id))]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Factuurdatum *"}),i.jsx("input",{type:"date",value:ye.issueDate,onChange:k=>We({...ye,issueDate:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vervaldatum *"}),i.jsx("input",{type:"date",value:ye.dueDate,onChange:k=>We({...ye,dueDate:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BTW Tarief (%)"}),i.jsx("input",{type:"number",value:ye.vatRate,onChange:k=>We({...ye,vatRate:Number(k.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Betalingstermijn"}),i.jsx("input",{type:"text",value:ye.paymentTerms,onChange:k=>We({...ye,paymentTerms:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"14 dagen"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notities"}),i.jsx("textarea",{value:ye.notes,onChange:k=>We({...ye,notes:k.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Extra opmerkingen..."})]}),ye.items.length>0&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Subtotaal:"}),i.jsxs("span",{className:"font-semibold",children:["",dr().subtotal.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-gray-600",children:["BTW (",ye.vatRate,"%):"]}),i.jsxs("span",{className:"font-semibold",children:["",dr().vatAmount.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[i.jsx("span",{children:"Totaal:"}),i.jsxs("span",{className:"text-primary",children:["",dr().total.toFixed(2)]})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:St,className:"flex-1 px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold",children:" Gecloneerde Factuur Opslaan"}),i.jsx("button",{onClick:()=>Y(!1),className:"px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors font-semibold",children:"Annuleren"})]}),i.jsx("button",{onClick:ut,className:"w-full px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-semibold flex items-center justify-center gap-2",children:" Opslaan en naar Werkorder Sturen"})]})]})}),i.jsxs("div",{className:"flex gap-2 sm:gap-3 mb-6 sm:mb-8 flex-wrap",children:[i.jsx("button",{onClick:()=>{y("dashboard"),w(null)},className:`px-4 sm:px-6 py-2 rounded-lg font-medium transition-colors text-sm sm:text-base ${b==="dashboard"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" Dashboard"}),i.jsx("button",{onClick:()=>y("transactions"),className:`px-4 sm:px-6 py-2 rounded-lg font-medium transition-colors text-sm sm:text-base ${b==="transactions"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" Transacties"}),i.jsx("button",{onClick:()=>y("quotes"),className:`px-4 sm:px-6 py-2 rounded-lg font-medium transition-colors text-sm sm:text-base ${b==="quotes"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" Offertes"}),i.jsx("button",{onClick:()=>y("invoices"),className:`px-4 sm:px-6 py-2 rounded-lg font-medium transition-colors text-sm sm:text-base ${b==="invoices"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" Facturen"})]}),b!=="dashboard"&&i.jsxs("button",{onClick:()=>{y("dashboard"),w(null)},className:"flex items-center gap-2 text-primary hover:text-secondary transition-colors mb-4",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Terug naar Dashboard"]}),b==="dashboard"&&i.jsx(Wt,{invoices:r,quotes:t,transactions:e,customers:c,onNavigate:(k,_)=>{w(k),k==="invoices"?(y("invoices"),_!=null&&_.overviewType&&(ce(_.overviewType),De(!0))):k==="quotes"?(y("quotes"),_!=null&&_.overviewType&&(z(_.overviewType),G(!0))):y(k)}}),b==="transactions"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Totale Inkomsten"}),i.jsxs("p",{className:"text-2xl font-bold text-green-600 mt-1",children:["",Xt.toFixed(2)]})]}),i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 11l5-5m0 0l5 5m-5-5v12"})})})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Totale Uitgaven"}),i.jsxs("p",{className:"text-2xl font-bold text-red-600 mt-1",children:["",Wa.toFixed(2)]})]}),i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 13l-5 5m0 0l-5-5m5 5V6"})})})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Netto Winst"}),i.jsxs("p",{className:`text-2xl font-bold mt-1 ${Es>=0?"text-green-600":"text-red-600"}`,children:["",Es.toFixed(2)]})]}),i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})})]})})]}),i.jsxs("div",{className:"flex gap-3 mb-6",children:[i.jsx("button",{onClick:()=>D("all"),className:`px-6 py-2 rounded-lg font-medium transition-colors ${S==="all"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Alle"}),i.jsx("button",{onClick:()=>D("income"),className:`px-6 py-2 rounded-lg font-medium transition-colors ${S==="income"?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Inkomsten"}),i.jsx("button",{onClick:()=>D("expense"),className:`px-6 py-2 rounded-lg font-medium transition-colors ${S==="expense"?"bg-red-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Uitgaven"})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Datum"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Beschrijving"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Type"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase",children:"Bedrag"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:Wr.map(k=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:k.date}),i.jsx("td",{className:"px-6 py-4 text-sm font-medium text-neutral",children:k.description}),i.jsx("td",{className:"px-6 py-4 text-sm",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${k.type==="income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.type==="income"?"Inkomst":"Uitgave"})}),i.jsxs("td",{className:`px-6 py-4 text-sm font-semibold text-right ${k.type==="income"?"text-green-600":"text-red-600"}`,children:[k.type==="income"?"+":"-","",Math.abs(k.amount).toFixed(2)]})]},k.id))})]})})]}),b==="quotes"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[i.jsx("button",{onClick:()=>fn("all"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all transform hover:scale-105 cursor-pointer text-left",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Totaal Geoffreerd"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:["",Ar.toFixed(2)]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[t.length," offertes"]})]}),i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-2xl",children:""})})]})}),i.jsx("button",{onClick:()=>fn("approved"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all transform hover:scale-105 cursor-pointer text-left",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Geaccepteerd"}),i.jsxs("p",{className:"text-2xl font-bold text-green-600 mt-1",children:["",et.toFixed(2)]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Jn.length," offertes"]})]}),i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-2xl",children:""})})]})}),i.jsx("button",{onClick:()=>fn("sent"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all transform hover:scale-105 cursor-pointer text-left",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Verzonden"}),i.jsxs("p",{className:"text-2xl font-bold text-orange-600 mt-1",children:["",It.toFixed(2)]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[_t.length," offertes"]})]}),i.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-2xl",children:""})})]})}),i.jsx("button",{onClick:()=>fn("expired"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all transform hover:scale-105 cursor-pointer text-left",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Verlopen"}),i.jsxs("p",{className:"text-2xl font-bold text-red-600 mt-1",children:["",Ft.toFixed(2)]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Be.length," offertes"]})]}),i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-2xl",children:""})})]})})]}),i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:["Totaal: ",t.length," offertes"]}),x&&i.jsx("button",{onClick:()=>O(!P),className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"+ Nieuwe Offerte"})]}),P&&x&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Nieuwe Offerte"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("select",{value:ge.customerId,onChange:k=>lt({...ge,customerId:k.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Selecteer klant *"}),c.map(k=>i.jsx("option",{value:k.id,children:k.name},k.id))]}),i.jsx("input",{type:"date",value:ge.validUntil,onChange:k=>lt({...ge,validUntil:k.target.value}),placeholder:"Geldig tot *",className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"BTW:"}),i.jsx("input",{type:"number",value:ge.vatRate,onChange:k=>lt({...ge,vatRate:parseFloat(k.target.value)||0}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",step:"0.1"}),i.jsx("span",{className:"text-gray-600",children:"%"})]})]}),i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-neutral",children:"Items"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:Ia,className:"px-4 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600",children:"+ Uit Voorraad"}),i.jsx("button",{onClick:Yr,className:"px-4 py-2 bg-gray-500 text-white text-sm rounded-lg hover:bg-gray-600",children:"+ Custom Item"})]})]}),ge.items.map((k,_)=>i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-3 bg-gray-50 rounded-lg",children:[k.inventoryItemId!==void 0?i.jsxs("select",{value:k.inventoryItemId,onChange:K=>Qa(_,K.target.value),className:"col-span-5 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Selecteer voorraad item"}),u.filter(K=>K.price&&K.price>0).map(K=>{var W;return i.jsxs("option",{value:K.id,children:[K.name," (",K.sku,") - ",(W=K.price)==null?void 0:W.toFixed(2)]},K.id)})]}):i.jsx("input",{type:"text",placeholder:"Beschrijving",value:k.description,onChange:K=>Xr(_,"description",K.target.value),className:"col-span-5 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"number",placeholder:"Aantal",value:k.quantity,onChange:K=>Xr(_,"quantity",parseInt(K.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",min:"1"}),i.jsx("input",{type:"number",placeholder:"Prijs/stuk",value:k.pricePerUnit,onChange:K=>Xr(_,"pricePerUnit",parseFloat(K.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",step:"0.01",disabled:!!k.inventoryItemId}),i.jsxs("div",{className:"col-span-2 text-right font-medium text-gray-700",children:["",k.total.toFixed(2)]}),i.jsx("button",{onClick:()=>Ya(_),className:"col-span-1 px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:""})]},_))]}),i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-neutral",children:"Werkuren (optioneel)"}),i.jsx("button",{onClick:Qr,className:"px-4 py-2 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600",children:"+ Werkuren Toevoegen"})]}),ge.labor.map((k,_)=>i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-3 bg-green-50 rounded-lg",children:[i.jsx("input",{type:"text",placeholder:"Beschrijving werkzaamheden",value:k.description,onChange:K=>ja(_,"description",K.target.value),className:"col-span-5 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"number",placeholder:"Uren",value:k.hours,onChange:K=>ja(_,"hours",parseFloat(K.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",step:"0.5",min:"0"}),i.jsx("input",{type:"number",placeholder:"Uurtarief",value:k.hourlyRate,onChange:K=>ja(_,"hourlyRate",parseFloat(K.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",step:"0.01"}),i.jsxs("div",{className:"col-span-2 text-right font-medium text-gray-700",children:["",k.total.toFixed(2)]}),i.jsx("button",{onClick:()=>qi(_),className:"col-span-1 px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:""})]},_))]}),i.jsx("textarea",{placeholder:"Notities (optioneel)",value:ge.notes,onChange:k=>lt({...ge,notes:k.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary mb-4"}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-gray-700",children:[i.jsx("span",{children:"Subtotaal (excl. BTW):"}),i.jsxs("span",{className:"font-semibold",children:["",An().subtotal.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-gray-700",children:[i.jsxs("span",{children:["BTW (",ge.vatRate,"%):"]}),i.jsxs("span",{className:"font-semibold",children:["",An().vatAmount.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-xl font-bold text-primary border-t pt-2",children:[i.jsx("span",{children:"Totaal (incl. BTW):"}),i.jsxs("span",{children:["",An().total.toFixed(2)]})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:Xa,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:he?"Offerte Bijwerken":"Offerte Aanmaken"}),i.jsx("button",{onClick:()=>{O(!1),we(null),lt({customerId:"",items:[],labor:[],vatRate:21,notes:"",validUntil:""})},className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Annuleren"})]})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(k=>{const _=Le(k.workOrderId),K=Qe(_),W=(_==null?void 0:_.status)==="Completed";return i.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 ${W?"border-l-4 border-green-500":""}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-lg text-neutral",children:k.id}),i.jsx("p",{className:"text-sm text-gray-600",children:Gt(k.customerId)}),K&&i.jsxs("button",{onClick:()=>{alert(`Werkorder ID: ${k.workOrderId}`)},className:`mt-2 px-3 py-1 rounded-full text-xs font-semibold border-2 ${K.color} hover:opacity-80 transition-opacity cursor-pointer`,title:"Klik om naar werkorder te gaan",children:[K.icon," ",K.text]})]}),i.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${jt(k.status)}`,children:[k.status==="draft"&&"Concept",k.status==="sent"&&"Verzonden",k.status==="approved"&&"Geaccepteerd",k.status==="rejected"&&"Afgewezen",k.status==="expired"&&"Verlopen"]})]}),i.jsxs("div",{className:"space-y-2 mb-3",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Items:"}),k.items.map((Ae,Ce)=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-gray-700",children:[Ae.inventoryItemId?gn(Ae.inventoryItemId):Ae.description,i.jsxs("span",{className:"text-gray-500",children:[" ","(",Ae.quantity,")"]})]}),i.jsxs("span",{className:"font-medium",children:["",Ae.total.toFixed(2)]})]},Ce))]}),k.labor&&k.labor.length>0&&i.jsxs("div",{className:"space-y-2 mb-3 border-t pt-3",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Werkuren:"}),k.labor.map((Ae,Ce)=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-gray-700",children:[Ae.description,i.jsxs("span",{className:"text-gray-500",children:[" ","(",Ae.hours,"u @ ",Ae.hourlyRate,"/u)"]})]}),i.jsxs("span",{className:"font-medium",children:["",Ae.total.toFixed(2)]})]},Ce))]}),i.jsxs("div",{className:"border-t pt-3 mb-4 space-y-1",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[i.jsx("span",{children:"Subtotaal (excl. BTW):"}),i.jsxs("span",{children:["",k.subtotal.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[i.jsxs("span",{children:["BTW (",k.vatRate,"%):"]}),i.jsxs("span",{children:["",k.vatAmount.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsx("span",{className:"font-semibold text-neutral",children:"Totaal (incl. BTW):"}),i.jsxs("span",{className:"text-xl font-bold text-primary",children:["",k.total.toFixed(2)]})]})]}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-4",children:[i.jsxs("span",{children:["Aangemaakt: ",k.createdDate]}),i.jsxs("span",{children:["Geldig tot: ",k.validUntil]})]}),k.notes&&i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg mb-4",children:i.jsx("p",{className:"text-sm text-gray-700",children:k.notes})}),W&&_&&i.jsxs("div",{className:"p-3 bg-green-50 rounded-lg mb-4 border border-green-200",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"text-sm font-semibold text-green-700",children:"Werkorder Voltooid"})]}),_.hoursSpent!==void 0&&_.estimatedHours&&i.jsxs("p",{className:"text-xs text-gray-700",children:[" Gewerkt: ",_.hoursSpent,"u (Geschat:"," ",_.estimatedHours,"u)",_.hoursSpent!==_.estimatedHours&&i.jsxs("span",{className:`ml-2 font-semibold ${_.hoursSpent<=_.estimatedHours*1.1?"text-green-600":_.hoursSpent<=_.estimatedHours*1.25?"text-orange-600":"text-red-600"}`,children:["(",Math.round(_.hoursSpent/_.estimatedHours*100),"%)"]})]})]}),k.workOrderId&&_&&_.status!=="Completed"&&x&&i.jsx("div",{className:"p-3 bg-blue-50 rounded-lg mb-4 border border-blue-200",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"text-xs font-medium text-blue-800",children:" Deze offerte is gekoppeld aan een actieve werkorder. Wijzigingen worden automatisch gesynchroniseerd."})]})})}),x&&i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[k.status==="draft"&&i.jsx("button",{onClick:()=>A(k.id,"sent"),className:"flex-1 px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600",children:"Verzenden"}),k.status==="sent"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>A(k.id,"approved"),className:"flex-1 px-3 py-2 bg-green-500 text-white text-sm rounded hover:bg-green-600",children:"Accepteren"}),i.jsx("button",{onClick:()=>A(k.id,"rejected"),className:"flex-1 px-3 py-2 bg-red-500 text-white text-sm rounded hover:bg-red-600",children:"Afwijzen"})]}),k.status==="approved"&&!k.workOrderId&&i.jsx("button",{onClick:()=>ie(k.id),className:"flex-1 px-3 py-2 bg-orange-500 text-white text-sm rounded hover:bg-orange-600 font-semibold",children:" Maak Werkorder"}),k.status==="approved"&&i.jsx("button",{onClick:()=>q(k.id),className:"flex-1 px-3 py-2 bg-purple-500 text-white text-sm rounded hover:bg-purple-600 font-semibold",children:" Omzetten naar Factuur"}),i.jsx("button",{onClick:()=>dt(k.id),className:"px-3 py-2 bg-green-500 text-white text-sm rounded hover:bg-green-600 font-semibold",title:"Offerte clonen",children:" Clonen"}),i.jsx("button",{onClick:()=>F(k.id),className:"px-3 py-2 bg-gray-500 text-white text-sm rounded hover:bg-gray-600",children:"Verwijder"})]})]},k.id)})}),t.length===0&&i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500",children:"Geen offertes gevonden"})})]}),b==="invoices"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[i.jsx("button",{onClick:()=>wt("all"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all transform hover:scale-105 cursor-pointer text-left",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Totaal Gefactureerd"}),i.jsxs("p",{className:"text-2xl font-bold text-blue-600 mt-1",children:["",On.toFixed(2)]})]}),i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-2xl",children:""})})]})}),i.jsx("button",{onClick:()=>wt("paid"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all transform hover:scale-105 cursor-pointer text-left",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Betaald"}),i.jsxs("p",{className:"text-2xl font-bold text-green-600 mt-1",children:["",$i.toFixed(2)]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Ms.length," facturen"]})]}),i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-2xl",children:""})})]})}),i.jsx("button",{onClick:()=>wt("outstanding"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all transform hover:scale-105 cursor-pointer text-left",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Uitstaand"}),i.jsxs("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:["",ur.toFixed(2)]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Ui.length," facturen"]})]}),i.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-2xl",children:""})})]})}),i.jsx("button",{onClick:()=>wt("overdue"),className:"bg-white rounded-lg shadow-md p-6 hover:shadow-xl transition-all transform hover:scale-105 cursor-pointer text-left",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Verlopen"}),i.jsxs("p",{className:"text-2xl font-bold text-red-600 mt-1",children:["",_a.toFixed(2)]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Zn.length," facturen"]})]}),i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:i.jsx("span",{className:"text-2xl",children:""})})]})})]}),i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:["Totaal: ",r.length," facturen"]}),x&&i.jsx("button",{onClick:()=>R(!I),className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"+ Nieuwe Factuur"})]}),I&&x&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Nieuwe Factuur"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[i.jsxs("select",{value:ye.customerId,onChange:k=>We({...ye,customerId:k.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Selecteer klant *"}),c.map(k=>i.jsx("option",{value:k.id,children:k.name},k.id))]}),i.jsx("input",{type:"date",value:ye.issueDate,onChange:k=>We({...ye,issueDate:k.target.value}),placeholder:"Factuurdatum *",className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"date",value:ye.dueDate,onChange:k=>We({...ye,dueDate:k.target.value}),placeholder:"Vervaldatum *",className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"text",placeholder:"Betalingstermijn",value:ye.paymentTerms,onChange:k=>We({...ye,paymentTerms:k.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-neutral",children:"Items"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:Tr,className:"px-4 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600",children:"+ Uit Voorraad"}),i.jsx("button",{onClick:Zr,className:"px-4 py-2 bg-gray-500 text-white text-sm rounded-lg hover:bg-gray-600",children:"+ Custom Item"})]})]}),ye.items.map((k,_)=>i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-3 bg-gray-50 rounded-lg",children:[k.inventoryItemId!==void 0?i.jsxs("select",{value:k.inventoryItemId,onChange:K=>Jr(_,K.target.value),className:"col-span-5 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Selecteer voorraad item"}),u.filter(K=>K.price&&K.price>0).map(K=>{var W;return i.jsxs("option",{value:K.id,children:[K.name," (",K.sku,") - ",(W=K.price)==null?void 0:W.toFixed(2)]},K.id)})]}):i.jsx("input",{type:"text",placeholder:"Beschrijving",value:k.description,onChange:K=>rr(_,"description",K.target.value),className:"col-span-5 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"number",placeholder:"Aantal",value:k.quantity,onChange:K=>rr(_,"quantity",parseInt(K.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",min:"1"}),i.jsx("input",{type:"number",placeholder:"Prijs/stuk",value:k.pricePerUnit,onChange:K=>rr(_,"pricePerUnit",parseFloat(K.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",step:"0.01",disabled:!!k.inventoryItemId}),i.jsxs("div",{className:"col-span-2 text-right font-medium text-gray-700",children:["",k.total.toFixed(2)]}),i.jsx("button",{onClick:()=>Dn(_),className:"col-span-1 px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:""})]},_))]}),i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-neutral",children:"Werkuren (optioneel)"}),i.jsx("button",{onClick:Na,className:"px-4 py-2 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600",children:"+ Werkuren Toevoegen"})]}),ye.labor.map((k,_)=>i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-3 bg-green-50 rounded-lg",children:[i.jsx("input",{type:"text",placeholder:"Beschrijving werkzaamheden",value:k.description,onChange:K=>En(_,"description",K.target.value),className:"col-span-5 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"number",placeholder:"Uren",value:k.hours,onChange:K=>En(_,"hours",parseFloat(K.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",step:"0.5",min:"0"}),i.jsx("input",{type:"number",placeholder:"Uurtarief",value:k.hourlyRate,onChange:K=>En(_,"hourlyRate",parseFloat(K.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",step:"0.01"}),i.jsxs("div",{className:"col-span-2 text-right font-medium text-gray-700",children:["",k.total.toFixed(2)]}),i.jsx("button",{onClick:()=>Bt(_),className:"col-span-1 px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:""})]},_))]}),i.jsx("textarea",{placeholder:"Notities (optioneel)",value:ye.notes,onChange:k=>We({...ye,notes:k.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary mb-4"}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-gray-700",children:[i.jsx("span",{children:"Subtotaal (excl. BTW):"}),i.jsxs("span",{className:"font-semibold",children:["",dr().subtotal.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-gray-700",children:[i.jsxs("span",{children:["BTW (",ye.vatRate,"%):"]}),i.jsxs("span",{className:"font-semibold",children:["",dr().vatAmount.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-xl font-bold text-primary border-t pt-2",children:[i.jsx("span",{children:"Totaal (incl. BTW):"}),i.jsxs("span",{children:["",dr().total.toFixed(2)]})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:_s,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:X?"Factuur Bijwerken":"Factuur Aanmaken"}),i.jsx("button",{onClick:()=>{R(!1),le(null),We({customerId:"",items:[],labor:[],vatRate:21,notes:"",paymentTerms:"14 dagen",issueDate:"",dueDate:""})},className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Annuleren"})]})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:r.map(k=>{const _=Le(k.workOrderId),K=Qe(_),W=(_==null?void 0:_.status)==="Completed",Ae=k.status==="overdue";return i.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 ${Ae?"border-l-4 border-red-500":W?"border-l-4 border-green-500":""}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-lg text-neutral",children:k.invoiceNumber}),i.jsx("p",{className:"text-sm text-gray-600",children:Gt(k.customerId)}),k.quoteId&&i.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Van offerte: ",k.quoteId]}),K&&i.jsxs("button",{onClick:()=>{alert(`Werkorder ID: ${k.workOrderId}`)},className:`mt-2 px-3 py-1 rounded-full text-xs font-semibold border-2 ${K.color} hover:opacity-80 transition-opacity cursor-pointer`,title:"Klik om naar werkorder te gaan",children:[K.icon," ",K.text]})]}),i.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${er(k.status)}`,children:[k.status==="draft"&&"Concept",k.status==="sent"&&"Verzonden",k.status==="paid"&&"Betaald",k.status==="overdue"&&"Verlopen",k.status==="cancelled"&&"Geannuleerd"]})]}),i.jsxs("div",{className:"space-y-2 mb-3",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Items:"}),k.items.map((Ce,ee)=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-gray-700",children:[Ce.inventoryItemId?gn(Ce.inventoryItemId):Ce.description,i.jsxs("span",{className:"text-gray-500",children:[" ","(",Ce.quantity,")"]})]}),i.jsxs("span",{className:"font-medium",children:["",Ce.total.toFixed(2)]})]},ee))]}),k.labor&&k.labor.length>0&&i.jsxs("div",{className:"space-y-2 mb-3 border-t pt-3",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Werkuren:"}),k.labor.map((Ce,ee)=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-gray-700",children:[Ce.description,i.jsxs("span",{className:"text-gray-500",children:[" ","(",Ce.hours,"u @ ",Ce.hourlyRate,"/u)"]})]}),i.jsxs("span",{className:"font-medium",children:["",Ce.total.toFixed(2)]})]},ee))]}),i.jsxs("div",{className:"border-t pt-3 mb-4 space-y-1",children:[i.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[i.jsx("span",{children:"Subtotaal (excl. BTW):"}),i.jsxs("span",{children:["",k.subtotal.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[i.jsxs("span",{children:["BTW (",k.vatRate,"%):"]}),i.jsxs("span",{children:["",k.vatAmount.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsx("span",{className:"font-semibold text-neutral",children:"Totaal (incl. BTW):"}),i.jsxs("span",{className:"text-xl font-bold text-primary",children:["",k.total.toFixed(2)]})]})]}),i.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-4",children:[i.jsxs("span",{children:["Factuurdatum: ",k.issueDate]}),i.jsxs("span",{children:["Vervaldatum: ",k.dueDate]})]}),k.paidDate&&i.jsx("div",{className:"p-3 bg-green-50 rounded-lg mb-4",children:i.jsxs("p",{className:"text-sm text-green-700 font-medium",children:[" Betaald op: ",k.paidDate]})}),k.paymentTerms&&i.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Betalingstermijn: ",k.paymentTerms]}),k.notes&&i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg mb-4",children:i.jsx("p",{className:"text-sm text-gray-700",children:k.notes})}),k.status==="draft"&&Is(k)&&i.jsx("div",{className:"p-4 bg-yellow-50 rounded-lg mb-4 border-l-4 border-yellow-400",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("svg",{className:"w-6 h-6 text-yellow-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-sm font-semibold text-yellow-800 mb-1",children:" Automatisch aangemaakte factuur"}),i.jsxs("p",{className:"text-xs text-yellow-700 mb-2",children:["Deze factuur is automatisch aangemaakt na voltooiing van een werkorder. Controleer"," ",i.jsx("strong",{children:"gewerkte uren"}),","," ",i.jsx("strong",{children:"materialen"})," en voeg eventueel"," ",i.jsx("strong",{children:"meerwerk"})," toe voordat u verzendt."]}),_&&i.jsx("div",{className:"mt-2 text-xs",children:i.jsx("button",{onClick:()=>V(k.id),className:"text-yellow-800 underline hover:text-yellow-900 font-medium",children:" Bewerk factuur om te controleren"})})]})]})}),W&&_&&i.jsxs("div",{className:"p-3 bg-green-50 rounded-lg mb-4 border border-green-200",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"text-sm font-semibold text-green-700",children:"Werkorder Voltooid"})]}),_.hoursSpent!==void 0&&_.estimatedHours&&i.jsxs("p",{className:"text-xs text-gray-700",children:[" Gewerkt: ",_.hoursSpent,"u (Geschat:"," ",_.estimatedHours,"u)",_.hoursSpent!==_.estimatedHours&&i.jsxs("span",{className:`ml-2 font-semibold ${_.hoursSpent<=_.estimatedHours*1.1?"text-green-600":_.hoursSpent<=_.estimatedHours*1.25?"text-orange-600":"text-red-600"}`,children:["(",Math.round(_.hoursSpent/_.estimatedHours*100),"%)"]})]})]}),k.workOrderId&&_&&_.status!=="Completed"&&x&&i.jsx("div",{className:"p-3 bg-blue-50 rounded-lg mb-4 border border-blue-200",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"text-xs font-medium text-blue-800",children:" Deze factuur is gekoppeld aan een actieve werkorder. Wijzigingen worden automatisch gesynchroniseerd."})]})})}),x&&i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[k.status==="draft"&&i.jsx("button",{onClick:()=>Pa(k.id,"sent"),className:"flex-1 px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600",children:"Verzenden"}),(k.status==="sent"||k.status==="draft")&&!k.workOrderId&&i.jsx("button",{onClick:()=>Oe(k.id),className:"flex-1 px-3 py-2 bg-orange-500 text-white text-sm rounded hover:bg-orange-600 font-semibold",children:" Maak Werkorder"}),(k.status==="sent"||k.status==="overdue")&&i.jsx("button",{onClick:()=>Pa(k.id,"paid"),className:"flex-1 px-3 py-2 bg-green-500 text-white text-sm rounded hover:bg-green-600",children:" Markeer als Betaald"}),k.status!=="paid"&&k.status!=="cancelled"&&i.jsx("button",{onClick:()=>Pa(k.id,"cancelled"),className:"flex-1 px-3 py-2 bg-gray-500 text-white text-sm rounded hover:bg-gray-600",children:"Annuleren"}),i.jsx("button",{onClick:()=>Pt(k.id),className:"px-3 py-2 bg-green-500 text-white text-sm rounded hover:bg-green-600 font-semibold",title:"Factuur clonen",children:" Clonen"}),i.jsx("button",{onClick:()=>je(k.id),className:"px-3 py-2 bg-red-500 text-white text-sm rounded hover:bg-red-600",children:"Verwijder"})]})]},k.id)})}),r.length===0&&i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500",children:"Geen facturen gevonden"})})]}),Fe&&me&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-none sm:rounded-lg shadow-xl w-full sm:max-w-3xl sm:w-full h-full sm:h-auto sm:my-8 sm:max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 sm:p-6 flex items-center justify-between z-10",children:[i.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-neutral flex items-center gap-2",children:[i.jsx("span",{children:""}),i.jsx("span",{children:"Factuur Validatie Voordat Verzenden"})]}),i.jsx("button",{onClick:()=>{Ye(!1),bt(null),be({hoursChecked:!1,materialsChecked:!1,extraWorkAdded:!1})},className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),i.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[i.jsx("div",{className:"p-4 bg-yellow-50 border-l-4 border-yellow-400 rounded-lg",children:i.jsxs("p",{className:"text-sm text-yellow-800",children:[i.jsx("strong",{children:"Belangrijk:"})," Deze factuur is automatisch aangemaakt na voltooiing van een werkorder. Controleer alle gegevens zorgvuldig voordat u naar de klant verzendt."]})}),(()=>{const k=Hi(me.id);if(!k)return null;const _=k.estimatedHours||0,K=k.hoursSpent||0,W=me.estimatedCost||k.estimatedCost||0,Ae=me.total;return i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-neutral",children:"Vergelijking: Geschat vs Werkelijk"}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:" Werkuren"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Geschat"}),i.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[_,"u"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Gewerkt"}),i.jsxs("p",{className:`text-lg font-bold ${K<=_*1.1?"text-green-600":K<=_*1.25?"text-orange-600":"text-red-600"}`,children:[K,"u"]}),_>0&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["(",Math.round(K/_*100),"% van geschat)"]})]})]}),_>0&&K>_*1.1&&i.jsx("div",{className:"mt-3 p-2 bg-orange-50 border border-orange-200 rounded text-xs text-orange-800",children:" Meerdere uren gewerkt dan geschat. Overweeg meerwerk facturering."})]}),W>0&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:" Kosten"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Geschat Totaal"}),i.jsxs("p",{className:"text-lg font-bold text-blue-600",children:["",W.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Factuur Totaal"}),i.jsxs("p",{className:`text-lg font-bold ${Ae<=W*1.1?"text-green-600":Ae<=W*1.2?"text-orange-600":"text-red-600"}`,children:["",Ae.toFixed(2)]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["(",Ae>W?"+":"","",(Ae-W).toFixed(2),")"]})]})]}),Ae>W*1.1&&i.jsx("div",{className:"mt-3 p-2 bg-orange-50 border border-orange-200 rounded text-xs text-orange-800",children:" Factuurbedrag is hoger dan geschat. Controleer items en meerwerk."})]}),me.items.length>0&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:" Materialen"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:me.items.map((Ce,ee)=>i.jsxs("div",{className:"flex justify-between text-sm py-1 border-b border-gray-200 last:border-0",children:[i.jsx("span",{className:"text-gray-700",children:Ce.description}),i.jsxs("span",{className:"font-medium text-gray-900",children:[Ce.quantity,"x ",Ce.pricePerUnit.toFixed(2)," ","= ",Ce.total.toFixed(2)]})]},ee))}),i.jsx("div",{className:"mt-3 pt-2 border-t border-gray-300",children:i.jsxs("p",{className:"text-sm font-semibold text-gray-700",children:["Subtotaal Materialen: ",me.items.reduce((Ce,ee)=>Ce+ee.total,0).toFixed(2)]})})]}),me.labor&&me.labor.length>0&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:" Werkuren"}),i.jsx("div",{className:"space-y-2",children:me.labor.map((Ce,ee)=>i.jsxs("div",{className:"flex justify-between text-sm py-1 border-b border-gray-200 last:border-0",children:[i.jsx("span",{className:"text-gray-700",children:Ce.description}),i.jsxs("span",{className:"font-medium text-gray-900",children:[Ce.hours,"u  ",Ce.hourlyRate.toFixed(2),"/u = ",Ce.total.toFixed(2)]})]},ee))}),i.jsx("div",{className:"mt-3 pt-2 border-t border-gray-300",children:i.jsxs("p",{className:"text-sm font-semibold text-gray-700",children:["Subtotaal Werkuren: ",me.labor.reduce((Ce,ee)=>Ce+ee.total,0).toFixed(2)]})})]})]})})(),i.jsxs("div",{className:"border-t pt-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-neutral mb-4",children:" Validatie Checklist"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("label",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200 cursor-pointer hover:bg-gray-100 transition-colors",children:[i.jsx("input",{type:"checkbox",checked:qe.hoursChecked,onChange:k=>be({...qe,hoursChecked:k.target.checked}),className:"mt-1 w-5 h-5 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:" Uren gecontroleerd (gewerkte uren vs geschat)"}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Controleer of de gewerkte uren kloppen en of meerwerk nodig is"})]})]}),i.jsxs("label",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200 cursor-pointer hover:bg-gray-100 transition-colors",children:[i.jsx("input",{type:"checkbox",checked:qe.materialsChecked,onChange:k=>be({...qe,materialsChecked:k.target.checked}),className:"mt-1 w-5 h-5 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:" Materialen gecontroleerd"}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Controleer of alle gebruikte materialen zijn opgenomen tegen juiste prijzen"})]})]}),i.jsxs("label",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200 cursor-pointer hover:bg-gray-100 transition-colors",children:[i.jsx("input",{type:"checkbox",checked:qe.extraWorkAdded,onChange:k=>be({...qe,extraWorkAdded:k.target.checked}),className:"mt-1 w-5 h-5 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:" Meerwerk toegevoegd (indien nodig)"}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Indien er extra werk is uitgevoerd, is dit toegevoegd aan de factuur"})]})]})]})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:" Snelle Acties"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[i.jsx("button",{onClick:()=>V(me.id),className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm font-medium",children:" Factuur Bewerken"}),i.jsx("button",{onClick:()=>{if(me.workOrderId){const k=f.find(_=>_.id===me.workOrderId);k&&alert(`Werkorder ID: ${k.id}
Titel: ${k.title}
Status: ${k.status}`)}},className:"flex-1 px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm font-medium",children:" Bekijk Werkorder"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-4 border-t",children:[i.jsx("button",{onClick:T,disabled:!qe.hoursChecked||!qe.materialsChecked,className:`flex-1 px-6 py-3 rounded-lg font-semibold transition-colors ${qe.hoursChecked&&qe.materialsChecked?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:" Validatie Voltooid - Factuur Verzenden"}),i.jsx("button",{onClick:()=>{Ye(!1),bt(null),be({hoursChecked:!1,materialsChecked:!1,extraWorkAdded:!1})},className:"px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors font-semibold",children:"Annuleren"})]})]})]})})]})},bV=({customers:e,setCustomers:t,sales:n,tasks:r,setTasks:l,leads:c,setLeads:u,interactions:f,setInteractions:m,employees:h,currentUser:p,isAdmin:x,invoices:b,setInvoices:y,quotes:N,setQuotes:w,workOrders:S,setWorkOrders:D,inventory:P})=>{const[O,I]=j.useState("dashboard"),[R,M]=j.useState(""),[B,$]=j.useState(!1),[Y,X]=j.useState(!1),[le,he]=j.useState(null),[we,Te]=j.useState(!1),[De,Z]=j.useState(!1),[ce,ke]=j.useState(!1),[G,Ne]=j.useState(!1),[z,L]=j.useState(null),[se,ve]=j.useState(!1),[Ee,_e]=j.useState(!1),[nt,ct]=j.useState(!1),[ue,Fe]=j.useState(null),[Ye,me]=j.useState(null),[bt,qe]=j.useState(""),[be,ge]=j.useState({customerId:"",items:[],labor:[],vatRate:21,notes:"",paymentTerms:"14 dagen",issueDate:"",dueDate:""}),[lt,ye]=j.useState(!1),[We,Wr]=j.useState(null),[Xt,Wa]=j.useState(null),[Es,On]=j.useState(!1),[Ms,$i]=j.useState(!1),[Zn,_a]=j.useState(null),[Ui,ur]=j.useState(null),[Ar,Jn]=j.useState({customerId:"",items:[],labor:[],vatRate:21,notes:"",validUntil:""}),[_t,Be]=j.useState({name:"",email:"",phone:"",type:"business",address:"",source:"website",company:"",notes:""}),[et,It]=j.useState({name:"",email:"",phone:"",type:"business",address:"",source:"website",company:"",notes:""}),[Ft,xt]=j.useState({name:"",email:"",phone:"",company:"",source:"website",estimatedValue:0,notes:""}),[Xe,Gt]=j.useState({type:"call",subject:"",description:"",relatedTo:"",relatedType:"lead",followUpRequired:!1,followUpDate:""}),[Wt,gn]=j.useState({title:"",description:"",customerId:"",priority:"medium",dueDate:""}),jt=j.useMemo(()=>{const T=c.length,V=c.filter(ee=>!["won","lost"].includes(ee.status)).length,J=c.filter(ee=>ee.status==="won").length,je=c.filter(ee=>ee.status==="lost").length,dt=T>0?(J/T*100).toFixed(1):"0.0",Nt=e.length,Pt=e.filter(ee=>ee.type==="business").length,St=e.filter(ee=>ee.type==="private").length,ut=c.reduce((ee,Ie)=>ee+(Ie.estimatedValue||0),0),k=c.filter(ee=>ee.status==="won").reduce((ee,Ie)=>ee+(Ie.estimatedValue||0),0),_=f.length,K=f.filter(ee=>{const Ie=new Date(ee.date),it=new Date;return Ie.getMonth()===it.getMonth()&&Ie.getFullYear()===it.getFullYear()}).length,W=f.filter(ee=>ee.followUpRequired&&ee.followUpDate).length,Ae=r.filter(ee=>ee.status!=="done").length,Ce=r.filter(ee=>ee.status==="done"?!1:new Date(ee.dueDate)<new Date).length;return{totalLeads:T,activeLeads:V,wonLeads:J,lostLeads:je,conversionRate:dt,totalCustomers:Nt,businessCustomers:Pt,privateCustomers:St,totalValue:ut,wonValue:k,totalInteractions:_,thisMonthInteractions:K,pendingFollowUps:W,activeTasks:Ae,overdueTasks:Ce}},[c,e,f,r]),er=()=>{if(!_t.name||!_t.email){alert("Vul naam en email in!");return}const T={id:`c${Date.now()}`,..._t,since:new Date().toISOString().split("T")[0]};t([...e,T]),Be({name:"",email:"",phone:"",type:"business",address:"",source:"website",company:"",notes:""}),$(!1)},An=()=>{if(!et.name||!et.email||!le){alert("Vul naam en email in!");return}t(e.map(T=>T.id===le.id?{...T,...et}:T)),It({name:"",email:"",phone:"",type:"business",address:"",source:"website",company:"",notes:""}),he(null),X(!1)},dr=T=>{he(T),It({name:T.name,email:T.email,phone:T.phone,type:T.type||"business",address:T.address||"",source:T.source||"website",company:T.company||"",notes:T.notes||""}),X(!0)},ba=()=>{if(!Ft.name||!Ft.email){alert("Vul naam en email in!");return}const T={id:`l${Date.now()}`,...Ft,status:"new",createdDate:new Date().toISOString().split("T")[0]};u([...c,T]),xt({name:"",email:"",phone:"",company:"",source:"website",estimatedValue:0,notes:""}),Te(!1)},Ia=()=>{if(!Xe.subject||!Xe.relatedTo){alert("Vul onderwerp en gekoppelde entiteit in!");return}const T={id:`int${Date.now()}`,type:Xe.type,subject:Xe.subject,description:Xe.description,date:new Date().toISOString(),employeeId:p.employeeId,followUpRequired:Xe.followUpRequired,followUpDate:Xe.followUpDate||void 0,[Xe.relatedType==="lead"?"leadId":"customerId"]:Xe.relatedTo};m([...f,T]),Gt({type:"call",subject:"",description:"",relatedTo:"",relatedType:"lead",followUpRequired:!1,followUpDate:""}),Z(!1)},Yr=()=>{if(!Wt.title||!Wt.dueDate){alert("Vul titel en deadline in!");return}const T={id:`task${Date.now()}`,title:Wt.title,description:Wt.description,customerId:Wt.customerId||void 0,priority:Wt.priority,status:"todo",dueDate:Wt.dueDate,createdDate:new Date().toISOString().split("T")[0]};l([...r,T]),gn({title:"",description:"",customerId:"",priority:"medium",dueDate:""}),ke(!1)},Qr=(T,V)=>{u(c.map(J=>{if(J.id===T){const je={status:V};return(V==="won"||V==="lost")&&(je.lastContactDate=new Date().toISOString().split("T")[0]),{...J,...je}}return J}))},Ya=(T,V)=>{l(r.map(J=>J.id===T?{...J,status:V}:J))},qi=T=>{const V=c.find(je=>je.id===T);if(!V)return;const J={id:`c${Date.now()}`,name:V.name,email:V.email,phone:V.phone,type:V.company?"business":"private",company:V.company,address:"",source:V.source,since:new Date().toISOString().split("T")[0],notes:V.notes};t([...e,J]),Qr(T,"won"),m(f.map(je=>je.leadId===T?{...je,customerId:J.id,leadId:void 0}:je)),alert(`Lead "${V.name}" succesvol geconverteerd naar klant!`)},Qa=T=>{confirm("Weet je zeker dat je deze klant wilt verwijderen?")&&t(e.filter(V=>V.id!==T))},Xr=T=>{confirm("Weet je zeker dat je deze lead wilt verwijderen?")&&u(c.filter(V=>V.id!==T))},ja=T=>{confirm("Weet je zeker dat je deze taak wilt verwijderen?")&&l(r.filter(V=>V.id!==T))},wa=T=>n.filter(V=>V.customerId===T),Xa=T=>wa(T).reduce((V,J)=>V+J.total,0),A=T=>{var V;return T?((V=e.find(J=>J.id===T))==null?void 0:V.name)||"Onbekend":"Algemeen"},F=T=>{var V;return T&&((V=c.find(J=>J.id===T))==null?void 0:V.name)||"Onbekend"},q=T=>{var V;return T&&((V=h.find(J=>J.id===T))==null?void 0:V.name)||"Onbekend"},ie=T=>c.filter(V=>V.status===T),Oe=T=>{switch(T){case"new":return"bg-gray-100 text-gray-800 border-gray-400";case"contacted":return"bg-blue-100 text-blue-800 border-blue-400";case"qualified":return"bg-indigo-100 text-indigo-800 border-indigo-400";case"proposal":return"bg-purple-100 text-purple-800 border-purple-400";case"negotiation":return"bg-yellow-100 text-yellow-800 border-yellow-400";case"won":return"bg-green-100 text-green-800 border-green-400";case"lost":return"bg-red-100 text-red-800 border-red-400"}},Le=T=>{switch(T){case"new":return"Nieuw";case"contacted":return"Contact gemaakt";case"qualified":return"Gekwalificeerd";case"proposal":return"Voorstel gedaan";case"negotiation":return"Onderhandeling";case"won":return"Gewonnen";case"lost":return"Verloren"}},Qe=T=>{switch(T){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},wt=T=>{switch(T){case"done":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"todo":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},He=T=>{L(T),Ne(!0)},ht=T=>{const V=b.filter(W=>W.customerId===T),J=N.filter(W=>W.customerId===T),je=V.filter(W=>W.status==="paid"||["sent","draft","overdue"].includes(W.status)),dt=V.reduce((W,Ae)=>W+Ae.total,0),Nt=V.filter(W=>W.status==="paid"),Pt=Nt.reduce((W,Ae)=>W+Ae.total,0),St=V.filter(W=>["sent","draft"].includes(W.status)),ut=St.reduce((W,Ae)=>W+Ae.total,0),k=V.filter(W=>W.status==="overdue"),_=k.reduce((W,Ae)=>W+Ae.total,0),K=J.reduce((W,Ae)=>W+Ae.total,0);return{invoices:je,quotes:J,totalInvoiced:dt,totalPaid:Pt,totalOutstanding:ut,totalOverdue:_,totalQuotes:K,paidInvoices:Nt,outstandingInvoices:St,overdueInvoices:k}},nn=()=>{const T=new Date().getFullYear(),V=b.filter(je=>je.invoiceNumber.startsWith(`${T}-`)).map(je=>parseInt(je.invoiceNumber.split("-")[1])).filter(je=>!isNaN(je)),J=V.length>0?Math.max(...V)+1:1;return`${T}-${String(J).padStart(3,"0")}`},fn=()=>{const T=be.items.reduce((Nt,Pt)=>Nt+Pt.total,0),V=be.labor.reduce((Nt,Pt)=>Nt+Pt.total,0),J=T+V,je=J*(be.vatRate/100),dt=J+je;return{subtotal:J,vatAmount:je,total:dt}},tr=(T,V,J,je)=>({timestamp:new Date().toISOString(),action:V,performedBy:p.employeeId,details:J,...je}),Tn=(T,V,J)=>{const je=[...be.items];je[T]={...je[T],[V]:J},(V==="quantity"||V==="pricePerUnit")&&(je[T].total=je[T].quantity*je[T].pricePerUnit),ge({...be,items:je})},Ve=(T,V,J)=>{const je=[...be.labor];je[T]={...je[T],[V]:J},(V==="hours"||V==="hourlyRate")&&(je[T].total=je[T].hours*je[T].hourlyRate),ge({...be,labor:je})},tt=T=>{ge({...be,items:be.items.filter((V,J)=>J!==T)})},nr=T=>{ge({...be,labor:be.labor.filter((V,J)=>J!==T)})},qn=()=>{const T={description:"",quantity:1,pricePerUnit:0,total:0};ge({...be,items:[...be.items,T]})},Hn=()=>{const T={description:"",hours:1,hourlyRate:50,total:50};ge({...be,labor:[...be.labor,T]})},Tr=T=>{const V=b.find(dt=>dt.id===T);if(!V)return;const J=new Date().toISOString().split("T")[0],je=new Date;je.setDate(je.getDate()+14),ge({customerId:V.customerId,items:V.items,labor:V.labor||[],vatRate:V.vatRate,notes:V.notes||"",paymentTerms:V.paymentTerms,issueDate:J,dueDate:je.toISOString().split("T")[0]}),ve(!0)},Zr=T=>{const V=b.find(J=>J.id===T);V&&(ge({customerId:V.customerId,items:V.items,labor:V.labor||[],vatRate:V.vatRate,notes:V.notes||"",paymentTerms:V.paymentTerms,issueDate:V.issueDate,dueDate:V.dueDate}),Fe(T),_e(!0))},Na=(T=!1)=>{var St;if(!be.customerId||be.items.length===0||!be.issueDate||!be.dueDate){alert("Vul alle verplichte velden in!");return}const{subtotal:V,vatAmount:J,total:je}=fn(),dt=new Date().toISOString(),Nt=A(be.customerId),Pt={id:`inv${Date.now()}`,invoiceNumber:nn(),customerId:be.customerId,items:be.items,labor:be.labor.length>0?be.labor:void 0,subtotal:V,vatRate:be.vatRate,vatAmount:J,total:je,status:"draft",issueDate:be.issueDate,dueDate:be.dueDate,notes:be.notes,paymentTerms:be.paymentTerms,createdBy:p.employeeId,timestamps:{created:dt},history:[tr("invoice","created",`Factuur gecloneerd door ${q(p.employeeId)} voor klant ${Nt}`)]};y([...b,Pt]),ge({customerId:"",items:[],labor:[],vatRate:21,notes:"",paymentTerms:"14 dagen",issueDate:"",dueDate:""}),ve(!1),T?((St=Pt.labor)!=null&&St.reduce((ut,k)=>ut+k.hours,0),me(Pt.id),qe(""),ct(!0)):alert(` Factuur ${Pt.invoiceNumber} succesvol gecloneerd!`)},Dn=()=>{if(!ue)return;if(!be.customerId||be.items.length===0||!be.issueDate||!be.dueDate){alert("Vul alle verplichte velden in!");return}const{subtotal:T,vatAmount:V,total:J}=fn(),je=b.find(Nt=>Nt.id===ue);if(!je)return;const dt={...je,customerId:be.customerId,items:be.items,labor:be.labor.length>0?be.labor:void 0,subtotal:T,vatRate:be.vatRate,vatAmount:V,total:J,issueDate:be.issueDate,dueDate:be.dueDate,notes:be.notes,paymentTerms:be.paymentTerms,history:[...je.history||[],tr("invoice","updated",`Factuur bijgewerkt door ${q(p.employeeId)}`)]};y(b.map(Nt=>Nt.id===ue?dt:Nt)),Fe(null),_e(!1),ge({customerId:"",items:[],labor:[],vatRate:21,notes:"",paymentTerms:"14 dagen",issueDate:"",dueDate:""}),alert(` Factuur ${dt.invoiceNumber} succesvol bijgewerkt!`)},Bt=T=>{const V=b.find(J=>J.id===T);if(V){if(V.status!=="sent"&&V.status!=="draft"){alert("Alleen verzonden of concept facturen kunnen worden omgezet naar werkorders!");return}if(V.workOrderId){alert("Deze factuur heeft al een gekoppelde werkorder!");return}me(T),qe(""),ct(!0)}},Jr=()=>{var Pt;if(!Ye||!bt){alert("Selecteer een medewerker!");return}const T=b.find(St=>St.id===Ye);if(!T)return;const V=new Date().toISOString(),J=`wo${Date.now()}`,je=A(T.customerId),dt=((Pt=T.labor)==null?void 0:Pt.reduce((St,ut)=>St+ut.hours,0))||0,Nt={id:J,title:`${je} - Factuur ${T.invoiceNumber}`,description:T.notes||`Werkorder aangemaakt vanuit factuur ${T.invoiceNumber}`,status:"To Do",assignedTo:bt,assignedBy:p.employeeId,convertedBy:p.employeeId,requiredInventory:T.items.filter(St=>St.inventoryItemId).map(St=>({itemId:St.inventoryItemId,quantity:St.quantity})),createdDate:new Date().toISOString().split("T")[0],customerId:T.customerId,location:T.location,scheduledDate:T.scheduledDate,invoiceId:T.id,estimatedHours:dt,estimatedCost:T.total,notes:`Geschatte uren: ${dt}u
Geschatte kosten: ${T.total.toFixed(2)}`,timestamps:{created:V,converted:V,assigned:V},history:[{timestamp:V,action:"created",performedBy:p.employeeId,details:`Werkorder aangemaakt door ${q(p.employeeId)}`},{timestamp:V,action:"converted",performedBy:p.employeeId,details:`Geconverteerd van factuur ${T.invoiceNumber} door ${q(p.employeeId)}`},{timestamp:V,action:"assigned",performedBy:p.employeeId,details:`Toegewezen aan ${q(bt)} door ${q(p.employeeId)}`,toAssignee:bt}]};D([...S,Nt]),y(b.map(St=>St.id===Ye?{...St,workOrderId:Nt.id,timestamps:{...St.timestamps,convertedToWorkOrder:V},history:[...St.history||[],tr("invoice","converted_to_workorder",`Geconverteerd naar werkorder ${Nt.id} door ${q(p.employeeId)}`)]}:St)),ct(!1),me(null),qe(""),alert(` Werkorder ${Nt.id} succesvol aangemaakt en toegewezen aan ${q(bt)}!`)},rr=(T,V)=>{if(T==="invoice"){const J=b.find(je=>je.id===V);J&&(Wr("invoice"),Wa(J),ye(!0))}else{const J=N.find(je=>je.id===V);J&&(Wr("quote"),Wa(J),ye(!0))}},En=T=>{const V=N.find(J=>J.id===T);V&&(Jn({customerId:V.customerId,items:V.items,labor:V.labor||[],vatRate:V.vatRate,notes:V.notes||"",validUntil:V.validUntil}),_a(T),$i(!0))},_s=T=>{const V=N.find(J=>J.id===T);V&&(Jn({customerId:V.customerId,items:V.items,labor:V.labor||[],vatRate:V.vatRate,notes:V.notes||"",validUntil:""}),On(!0))},Is=T=>{ur(T),ct(!0)},Hi=T=>{switch(T){case"paid":return"bg-green-100 text-green-800";case"sent":return"bg-blue-100 text-blue-800";case"overdue":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";case"draft":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},Pa=T=>{switch(T){case"approved":return"bg-green-100 text-green-800";case"sent":return"bg-blue-100 text-blue-800";case"rejected":return"bg-red-100 text-red-800";case"expired":return"bg-gray-100 text-gray-800";case"draft":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return i.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[i.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4 sm:mb-8",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-neutral",children:"CRM - Klantrelatiebeheer"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Beheer leads, klanten, interacties en sales pipeline"})]})}),i.jsxs("div",{className:"flex gap-3 mb-8 flex-wrap",children:[i.jsx("button",{onClick:()=>I("dashboard"),className:`px-6 py-2 rounded-lg font-medium transition-colors ${O==="dashboard"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" Dashboard"}),i.jsx("button",{onClick:()=>I("leads"),className:`px-6 py-2 rounded-lg font-medium transition-colors ${O==="leads"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" Leads & Pipeline"}),i.jsx("button",{onClick:()=>I("customers"),className:`px-6 py-2 rounded-lg font-medium transition-colors ${O==="customers"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" Klanten"}),i.jsx("button",{onClick:()=>I("interactions"),className:`px-6 py-2 rounded-lg font-medium transition-colors ${O==="interactions"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" Interacties"}),i.jsx("button",{onClick:()=>I("tasks"),className:`px-6 py-2 rounded-lg font-medium transition-colors ${O==="tasks"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:" Taken"})]}),O==="dashboard"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-neutral",children:"Leads"}),i.jsx("span",{className:"text-3xl",children:""})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Totaal:"}),i.jsx("span",{className:"text-2xl font-bold text-neutral",children:jt.totalLeads})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Actief:"}),i.jsx("span",{className:"font-semibold text-blue-600",children:jt.activeLeads})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Gewonnen:"}),i.jsx("span",{className:"font-semibold text-green-600",children:jt.wonLeads})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Verloren:"}),i.jsx("span",{className:"font-semibold text-red-600",children:jt.lostLeads})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-neutral",children:"Conversie"}),i.jsx("span",{className:"text-3xl",children:""})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-4xl font-bold text-green-600 mb-2",children:[jt.conversionRate,"%"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Lead naar Klant"}),i.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["",jt.wonValue.toLocaleString()," gewonnen"]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-neutral",children:"Klanten"}),i.jsx("span",{className:"text-3xl",children:""})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Totaal:"}),i.jsx("span",{className:"text-2xl font-bold text-neutral",children:jt.totalCustomers})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Zakelijk:"}),i.jsx("span",{className:"font-semibold text-purple-600",children:jt.businessCustomers})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Particulier:"}),i.jsx("span",{className:"font-semibold text-purple-600",children:jt.privateCustomers})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-orange-500",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-neutral",children:"Activiteiten"}),i.jsx("span",{className:"text-3xl",children:""})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Interacties (maand):"}),i.jsx("span",{className:"font-semibold text-orange-600",children:jt.thisMonthInteractions})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Follow-ups:"}),i.jsx("span",{className:"font-semibold text-yellow-600",children:jt.pendingFollowUps})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Actieve taken:"}),i.jsx("span",{className:"font-semibold text-blue-600",children:jt.activeTasks})]}),jt.overdueTasks>0&&i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Verlopen:"}),i.jsx("span",{className:"font-semibold text-red-600",children:jt.overdueTasks})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-neutral mb-4 flex items-center gap-2",children:[i.jsx("span",{children:""}),"Pipeline Waarde"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Totale Pipeline Waarde"}),i.jsxs("div",{className:"text-3xl font-bold text-primary",children:["",jt.totalValue.toLocaleString()]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Gewonnen Waarde"}),i.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["",jt.wonValue.toLocaleString()]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-neutral mb-4",children:"Recente Activiteiten"}),i.jsx("div",{className:"space-y-3",children:f.sort((T,V)=>new Date(V.date).getTime()-new Date(T.date).getTime()).slice(0,5).map(T=>{const V=T.leadId?F(T.leadId):A(T.customerId),J=Gg.find(je=>je.value===T.type);return i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-2xl",children:J==null?void 0:J.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium text-neutral",children:T.subject}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(T.date).toLocaleDateString("nl-NL")})]}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:T.description}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[i.jsxs("span",{children:["Met: ",V]}),i.jsxs("span",{children:["Door: ",q(T.employeeId)]}),T.followUpRequired&&i.jsxs("span",{className:"text-yellow-600 font-medium",children:[" Follow-up: ",T.followUpDate]})]})]})]},T.id)})})]})]}),O==="leads"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex justify-end",children:x&&i.jsx("button",{onClick:()=>Te(!we),className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"+ Nieuwe Lead"})}),we&&x&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Nieuwe Lead Toevoegen"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("input",{type:"text",placeholder:"Naam *",value:Ft.name,onChange:T=>xt({...Ft,name:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"email",placeholder:"Email *",value:Ft.email,onChange:T=>xt({...Ft,email:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"tel",placeholder:"Telefoon",value:Ft.phone,onChange:T=>xt({...Ft,phone:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"text",placeholder:"Bedrijf",value:Ft.company,onChange:T=>xt({...Ft,company:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("select",{value:Ft.source,onChange:T=>xt({...Ft,source:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:Kg.map(T=>i.jsx("option",{value:T,children:T},T))}),i.jsx("input",{type:"number",placeholder:"Geschatte waarde ()",value:Ft.estimatedValue||"",onChange:T=>xt({...Ft,estimatedValue:parseFloat(T.target.value)||0}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("textarea",{placeholder:"Notities",value:Ft.notes,onChange:T=>xt({...Ft,notes:T.target.value}),rows:3,className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary col-span-2"})]}),i.jsxs("div",{className:"flex gap-3 mt-4",children:[i.jsx("button",{onClick:ba,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"Toevoegen"}),i.jsx("button",{onClick:()=>Te(!1),className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Annuleren"})]})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-4",children:["new","contacted","qualified","proposal","negotiation","won","lost"].map(T=>{const V=ie(T),J=V.reduce((je,dt)=>je+(dt.estimatedValue||0),0);return i.jsxs("div",{className:`rounded-lg p-4 min-h-[400px] ${Oe(T)}`,children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-sm",children:Le(T)}),i.jsx("span",{className:"px-2 py-1 bg-white bg-opacity-70 rounded-full text-xs font-bold",children:V.length})]}),J>0&&i.jsxs("div",{className:"text-xs font-medium opacity-80",children:["",J.toLocaleString()]})]}),i.jsx("div",{className:"space-y-3",children:V.map(je=>i.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h4",{className:"font-semibold text-neutral text-sm",children:je.name}),x&&T!=="won"&&T!=="lost"&&i.jsx("button",{onClick:()=>Xr(je.id),className:"text-red-500 hover:text-red-700 text-xs",title:"Verwijderen",children:""})]}),je.company&&i.jsx("p",{className:"text-xs text-gray-600 mb-2",children:je.company}),je.estimatedValue&&i.jsxs("p",{className:"text-sm font-bold text-primary mb-2",children:["",je.estimatedValue.toLocaleString()]}),i.jsxs("div",{className:"space-y-1 text-xs text-gray-600 mb-3",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:""}),i.jsx("span",{className:"truncate",children:je.email})]}),je.phone&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:""}),i.jsx("span",{children:je.phone})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:""}),i.jsx("span",{children:je.source})]})]}),je.notes&&i.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:je.notes}),je.nextFollowUpDate&&i.jsx("div",{className:"mb-3 text-xs",children:i.jsxs("span",{className:"text-yellow-600",children:[" Follow-up: ",je.nextFollowUpDate]})}),x&&i.jsxs("div",{className:"flex flex-col gap-2",children:[T==="new"&&i.jsx("button",{onClick:()=>Qr(je.id,"contacted"),className:"w-full px-3 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600",children:" Gecontacteerd"}),T==="contacted"&&i.jsx("button",{onClick:()=>Qr(je.id,"qualified"),className:"w-full px-3 py-1 bg-indigo-500 text-white text-xs rounded hover:bg-indigo-600",children:" Gekwalificeerd"}),T==="qualified"&&i.jsx("button",{onClick:()=>Qr(je.id,"proposal"),className:"w-full px-3 py-1 bg-purple-500 text-white text-xs rounded hover:bg-purple-600",children:" Voorstel"}),T==="proposal"&&i.jsx("button",{onClick:()=>Qr(je.id,"negotiation"),className:"w-full px-3 py-1 bg-yellow-500 text-white text-xs rounded hover:bg-yellow-600",children:" Onderhandeling"}),["negotiation","proposal","qualified"].includes(T)&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>qi(je.id),className:"w-full px-3 py-1 bg-green-500 text-white text-xs rounded hover:bg-green-600",children:" Gewonnen"}),i.jsx("button",{onClick:()=>Qr(je.id,"lost"),className:"w-full px-3 py-1 bg-red-500 text-white text-xs rounded hover:bg-red-600",children:" Verloren"})]})]})]},je.id))})]},T)})})]}),O==="customers"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-stretch sm:items-center",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:" Zoek op klantnaam of bedrijfsnaam...",value:R,onChange:T=>M(T.target.value),className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-base"}),i.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),R&&i.jsx("button",{onClick:()=>M(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"Wis zoekterm",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),x&&i.jsx("button",{onClick:()=>$(!B),className:"px-4 sm:px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors whitespace-nowrap",children:"+ Nieuwe Klant"})]}),R&&i.jsx("p",{className:"mt-2 text-sm text-gray-600",children:(()=>{const T=e.filter(V=>{const J=R.toLowerCase();return V.name.toLowerCase().includes(J)||V.company&&V.company.toLowerCase().includes(J)||V.email&&V.email.toLowerCase().includes(J)});return`${T.length} klant${T.length!==1?"en":""} gevonden`})()})]}),B&&x&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Nieuwe Klant Toevoegen"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("input",{type:"text",placeholder:"Naam *",value:_t.name,onChange:T=>Be({..._t,name:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"email",placeholder:"Email *",value:_t.email,onChange:T=>Be({..._t,email:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"tel",placeholder:"Telefoon",value:_t.phone,onChange:T=>Be({..._t,phone:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsxs("select",{value:_t.type,onChange:T=>Be({..._t,type:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"business",children:"Zakelijk"}),i.jsx("option",{value:"private",children:"Particulier"})]}),i.jsx("input",{type:"text",placeholder:"Bedrijf",value:_t.company,onChange:T=>Be({..._t,company:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("select",{value:_t.source,onChange:T=>Be({..._t,source:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:Kg.map(T=>i.jsx("option",{value:T,children:T},T))}),i.jsx("input",{type:"text",placeholder:"Adres",value:_t.address,onChange:T=>Be({..._t,address:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary col-span-2"}),i.jsx("textarea",{placeholder:"Notities (intern)",value:_t.notes,onChange:T=>Be({..._t,notes:T.target.value}),rows:3,className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary col-span-2"})]}),i.jsxs("div",{className:"flex gap-3 mt-4",children:[i.jsx("button",{onClick:er,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"Toevoegen"}),i.jsx("button",{onClick:()=>$(!1),className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Annuleren"})]})]}),Y&&le&&x&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Klant Bewerken"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("input",{type:"text",placeholder:"Naam *",value:et.name,onChange:T=>It({...et,name:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"email",placeholder:"Email *",value:et.email,onChange:T=>It({...et,email:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"tel",placeholder:"Telefoon",value:et.phone,onChange:T=>It({...et,phone:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsxs("select",{value:et.type,onChange:T=>It({...et,type:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"business",children:"Zakelijk"}),i.jsx("option",{value:"private",children:"Particulier"})]}),i.jsx("input",{type:"text",placeholder:"Bedrijf",value:et.company,onChange:T=>It({...et,company:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("select",{value:et.source,onChange:T=>It({...et,source:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:Kg.map(T=>i.jsx("option",{value:T,children:T},T))}),i.jsx("input",{type:"text",placeholder:"Adres",value:et.address,onChange:T=>It({...et,address:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary col-span-2"}),i.jsx("textarea",{placeholder:"Notities (intern)",value:et.notes,onChange:T=>It({...et,notes:T.target.value}),rows:3,className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary col-span-2"})]}),i.jsxs("div",{className:"flex gap-3 mt-4",children:[i.jsx("button",{onClick:An,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"Opslaan"}),i.jsx("button",{onClick:()=>{X(!1),he(null),It({name:"",email:"",phone:"",type:"business",address:"",source:"website",company:"",notes:""})},className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Annuleren"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.filter(T=>{if(!R)return!0;const V=R.toLowerCase();return T.name.toLowerCase().includes(V)||T.company&&T.company.toLowerCase().includes(V)||T.email&&T.email.toLowerCase().includes(V)}).map(T=>{const V=wa(T.id),J=Xa(T.id),je=f.filter(dt=>dt.customerId===T.id);return i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center text-white font-semibold text-lg",children:T.name.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-neutral text-lg",children:T.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:[T.type==="business"?" Zakelijk":" Particulier","  Sinds ",T.since]})]})]})}),T.company&&i.jsx("div",{className:"mb-3 text-sm font-medium text-gray-700",children:T.company}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),i.jsx("span",{className:"text-gray-700 truncate",children:T.email})]}),i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),i.jsx("span",{className:"text-gray-700",children:T.phone})]}),T.address&&i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsxs("svg",{className:"w-4 h-4 text-gray-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),i.jsx("span",{className:"text-gray-700 text-xs truncate",children:T.address})]}),T.source&&i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx("span",{className:"text-gray-500 mr-2",children:""}),i.jsxs("span",{className:"text-gray-600 text-xs",children:["Bron: ",T.source]})]})]}),i.jsx("div",{className:"border-t pt-4 mb-4",children:i.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-600",children:"Omzet"}),i.jsxs("div",{className:"text-lg font-bold text-primary",children:["",J.toFixed(0)]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-600",children:"Orders"}),i.jsx("div",{className:"text-lg font-bold text-neutral",children:V.length})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-gray-600",children:"Contact"}),i.jsx("div",{className:"text-lg font-bold text-blue-600",children:je.length})]})]})}),T.notes&&i.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[i.jsxs("div",{className:"text-xs font-semibold text-yellow-800 mb-1 flex items-center gap-1",children:[i.jsx("span",{children:""}),i.jsx("span",{children:"Notities:"})]}),i.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:T.notes})]}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("button",{onClick:()=>He(T.id),className:"w-full px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm font-semibold",children:" Financin"}),x&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>dr(T),className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:" Bewerken"}),i.jsx("button",{onClick:()=>Qa(T.id),className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm",children:" Verwijderen"})]})]})]},T.id)})}),e.filter(T=>{if(!R)return!0;const V=R.toLowerCase();return T.name.toLowerCase().includes(V)||T.company&&T.company.toLowerCase().includes(V)||T.email&&T.email.toLowerCase().includes(V)}).length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-500",children:R?`Geen klanten gevonden voor "${R}"`:"Geen klanten gevonden"}),R&&i.jsx("button",{onClick:()=>M(""),className:"mt-2 text-sm text-primary hover:underline",children:"Wis zoekfilter"})]})]}),O==="interactions"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex justify-end mb-6",children:i.jsx("button",{onClick:()=>Z(!De),className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"+ Nieuwe Interactie"})}),De&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Nieuwe Interactie Registreren"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("select",{value:Xe.type,onChange:T=>Gt({...Xe,type:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:Gg.map(T=>i.jsxs("option",{value:T.value,children:[T.icon," ",T.label]},T.value))}),i.jsx("input",{type:"text",placeholder:"Onderwerp *",value:Xe.subject,onChange:T=>Gt({...Xe,subject:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsxs("select",{value:Xe.relatedType,onChange:T=>Gt({...Xe,relatedType:T.target.value,relatedTo:""}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"lead",children:"Lead"}),i.jsx("option",{value:"customer",children:"Klant"})]}),i.jsxs("select",{value:Xe.relatedTo,onChange:T=>Gt({...Xe,relatedTo:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsxs("option",{value:"",children:["Selecteer ",Xe.relatedType==="lead"?"lead":"klant"," *"]}),Xe.relatedType==="lead"?c.filter(T=>!["won","lost"].includes(T.status)).map(T=>i.jsx("option",{value:T.id,children:T.name},T.id)):e.map(T=>i.jsx("option",{value:T.id,children:T.name},T.id))]}),i.jsx("textarea",{placeholder:"Beschrijving",value:Xe.description,onChange:T=>Gt({...Xe,description:T.target.value}),rows:3,className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary col-span-2"}),i.jsxs("div",{className:"col-span-2 flex items-center gap-4",children:[i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:Xe.followUpRequired,onChange:T=>Gt({...Xe,followUpRequired:T.target.checked}),className:"w-4 h-4"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Follow-up vereist"})]}),Xe.followUpRequired&&i.jsx("input",{type:"date",value:Xe.followUpDate,onChange:T=>Gt({...Xe,followUpDate:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-4",children:[i.jsx("button",{onClick:Ia,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"Toevoegen"}),i.jsx("button",{onClick:()=>Z(!1),className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Annuleren"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-neutral mb-6",children:"Interactie Geschiedenis"}),i.jsx("div",{className:"space-y-4",children:f.sort((T,V)=>new Date(V.date).getTime()-new Date(T.date).getTime()).map(T=>{const V=T.leadId?F(T.leadId):A(T.customerId),J=Gg.find(je=>je.value===T.type);return i.jsxs("div",{className:"flex gap-4 border-l-4 border-blue-400 pl-4 py-2",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("span",{className:"text-3xl",children:J==null?void 0:J.icon})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-neutral",children:T.subject}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:J==null?void 0:J.label})]}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(T.date).toLocaleString("nl-NL",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),i.jsx("p",{className:"text-sm text-gray-700 mb-3",children:T.description}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("span",{children:""}),V]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("span",{children:""}),q(T.employeeId)]}),T.followUpRequired&&i.jsxs("span",{className:"flex items-center gap-1 text-yellow-600 font-medium",children:[i.jsx("span",{children:""}),"Follow-up: ",T.followUpDate]})]})]})]},T.id)})}),f.length===0&&i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500",children:"Geen interacties gevonden"})})]})]}),G&&z&&(()=>{const T=e.find(J=>J.id===z),V=ht(z);return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-none sm:rounded-lg shadow-xl w-full sm:max-w-5xl sm:w-full h-full sm:h-auto sm:max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b p-4 sm:p-6 z-10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-neutral",children:[" Financin - ",T==null?void 0:T.name]}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Overzicht van alle facturen en offertes"})]}),i.jsx("button",{onClick:()=>{Ne(!1),L(null)},className:"text-gray-500 hover:text-gray-700 text-3xl leading-none",children:""})]})}),i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:[i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[i.jsx("div",{className:"text-sm text-blue-700 font-medium mb-1",children:" Gefactureerd"}),i.jsxs("div",{className:"text-2xl font-bold text-blue-900",children:["",V.totalInvoiced.toFixed(2)]})]}),i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[i.jsx("div",{className:"text-sm text-green-700 font-medium mb-1",children:" Betaald"}),i.jsxs("div",{className:"text-2xl font-bold text-green-900",children:["",V.totalPaid.toFixed(2)]})]}),i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[i.jsx("div",{className:"text-sm text-yellow-700 font-medium mb-1",children:" Openstaand"}),i.jsxs("div",{className:"text-2xl font-bold text-yellow-900",children:["",V.totalOutstanding.toFixed(2)]})]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[i.jsx("div",{className:"text-sm text-red-700 font-medium mb-1",children:" Verlopen"}),i.jsxs("div",{className:"text-2xl font-bold text-red-900",children:["",V.totalOverdue.toFixed(2)]})]}),i.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 text-center",children:[i.jsx("div",{className:"text-sm text-purple-700 font-medium mb-1",children:" Offertes"}),i.jsxs("div",{className:"text-2xl font-bold text-purple-900",children:["",V.totalQuotes.toFixed(2)]})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("h3",{className:"text-xl font-semibold text-neutral mb-4 flex items-center gap-2",children:[i.jsx("span",{children:""}),"Facturen (",V.invoices.length,")"]}),V.invoices.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-100",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Factuurnr"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Datum"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Status"}),i.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"Bedrag"}),i.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Acties"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:V.invoices.map(J=>i.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onDoubleClick:()=>rr("invoice",J.id),title:"Dubbelklik om details te zien",children:[i.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:J.invoiceNumber}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:J.issueDate}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${Hi(J.status)}`,children:[J.status==="paid"&&"Betaald",J.status==="sent"&&"Verzonden",J.status==="overdue"&&"Verlopen",J.status==="draft"&&"Concept",J.status==="cancelled"&&"Geannuleerd"]})}),i.jsxs("td",{className:"px-4 py-3 text-sm text-right font-bold text-gray-900",children:["",J.total.toFixed(2)]}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex gap-2 justify-center",children:[i.jsx("button",{onClick:()=>Zr(J.id),className:"px-3 py-1 bg-blue-500 text-white text-xs rounded-lg hover:bg-blue-600 transition-colors",title:"Bewerken",children:""}),i.jsx("button",{onClick:()=>Tr(J.id),className:"px-3 py-1 bg-green-500 text-white text-xs rounded-lg hover:bg-green-600 transition-colors",title:"Clonen",children:""}),(J.status==="sent"||J.status==="draft")&&!J.workOrderId&&i.jsx("button",{onClick:()=>Bt(J.id),className:"px-3 py-1 bg-orange-500 text-white text-xs rounded-lg hover:bg-orange-600 transition-colors",title:"Naar Werkorder",children:""})]})})]},J.id))})]})}):i.jsx("p",{className:"text-gray-500 text-center py-8",children:"Geen facturen gevonden"})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-semibold text-neutral mb-4 flex items-center gap-2",children:[i.jsx("span",{children:""}),"Offertes (",V.quotes.length,")"]}),V.quotes.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-100",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Offerte ID"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Aangemaakt"}),i.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700",children:"Status"}),i.jsx("th",{className:"px-4 py-3 text-right text-sm font-semibold text-gray-700",children:"Bedrag"}),i.jsx("th",{className:"px-4 py-3 text-center text-sm font-semibold text-gray-700",children:"Acties"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:V.quotes.map(J=>i.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onDoubleClick:()=>rr("quote",J.id),title:"Dubbelklik om details te zien",children:[i.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:J.id}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:J.createdDate}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${Pa(J.status)}`,children:[J.status==="approved"&&"Geaccepteerd",J.status==="sent"&&"Verzonden",J.status==="rejected"&&"Afgewezen",J.status==="draft"&&"Concept",J.status==="expired"&&"Verlopen"]})}),i.jsxs("td",{className:"px-4 py-3 text-sm text-right font-bold text-gray-900",children:["",J.total.toFixed(2)]}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex gap-2 justify-center",children:[i.jsx("button",{onClick:je=>{je.stopPropagation(),En(J.id)},className:"px-3 py-1 bg-blue-500 text-white text-xs rounded-lg hover:bg-blue-600 transition-colors",title:"Bewerken",children:""}),i.jsx("button",{onClick:je=>{je.stopPropagation(),_s(J.id)},className:"px-3 py-1 bg-green-500 text-white text-xs rounded-lg hover:bg-green-600 transition-colors",title:"Clonen",children:""}),(J.status==="approved"||J.status==="sent")&&!J.workOrderId&&i.jsx("button",{onClick:je=>{je.stopPropagation(),Is(J.id)},className:"px-3 py-1 bg-orange-500 text-white text-xs rounded-lg hover:bg-orange-600 transition-colors",title:"Naar Werkorder",children:""})]})})]},J.id))})]})}):i.jsx("p",{className:"text-gray-500 text-center py-8",children:"Geen offertes gevonden"})]})]})]})})})(),lt&&Xt&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-none sm:rounded-lg shadow-xl w-full sm:max-w-4xl sm:w-full h-full sm:h-auto sm:my-8 sm:max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between z-10",children:[i.jsx("h2",{className:"text-2xl font-bold text-neutral",children:We==="quote"?" Offerte Details":" Factuur Details"}),i.jsx("button",{onClick:()=>ye(!1),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),i.jsxs("div",{className:"p-6",children:[We==="quote"?i.jsx(i.Fragment,{children:(()=>{var St;const T=Xt,V=A(T.customerId)||"Onbekend",J=T.items.reduce((ut,k)=>ut+k.total,0),je=((St=T.labor)==null?void 0:St.reduce((ut,k)=>ut+k.total,0))||0,dt=J+je,Nt=dt*(T.vatRate/100),Pt=dt+Nt;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Offerte ID:"}),i.jsx("p",{className:"text-neutral font-bold",children:T.id})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Klant:"}),i.jsx("p",{className:"text-neutral",children:V})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Status:"}),i.jsx("p",{className:"text-neutral",children:i.jsxs("span",{className:`px-2 py-1 rounded text-sm font-semibold ${Pa(T.status)}`,children:[T.status==="approved"&&"Geaccepteerd",T.status==="sent"&&"Verzonden",T.status==="rejected"&&"Afgewezen",T.status==="draft"&&"Concept",T.status==="expired"&&"Verlopen"]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Geldig tot:"}),i.jsx("p",{className:"text-neutral",children:T.validUntil})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"font-semibold text-neutral mb-2",children:"Items:"}),i.jsx("div",{className:"space-y-2",children:T.items.map((ut,k)=>i.jsxs("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[i.jsxs("span",{children:[ut.description,"  ",ut.quantity]}),i.jsxs("span",{className:"font-semibold",children:["",ut.total.toFixed(2)]})]},k))})]}),T.labor&&T.labor.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"font-semibold text-neutral mb-2",children:"Werkuren:"}),i.jsx("div",{className:"space-y-2",children:T.labor.map((ut,k)=>i.jsxs("div",{className:"flex justify-between p-2 bg-green-50 rounded",children:[i.jsxs("span",{children:[ut.description," (",ut.hours,"u  ",ut.hourlyRate,"/u)"]}),i.jsxs("span",{className:"font-semibold",children:["",ut.total.toFixed(2)]})]},k))})]}),i.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{children:"Subtotaal:"}),i.jsxs("span",{children:["",dt.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsxs("span",{children:["BTW (",T.vatRate,"%):"]}),i.jsxs("span",{children:["",Nt.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2 mt-2",children:[i.jsx("span",{children:"Totaal:"}),i.jsxs("span",{children:["",Pt.toFixed(2)]})]})]}),T.notes&&i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Notities:"}),i.jsx("p",{className:"text-neutral mt-1",children:T.notes})]})]})})()}):i.jsx(i.Fragment,{children:(()=>{var St;const T=Xt,V=A(T.customerId)||"Onbekend",J=T.items.reduce((ut,k)=>ut+k.total,0),je=((St=T.labor)==null?void 0:St.reduce((ut,k)=>ut+k.total,0))||0,dt=J+je,Nt=dt*(T.vatRate/100),Pt=dt+Nt;return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Factuurnummer:"}),i.jsx("p",{className:"text-neutral font-bold",children:T.invoiceNumber})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Klant:"}),i.jsx("p",{className:"text-neutral",children:V})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Status:"}),i.jsx("p",{className:"text-neutral",children:i.jsxs("span",{className:`px-2 py-1 rounded text-sm font-semibold ${Hi(T.status)}`,children:[T.status==="paid"&&"Betaald",T.status==="sent"&&"Verzonden",T.status==="overdue"&&"Verlopen",T.status==="draft"&&"Concept",T.status==="cancelled"&&"Geannuleerd"]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Factuurdatum:"}),i.jsx("p",{className:"text-neutral",children:T.issueDate})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Vervaldatum:"}),i.jsx("p",{className:"text-neutral",children:T.dueDate})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Betalingsvoorwaarden:"}),i.jsx("p",{className:"text-neutral",children:T.paymentTerms||"14 dagen"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"font-semibold text-neutral mb-2",children:"Items:"}),i.jsx("div",{className:"space-y-2",children:T.items.map((ut,k)=>i.jsxs("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[i.jsxs("span",{children:[ut.description,"  ",ut.quantity]}),i.jsxs("span",{className:"font-semibold",children:["",ut.total.toFixed(2)]})]},k))})]}),T.labor&&T.labor.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"font-semibold text-neutral mb-2",children:"Werkuren:"}),i.jsx("div",{className:"space-y-2",children:T.labor.map((ut,k)=>i.jsxs("div",{className:"flex justify-between p-2 bg-green-50 rounded",children:[i.jsxs("span",{children:[ut.description," (",ut.hours,"u  ",ut.hourlyRate,"/u)"]}),i.jsxs("span",{className:"font-semibold",children:["",ut.total.toFixed(2)]})]},k))})]}),i.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{children:"Subtotaal:"}),i.jsxs("span",{children:["",dt.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsxs("span",{children:["BTW (",T.vatRate,"%):"]}),i.jsxs("span",{children:["",Nt.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2 mt-2",children:[i.jsx("span",{children:"Totaal:"}),i.jsxs("span",{children:["",Pt.toFixed(2)]})]})]}),T.notes&&i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"text-sm font-semibold text-gray-600",children:"Notities:"}),i.jsx("p",{className:"text-neutral mt-1",children:T.notes})]})]})})()}),i.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[i.jsx("button",{onClick:()=>{We==="invoice"?(Zr(Xt.id),ye(!1)):(En(Xt.id),ye(!1))},className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-semibold",children:" Bewerken"}),i.jsx("button",{onClick:()=>{We==="invoice"?(Tr(Xt.id),ye(!1)):(_s(Xt.id),ye(!1))},className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold",children:" Clonen"}),i.jsx("button",{onClick:()=>ye(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-semibold",children:"Sluiten"})]})]})]})}),se&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-none sm:rounded-lg shadow-xl w-full sm:max-w-4xl sm:w-full h-full sm:h-auto p-4 sm:p-6 sm:my-8 overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-neutral",children:" Factuur Clonen"}),i.jsx("button",{onClick:()=>ve(!1),className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:i.jsxs("p",{className:"text-sm text-blue-800",children:[" ",i.jsx("strong",{children:"Tip:"})," De nieuwe factuur krijgt automatisch een nieuw factuurnummer en de datum wordt op vandaag gezet."]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Klant *"}),i.jsxs("select",{value:be.customerId,onChange:T=>ge({...be,customerId:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Selecteer klant"}),e.map(T=>i.jsx("option",{value:T.id,children:T.name},T.id))]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Factuurdatum *"}),i.jsx("input",{type:"date",value:be.issueDate,onChange:T=>ge({...be,issueDate:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vervaldatum *"}),i.jsx("input",{type:"date",value:be.dueDate,onChange:T=>ge({...be,dueDate:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BTW Tarief (%)"}),i.jsx("input",{type:"number",value:be.vatRate,onChange:T=>ge({...be,vatRate:Number(T.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Betalingstermijn"}),i.jsx("input",{type:"text",value:be.paymentTerms,onChange:T=>ge({...be,paymentTerms:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"14 dagen"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notities"}),i.jsx("textarea",{value:be.notes,onChange:T=>ge({...be,notes:T.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Extra opmerkingen..."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-neutral",children:"Items"}),i.jsx("button",{onClick:qn,className:"px-4 py-2 bg-gray-500 text-white text-sm rounded-lg hover:bg-gray-600",children:"+ Item Toevoegen"})]}),be.items.map((T,V)=>i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-3 bg-gray-50 rounded-lg",children:[i.jsx("input",{type:"text",placeholder:"Beschrijving",value:T.description,onChange:J=>Tn(V,"description",J.target.value),className:"col-span-5 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"number",placeholder:"Aantal",value:T.quantity,onChange:J=>Tn(V,"quantity",parseInt(J.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",min:"1"}),i.jsx("input",{type:"number",placeholder:"Prijs/stuk",value:T.pricePerUnit,onChange:J=>Tn(V,"pricePerUnit",parseFloat(J.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",step:"0.01"}),i.jsxs("div",{className:"col-span-2 text-right font-medium text-gray-700",children:["",T.total.toFixed(2)]}),i.jsx("button",{onClick:()=>tt(V),className:"col-span-1 px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:""})]},V))]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-neutral",children:"Werkuren (optioneel)"}),i.jsx("button",{onClick:Hn,className:"px-4 py-2 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600",children:"+ Werkuren Toevoegen"})]}),be.labor.map((T,V)=>i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-3 bg-green-50 rounded-lg",children:[i.jsx("input",{type:"text",placeholder:"Beschrijving werkzaamheden",value:T.description,onChange:J=>Ve(V,"description",J.target.value),className:"col-span-5 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"number",placeholder:"Uren",value:T.hours,onChange:J=>Ve(V,"hours",parseFloat(J.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",step:"0.5",min:"0"}),i.jsx("input",{type:"number",placeholder:"Uurtarief",value:T.hourlyRate,onChange:J=>Ve(V,"hourlyRate",parseFloat(J.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",step:"0.01"}),i.jsxs("div",{className:"col-span-2 text-right font-medium text-gray-700",children:["",T.total.toFixed(2)]}),i.jsx("button",{onClick:()=>nr(V),className:"col-span-1 px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:""})]},V))]}),be.items.length>0&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Subtotaal:"}),i.jsxs("span",{className:"font-semibold",children:["",fn().subtotal.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-gray-600",children:["BTW (",be.vatRate,"%):"]}),i.jsxs("span",{className:"font-semibold",children:["",fn().vatAmount.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[i.jsx("span",{children:"Totaal:"}),i.jsxs("span",{className:"text-primary",children:["",fn().total.toFixed(2)]})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-3 mt-6",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>Na(!1),className:"flex-1 px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold",children:" Gecloneerde Factuur Opslaan"}),i.jsx("button",{onClick:()=>ve(!1),className:"px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors font-semibold",children:"Annuleren"})]}),i.jsx("button",{onClick:()=>Na(!0),className:"w-full px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-semibold flex items-center justify-center gap-2",children:" Opslaan en naar Werkorder Sturen"})]})]})}),Ee&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-none sm:rounded-lg shadow-xl w-full sm:max-w-4xl sm:w-full h-full sm:h-auto p-4 sm:p-6 sm:my-8 overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-neutral",children:" Factuur Bewerken"}),i.jsx("button",{onClick:()=>{_e(!1),Fe(null)},className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Klant *"}),i.jsxs("select",{value:be.customerId,onChange:T=>ge({...be,customerId:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Selecteer klant"}),e.map(T=>i.jsx("option",{value:T.id,children:T.name},T.id))]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Factuurdatum *"}),i.jsx("input",{type:"date",value:be.issueDate,onChange:T=>ge({...be,issueDate:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vervaldatum *"}),i.jsx("input",{type:"date",value:be.dueDate,onChange:T=>ge({...be,dueDate:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"BTW Tarief (%)"}),i.jsx("input",{type:"number",value:be.vatRate,onChange:T=>ge({...be,vatRate:Number(T.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Betalingstermijn"}),i.jsx("input",{type:"text",value:be.paymentTerms,onChange:T=>ge({...be,paymentTerms:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"14 dagen"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notities"}),i.jsx("textarea",{value:be.notes,onChange:T=>ge({...be,notes:T.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Extra opmerkingen..."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-neutral",children:"Items"}),i.jsx("button",{onClick:qn,className:"px-4 py-2 bg-gray-500 text-white text-sm rounded-lg hover:bg-gray-600",children:"+ Item Toevoegen"})]}),be.items.map((T,V)=>i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-3 bg-gray-50 rounded-lg",children:[i.jsx("input",{type:"text",placeholder:"Beschrijving",value:T.description,onChange:J=>Tn(V,"description",J.target.value),className:"col-span-5 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"number",placeholder:"Aantal",value:T.quantity,onChange:J=>Tn(V,"quantity",parseInt(J.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",min:"1"}),i.jsx("input",{type:"number",placeholder:"Prijs/stuk",value:T.pricePerUnit,onChange:J=>Tn(V,"pricePerUnit",parseFloat(J.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",step:"0.01"}),i.jsxs("div",{className:"col-span-2 text-right font-medium text-gray-700",children:["",T.total.toFixed(2)]}),i.jsx("button",{onClick:()=>tt(V),className:"col-span-1 px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:""})]},V))]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-neutral",children:"Werkuren (optioneel)"}),i.jsx("button",{onClick:Hn,className:"px-4 py-2 bg-green-500 text-white text-sm rounded-lg hover:bg-green-600",children:"+ Werkuren Toevoegen"})]}),be.labor.map((T,V)=>i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center p-3 bg-green-50 rounded-lg",children:[i.jsx("input",{type:"text",placeholder:"Beschrijving werkzaamheden",value:T.description,onChange:J=>Ve(V,"description",J.target.value),className:"col-span-5 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"number",placeholder:"Uren",value:T.hours,onChange:J=>Ve(V,"hours",parseFloat(J.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",step:"0.5",min:"0"}),i.jsx("input",{type:"number",placeholder:"Uurtarief",value:T.hourlyRate,onChange:J=>Ve(V,"hourlyRate",parseFloat(J.target.value)||0),className:"col-span-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",step:"0.01"}),i.jsxs("div",{className:"col-span-2 text-right font-medium text-gray-700",children:["",T.total.toFixed(2)]}),i.jsx("button",{onClick:()=>nr(V),className:"col-span-1 px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600",children:""})]},V))]}),be.items.length>0&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Subtotaal:"}),i.jsxs("span",{className:"font-semibold",children:["",fn().subtotal.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-gray-600",children:["BTW (",be.vatRate,"%):"]}),i.jsxs("span",{className:"font-semibold",children:["",fn().vatAmount.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[i.jsx("span",{children:"Totaal:"}),i.jsxs("span",{className:"text-primary",children:["",fn().total.toFixed(2)]})]})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx("button",{onClick:Dn,className:"flex-1 px-6 py-3 bg-primary text-white rounded-lg hover:bg-secondary transition-colors font-semibold",children:" Factuur Bijwerken"}),i.jsx("button",{onClick:()=>{_e(!1),Fe(null)},className:"px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors font-semibold",children:"Annuleren"})]})]})}),nt&&Ye&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full p-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-neutral mb-4",children:" Medewerker Toewijzen"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("p",{className:"text-gray-700 mb-4",children:"Je gaat een werkorder aanmaken van deze factuur. Aan welke medewerker wil je deze werkorder toewijzen?"}),(()=>{var je;const T=b.find(dt=>dt.id===Ye);if(!T)return null;const V=A(T.customerId),J=((je=T.labor)==null?void 0:je.reduce((dt,Nt)=>dt+Nt.hours,0))||0;return i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"text-sm font-semibold text-blue-800",children:"Werkorder Details"})]}),i.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Klant:"})," ",V]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Factuur:"})," ",T.invoiceNumber]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Geschatte uren:"})," ",J,"u"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Waarde:"})," ",T.total.toFixed(2)]})]})]})})(),i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecteer Medewerker *"}),i.jsxs("select",{value:bt,onChange:T=>qe(T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"-- Kies een medewerker --"}),h.map(T=>i.jsxs("option",{value:T.id,children:[T.name," - ",T.role]},T.id))]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:Jr,disabled:!bt,className:`flex-1 px-6 py-3 rounded-lg font-semibold transition-colors ${bt?"bg-primary text-white hover:bg-secondary":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:" Werkorder Aanmaken"}),i.jsx("button",{onClick:()=>{ct(!1),me(null),qe("")},className:"px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors font-semibold",children:"Annuleren"})]})]})}),O==="tasks"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex justify-end mb-6",children:x&&i.jsx("button",{onClick:()=>ke(!ce),className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"+ Nieuwe Taak"})}),ce&&x&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Nieuwe Taak"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("input",{type:"text",placeholder:"Titel *",value:Wt.title,onChange:T=>gn({...Wt,title:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"date",value:Wt.dueDate,onChange:T=>gn({...Wt,dueDate:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsxs("select",{value:Wt.customerId,onChange:T=>gn({...Wt,customerId:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Geen klant"}),e.map(T=>i.jsx("option",{value:T.id,children:T.name},T.id))]}),i.jsxs("select",{value:Wt.priority,onChange:T=>gn({...Wt,priority:T.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"low",children:"Laag"}),i.jsx("option",{value:"medium",children:"Gemiddeld"}),i.jsx("option",{value:"high",children:"Hoog"})]}),i.jsx("textarea",{placeholder:"Beschrijving",value:Wt.description,onChange:T=>gn({...Wt,description:T.target.value}),rows:3,className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary col-span-2"})]}),i.jsxs("div",{className:"flex gap-3 mt-4",children:[i.jsx("button",{onClick:Yr,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"Toevoegen"}),i.jsx("button",{onClick:()=>ke(!1),className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Annuleren"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(T=>{const V=T.status!=="done"&&new Date(T.dueDate)<new Date;return i.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 ${V?"border-l-4 border-red-500":""}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsx("h3",{className:"font-semibold text-neutral text-lg",children:T.title}),i.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${Qe(T.priority)}`,children:[T.priority==="high"&&"Hoog",T.priority==="medium"&&"Gemiddeld",T.priority==="low"&&"Laag"]})]}),T.description&&i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:T.description}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Klant:"}),i.jsx("span",{className:"font-medium text-neutral",children:A(T.customerId)})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Deadline:"}),i.jsxs("span",{className:`font-medium ${V?"text-red-600":"text-neutral"}`,children:[T.dueDate,V&&" "]})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Status:"}),i.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${wt(T.status)}`,children:[T.status==="todo"&&"Te doen",T.status==="in_progress"&&"Bezig",T.status==="done"&&"Klaar"]})]})]}),x&&i.jsxs("div",{className:"flex gap-2",children:[T.status==="todo"&&i.jsx("button",{onClick:()=>Ya(T.id,"in_progress"),className:"flex-1 px-3 py-2 bg-blue-500 text-white text-sm rounded hover:bg-blue-600",children:"Start"}),T.status==="in_progress"&&i.jsx("button",{onClick:()=>Ya(T.id,"done"),className:"flex-1 px-3 py-2 bg-green-500 text-white text-sm rounded hover:bg-green-600",children:"Voltooi"}),i.jsx("button",{onClick:()=>ja(T.id),className:"px-3 py-2 bg-red-500 text-white text-sm rounded hover:bg-red-600",children:"Verwijder"})]})]},T.id)})}),r.length===0&&i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500",children:"Geen taken gevonden"})})]})]})};function jV(){return[{value:"full_admin",label:"Volledige Admin Rechten",description:"Alle rechten - geeft automatisch toegang tot alle functionaliteiten"},{value:"manage_modules",label:"Modules Beheren",description:"Modules in- en uitschakelen (Admin Instellingen)"},{value:"manage_inventory",label:"Voorraad Beheren",description:"Voorraaditems toevoegen, bewerken en verwijderen"},{value:"manage_crm",label:"CRM Beheren",description:"Klanten, leads en taken toevoegen, bewerken en verwijderen"},{value:"manage_accounting",label:"Boekhouding Beheren",description:"Facturen en offertes aanmaken, bewerken en beheren"},{value:"manage_workorders",label:"Werkorders Beheren",description:"Werkorders aanmaken, toewijzen en beheren"},{value:"manage_employees",label:"Medewerkers Beheren",description:"Medewerkers toevoegen, bewerken en rechten toewijzen"},{value:"view_all_workorders",label:"Alle Werkorders Zien",description:"Werkorders van alle medewerkers bekijken (niet alleen eigen)"},{value:"view_reports",label:"Rapportages",description:"Volledige bedrijfsrapportages en analyses bekijken"},{value:"manage_planning",label:"Planning Beheren",description:"Planning en agenda beheren"},{value:"manage_pos",label:"Kassasysteem Beheren",description:"Kassasysteem (POS) beheren"}]}const wV=({employees:e,setEmployees:t,isAdmin:n})=>{var De,Z,ce,ke;const[r,l]=j.useState(!1),[c,u]=j.useState(!1),[f,m]=j.useState(!1),[h,p]=j.useState(null),[x,b]=j.useState(!1),[y,N]=j.useState({name:"",role:"",email:"",phone:"",password:"",isAdmin:!1,permissions:[]}),[w,S]=j.useState({name:"",role:"",email:"",phone:"",password:"",isAdmin:!1,permissions:[]}),D=jV(),[P,O]=j.useState({type:"general",title:"",description:"",date:new Date().toISOString().split("T")[0]}),I=()=>{if(!y.name||!y.role||!y.email){alert("Vul alle verplichte velden in!");return}const G=y.isAdmin?["full_admin"]:y.permissions||[],Ne={id:`e${Date.now()}`,name:y.name,role:y.role,email:y.email,phone:y.phone,password:y.password||void 0,isAdmin:y.isAdmin||!1,permissions:G.length>0?G:void 0,hireDate:new Date().toISOString().split("T")[0]};t([...e,Ne]),N({name:"",role:"",email:"",phone:"",password:"",isAdmin:!1,permissions:[]}),l(!1),alert(` Medewerker ${Ne.name} succesvol toegevoegd!`)},R=(G,Ne=!1)=>{if(Ne){const z=w.permissions||[];if(G==="full_admin")S({...w,isAdmin:!0,permissions:["full_admin"]});else{const L=z.filter(se=>se!=="full_admin");S({...w,isAdmin:!1,permissions:z.includes(G)?L.filter(se=>se!==G):[...L,G]})}}else{const z=y.permissions||[];if(G==="full_admin")N({...y,isAdmin:!0,permissions:["full_admin"]});else{const L=z.filter(se=>se!=="full_admin");N({...y,isAdmin:!1,permissions:z.includes(G)?L.filter(se=>se!==G):[...L,G]})}}},M=G=>{confirm("Weet je zeker dat je deze medewerker wilt verwijderen?")&&t(e.filter(Ne=>Ne.id!==G))},B=G=>{p(G),m(!0)},$=G=>{var z;const Ne=G.isAdmin||((z=G.permissions)==null?void 0:z.includes("full_admin"));S({name:G.name,role:G.role,email:G.email,phone:G.phone,password:"",isAdmin:Ne||!1,permissions:G.permissions||(Ne?["full_admin"]:[])}),p(G),u(!0)},Y=()=>{if(!h)return;if(!w.name||!w.role||!w.email){alert("Vul alle verplichte velden in!");return}const G=w.isAdmin?["full_admin"]:w.permissions||[],Ne={...h,name:w.name,role:w.role,email:w.email,phone:w.phone,password:w.password||h.password,isAdmin:w.isAdmin||!1,permissions:G.length>0?G:void 0};t(e.map(z=>z.id===h.id?Ne:z)),u(!1),p(Ne),S({name:"",role:"",email:"",phone:"",password:"",isAdmin:!1,permissions:[]}),alert(` Medewerker ${Ne.name} succesvol bijgewerkt!`)},X=()=>{if(!h)return;if(!P.title||!P.description){alert("Vul titel en beschrijving in!");return}const G={id:`note${Date.now()}`,type:P.type,title:P.title,description:P.description,date:P.date,createdAt:new Date().toISOString()},Ne={...h,notes:[...h.notes||[],G]};t(e.map(z=>z.id===h.id?Ne:z)),p(Ne),O({type:"general",title:"",description:"",date:new Date().toISOString().split("T")[0]}),b(!1),alert(" Notitie succesvol toegevoegd!")},le=G=>{if(!h||!confirm("Weet je zeker dat je deze notitie wilt verwijderen?"))return;const Ne={...h,notes:(h.notes||[]).filter(z=>z.id!==G)};t(e.map(z=>z.id===h.id?Ne:z)),p(Ne)},he=G=>{switch(G){case"late":return"";case"absence":return"";case"milestone":return"";case"performance":return"";case"warning":return"";case"compliment":return"";case"attendance":return"";default:return""}},we=G=>{switch(G){case"late":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"absence":return"bg-red-100 text-red-800 border-red-300";case"milestone":return"bg-blue-100 text-blue-800 border-blue-300";case"performance":return"bg-purple-100 text-purple-800 border-purple-300";case"warning":return"bg-orange-100 text-orange-800 border-orange-300";case"compliment":return"bg-green-100 text-green-800 border-green-300";case"attendance":return"bg-teal-100 text-teal-800 border-teal-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},Te=G=>{const Ne=new Date(G),z=new Date,L=z.getFullYear()-Ne.getFullYear(),se=z.getMonth()-Ne.getMonth();return L===0?`${se} maanden`:se<0?`${L-1} jaar ${12+se} maanden`:`${L} jaar ${se} maanden`};return i.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-neutral",children:"Personeelsbeheer (HRM)"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Beheer medewerkers, roosters en loonadministratie"})]}),n&&i.jsx("button",{onClick:()=>l(!r),className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"+ Nieuwe Medewerker"})]}),r&&n&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Nieuwe Medewerker Toevoegen"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("input",{type:"text",placeholder:"Naam *",value:y.name,onChange:G=>N({...y,name:G.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"text",placeholder:"Functie *",value:y.role,onChange:G=>N({...y,role:G.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"email",placeholder:"Email *",value:y.email,onChange:G=>N({...y,email:G.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"tel",placeholder:"Telefoon",value:y.phone,onChange:G=>N({...y,phone:G.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"password",placeholder:"Wachtwoord",value:y.password,onChange:G=>N({...y,password:G.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsxs("div",{className:"col-span-2 border border-gray-300 rounded-lg p-4 bg-gray-50",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Admin Rechten"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-start gap-2 p-2 bg-white rounded border border-gray-200",children:[i.jsx("input",{type:"checkbox",id:"fullAdmin",checked:y.isAdmin||(((De=y.permissions)==null?void 0:De.includes("full_admin"))??!1),onChange:()=>R("full_admin",!1),className:"mt-1 w-5 h-5 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{htmlFor:"fullAdmin",className:"text-sm font-medium text-gray-700 cursor-pointer",children:" Volledige Admin Rechten"}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Alle rechten - geeft automatisch toegang tot alle functionaliteiten"})]})]}),!y.isAdmin&&!((Z=y.permissions)!=null&&Z.includes("full_admin"))&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[i.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Of selecteer specifieke rechten:"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-64 overflow-y-auto",children:D.filter(G=>G.value!=="full_admin").map(G=>{var Ne;return i.jsxs("div",{className:"flex items-start gap-2 p-2 bg-white rounded border border-gray-200",children:[i.jsx("input",{type:"checkbox",id:`perm-${G.value}`,checked:((Ne=y.permissions)==null?void 0:Ne.includes(G.value))||!1,onChange:()=>R(G.value,!1),className:"mt-1 w-4 h-4 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{htmlFor:`perm-${G.value}`,className:"text-xs font-medium text-gray-700 cursor-pointer",children:G.label}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:G.description})]})]},G.value)})})]})]})]})]}),i.jsxs("div",{className:"flex gap-3 mt-4",children:[i.jsx("button",{onClick:I,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"Toevoegen"}),i.jsx("button",{onClick:()=>l(!1),className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Annuleren"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Totaal Medewerkers"}),i.jsx("p",{className:"text-2xl font-bold text-neutral mt-1",children:e.length})]}),i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Functies"}),i.jsx("p",{className:"text-2xl font-bold text-neutral mt-1",children:new Set(e.map(G=>G.role)).size})]}),i.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Gemiddelde Diensttijd"}),i.jsxs("p",{className:"text-2xl font-bold text-neutral mt-1",children:[e.length>0?Math.round(e.reduce((G,Ne)=>{const z=new Date().getFullYear()-new Date(Ne.hireDate).getFullYear();return G+z},0)/e.length):0," ","jaar"]})]}),i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(G=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center text-white font-semibold text-lg",children:G.name.split(" ").map(Ne=>Ne[0]).join("").toUpperCase()}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-semibold text-neutral text-lg",children:G.name}),G.isAdmin&&i.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-semibold rounded-full",children:" Admin"})]}),i.jsx("p",{className:"text-sm text-gray-600",children:G.role})]})]})}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),i.jsx("span",{className:"text-gray-700",children:G.email})]}),i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx("svg",{className:"w-4 h-4 text-gray-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),i.jsx("span",{className:"text-gray-700",children:G.phone})]})]}),i.jsxs("div",{className:"border-t pt-4 mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"In dienst sinds:"}),i.jsx("span",{className:"text-sm font-semibold text-neutral",children:G.hireDate})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Diensttijd:"}),i.jsx("span",{className:"text-sm font-semibold text-primary",children:Te(G.hireDate)})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>B(G),className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors text-sm",children:" Dossier"}),n&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>$(G),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:""}),i.jsx("button",{onClick:()=>M(G.id),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm",children:""})]})]})]},G.id))}),e.length===0&&i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-gray-500",children:"Geen medewerkers gevonden"})}),c&&h&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-none sm:rounded-lg shadow-xl w-full sm:max-w-2xl sm:w-full h-full sm:h-auto p-4 sm:p-6 sm:my-8 overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-semibold text-neutral",children:" Medewerker Bewerken"}),i.jsx("button",{onClick:()=>{u(!1),p(null)},className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("input",{type:"text",placeholder:"Naam *",value:w.name,onChange:G=>S({...w,name:G.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"text",placeholder:"Functie *",value:w.role,onChange:G=>S({...w,role:G.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"email",placeholder:"Email *",value:w.email,onChange:G=>S({...w,email:G.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"tel",placeholder:"Telefoon",value:w.phone,onChange:G=>S({...w,phone:G.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"password",placeholder:"Nieuw wachtwoord (leeg laten om te behouden)",value:w.password,onChange:G=>S({...w,password:G.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsxs("div",{className:"col-span-2 border border-gray-300 rounded-lg p-4 bg-gray-50",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Admin Rechten"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-start gap-2 p-2 bg-white rounded border border-gray-200",children:[i.jsx("input",{type:"checkbox",id:"editFullAdmin",checked:w.isAdmin||(((ce=w.permissions)==null?void 0:ce.includes("full_admin"))??!1),onChange:()=>R("full_admin",!0),className:"mt-1 w-5 h-5 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{htmlFor:"editFullAdmin",className:"text-sm font-medium text-gray-700 cursor-pointer",children:" Volledige Admin Rechten"}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Alle rechten - geeft automatisch toegang tot alle functionaliteiten"})]})]}),!w.isAdmin&&!((ke=w.permissions)!=null&&ke.includes("full_admin"))&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[i.jsx("p",{className:"text-xs font-medium text-gray-600 mb-2",children:"Of selecteer specifieke rechten:"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-64 overflow-y-auto",children:D.filter(G=>G.value!=="full_admin").map(G=>{var Ne;return i.jsxs("div",{className:"flex items-start gap-2 p-2 bg-white rounded border border-gray-200",children:[i.jsx("input",{type:"checkbox",id:`edit-perm-${G.value}`,checked:((Ne=w.permissions)==null?void 0:Ne.includes(G.value))||!1,onChange:()=>R(G.value,!0),className:"mt-1 w-4 h-4 text-primary border-gray-300 rounded focus:ring-2 focus:ring-primary"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{htmlFor:`edit-perm-${G.value}`,className:"text-xs font-medium text-gray-700 cursor-pointer",children:G.label}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:G.description})]})]},G.value)})})]})]})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx("button",{onClick:Y,className:"flex-1 px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"Opslaan"}),i.jsx("button",{onClick:()=>{u(!1),p(null)},className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Annuleren"})]})]})}),f&&h&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-none sm:rounded-lg shadow-xl w-full sm:max-w-4xl sm:w-full h-full sm:h-auto sm:my-8 overflow-y-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white border-b p-6 z-10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-neutral",children:" Persoonlijk Dossier"}),i.jsxs("p",{className:"text-gray-600 mt-1",children:[h.name," - ",h.role]})]}),i.jsx("button",{onClick:()=>{m(!1),p(null)},className:"text-gray-500 hover:text-gray-700 text-3xl font-bold",children:""})]})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),i.jsx("p",{className:"font-semibold text-neutral",children:h.email})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Telefoon"}),i.jsx("p",{className:"font-semibold text-neutral",children:h.phone})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"In dienst sinds"}),i.jsx("p",{className:"font-semibold text-neutral",children:h.hireDate})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Diensttijd"}),i.jsx("p",{className:"font-semibold text-primary",children:Te(h.hireDate)})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold text-neutral",children:" Notities"}),n&&i.jsx("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors text-sm",children:"+ Notitie Toevoegen"})]}),x&&n&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[i.jsx("h4",{className:"font-semibold text-neutral mb-3",children:"Nieuwe Notitie"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("select",{value:P.type,onChange:G=>O({...P,type:G.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"general",children:"Algemeen"}),i.jsx("option",{value:"late",children:"Te laat"}),i.jsx("option",{value:"absence",children:"Afwezig"}),i.jsx("option",{value:"milestone",children:"Milestone"}),i.jsx("option",{value:"performance",children:"Prestatie"}),i.jsx("option",{value:"warning",children:"Waarschuwing"}),i.jsx("option",{value:"compliment",children:"Compliment"}),i.jsx("option",{value:"attendance",children:"Aanwezigheid"})]}),i.jsx("input",{type:"date",value:P.date,onChange:G=>O({...P,date:G.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),i.jsx("input",{type:"text",placeholder:"Titel *",value:P.title,onChange:G=>O({...P,title:G.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("textarea",{placeholder:"Beschrijving *",value:P.description,onChange:G=>O({...P,description:G.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:X,className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm",children:"Toevoegen"}),i.jsx("button",{onClick:()=>{b(!1),O({type:"general",title:"",description:"",date:new Date().toISOString().split("T")[0]})},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors text-sm",children:"Annuleren"})]})]})]}),i.jsx("div",{className:"space-y-3",children:h.notes&&h.notes.length>0?[...h.notes].sort((G,Ne)=>new Date(Ne.date).getTime()-new Date(G.date).getTime()).map(G=>i.jsxs("div",{className:`border-2 rounded-lg p-4 ${we(G.type)}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-2xl",children:he(G.type)}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-lg",children:G.title}),i.jsx("p",{className:"text-xs opacity-75",children:G.date})]})]}),n&&i.jsx("button",{onClick:()=>le(G.id),className:"text-red-500 hover:text-red-700 text-xl",title:"Verwijderen",children:""})]}),i.jsx("p",{className:"text-sm mt-2",children:G.description}),G.createdAt&&i.jsxs("p",{className:"text-xs opacity-60 mt-2",children:["Aangemaakt: ",new Date(G.createdAt).toLocaleString("nl-NL")]})]},G.id)):i.jsx("div",{className:"text-center py-8 text-gray-500",children:i.jsx("p",{children:"Nog geen notities toegevoegd"})})})]})]})]})})]})},NV=({sales:e,inventory:t,quotes:n,workOrders:r})=>{const[l,c]=j.useState("sales"),u=e.reduce(($,Y)=>$+Y.total,0),f=e.length>0?u/e.length:0,m=e.reduce(($,Y)=>$+Y.items.reduce((X,le)=>X+le.quantity,0),0),h=t.filter($=>$.quantity<=$.reorderLevel),p=t.reduce(($,Y)=>$+Y.quantity*50,0),x=t.filter($=>$.quantity===0),b=n.reduce(($,Y)=>$+Y.total,0),y=n.filter($=>$.status==="approved"),N=y.reduce(($,Y)=>$+Y.total,0),w=n.length>0?y.length/n.length*100:0,S=r.filter($=>$.status==="Completed"),D=r.filter($=>$.status==="In Progress"),P=r.filter($=>$.status==="Pending"),O=r.reduce(($,Y)=>$+(Y.hoursSpent||0),0),I=S.length>0?S.reduce(($,Y)=>$+(Y.hoursSpent||0),0)/S.length:0,R=new Map;e.forEach($=>{$.items.forEach(Y=>{const X=R.get(Y.id)||{name:Y.name,quantity:0,revenue:0};R.set(Y.id,{name:Y.name,quantity:X.quantity+Y.quantity,revenue:X.revenue+Y.price*Y.quantity})})});const M=Array.from(R.values()).sort(($,Y)=>Y.revenue-$.revenue).slice(0,5),B=e.reduce(($,Y)=>($[Y.date]=($[Y.date]||0)+Y.total,$),{});return i.jsxs("div",{className:"p-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-neutral mb-2",children:"Rapportages"}),i.jsx("p",{className:"text-gray-600 mb-8",children:"Genereer rapporten en analyseer bedrijfsprestaties"}),i.jsxs("div",{className:"flex gap-3 mb-8 flex-wrap",children:[i.jsx("button",{onClick:()=>c("sales"),className:`px-6 py-2 rounded-lg font-medium transition-colors ${l==="sales"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Verkoop Rapport"}),i.jsx("button",{onClick:()=>c("inventory"),className:`px-6 py-2 rounded-lg font-medium transition-colors ${l==="inventory"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Voorraad Rapport"}),i.jsx("button",{onClick:()=>c("quotes"),className:`px-6 py-2 rounded-lg font-medium transition-colors ${l==="quotes"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Offertes Rapport"}),i.jsx("button",{onClick:()=>c("workorders"),className:`px-6 py-2 rounded-lg font-medium transition-colors ${l==="workorders"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Werkorders Rapport"})]}),l==="sales"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Totale Omzet"}),i.jsxs("p",{className:"text-3xl font-bold text-primary",children:["",u.toFixed(2)]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[e.length," verkopen"]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Gemiddelde Verkoop"}),i.jsxs("p",{className:"text-3xl font-bold text-primary",children:["",f.toFixed(2)]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Per transactie"})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Totaal Verkochte Items"}),i.jsx("p",{className:"text-3xl font-bold text-primary",children:m}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Alle producten"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Top 5 Producten"}),i.jsx("div",{className:"space-y-3",children:M.map(($,Y)=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center font-bold",children:Y+1}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-neutral",children:$.name}),i.jsxs("p",{className:"text-sm text-gray-600",children:[$.quantity," verkocht"]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-lg font-bold text-primary",children:["",$.revenue.toFixed(2)]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Omzet"})]})]},$.name))})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Verkopen per Datum"}),i.jsx("div",{className:"space-y-2",children:Object.entries(B).sort(([$],[Y])=>Y.localeCompare($)).map(([$,Y])=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium text-neutral",children:$}),i.jsxs("span",{className:"text-lg font-bold text-primary",children:["",Y.toFixed(2)]})]},$))})]})]}),l==="inventory"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Totale Voorraadwaarde"}),i.jsxs("p",{className:"text-3xl font-bold text-primary",children:["",p.toFixed(2)]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Geschatte waarde"})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Lage Voorraad"}),i.jsx("p",{className:"text-3xl font-bold text-orange-600",children:h.length}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Items onder herbestel niveau"})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Niet op Voorraad"}),i.jsx("p",{className:"text-3xl font-bold text-red-600",children:x.length}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Items zonder voorraad"})]})]}),h.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Lage Voorraad Waarschuwingen"}),i.jsx("div",{className:"space-y-3",children:h.map($=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-lg border-l-4 border-orange-500",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-neutral",children:$.name}),i.jsxs("p",{className:"text-sm text-gray-600",children:["SKU: ",$.sku," | Leverancier: ",$.supplier]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-lg font-bold text-orange-600",children:$.quantity}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Min: ",$.reorderLevel]})]})]},$.id))})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Volledige Voorraad Overzicht"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Item"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"SKU"}),i.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Voorraad"}),i.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase",children:"Herbestel"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase",children:"Status"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map($=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-3 text-sm font-medium text-neutral",children:$.name}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:$.sku}),i.jsx("td",{className:"px-4 py-3 text-sm text-center font-semibold",children:$.quantity}),i.jsx("td",{className:"px-4 py-3 text-sm text-center text-gray-600",children:$.reorderLevel}),i.jsx("td",{className:"px-4 py-3 text-sm",children:$.quantity===0?i.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-red-800 bg-red-100 rounded-full",children:"Niet op voorraad"}):$.quantity<=$.reorderLevel?i.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-orange-800 bg-orange-100 rounded-full",children:"Laag"}):i.jsx("span",{className:"px-2 py-1 text-xs font-semibold text-green-800 bg-green-100 rounded-full",children:"Voldoende"})})]},$.id))})]})})]})]}),l==="quotes"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Totale Offertes Waarde"}),i.jsxs("p",{className:"text-3xl font-bold text-primary",children:["",b.toFixed(2)]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[n.length," offertes"]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Geaccepteerde Waarde"}),i.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["",N.toFixed(2)]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[y.length," geaccepteerd"]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Conversie Rate"}),i.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[w.toFixed(1),"%"]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Acceptatie percentage"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Offertes per Status"}),i.jsx("div",{className:"space-y-3",children:["draft","sent","approved","rejected","expired"].map($=>{const Y=n.filter(le=>le.status===$),X=Y.reduce((le,he)=>le+he.total,0);return i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${$==="approved"?"bg-green-100 text-green-800":$==="sent"?"bg-blue-100 text-blue-800":$==="rejected"?"bg-red-100 text-red-800":$==="expired"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:[$==="draft"&&"Concept",$==="sent"&&"Verzonden",$==="approved"&&"Geaccepteerd",$==="rejected"&&"Afgewezen",$==="expired"&&"Verlopen"]}),i.jsxs("span",{className:"text-sm text-gray-600",children:[Y.length," offertes"]})]}),i.jsxs("span",{className:"text-lg font-bold text-primary",children:["",X.toFixed(2)]})]},$)})})]})]}),l==="workorders"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Totaal Orders"}),i.jsx("p",{className:"text-3xl font-bold text-primary",children:r.length}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Alle werkorders"})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Afgerond"}),i.jsx("p",{className:"text-3xl font-bold text-green-600",children:S.length}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Voltooide orders"})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Totaal Uren"}),i.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[O.toFixed(1),"u"]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Gewerkte uren"})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Gem. Uren/Order"}),i.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[I.toFixed(1),"u"]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Per afgeronde order"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Werkorders per Status"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border-l-4 border-yellow-500",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"In Wacht"}),i.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:P.length})]}),i.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"In Uitvoering"}),i.jsx("p",{className:"text-2xl font-bold text-blue-700",children:D.length})]}),i.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border-l-4 border-green-500",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Afgerond"}),i.jsx("p",{className:"text-2xl font-bold text-green-700",children:S.length})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Recent Afgeronde Werkorders"}),i.jsx("div",{className:"space-y-3",children:S.slice(0,10).map($=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-neutral",children:$.title}),i.jsx("p",{className:"text-sm text-gray-600",children:$.description}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Afgerond: ",$.completedDate]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-lg font-bold text-primary",children:[$.hoursSpent||0,"u"]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Gewerkt"})]})]},$.id))})]})]})]})},SV=({events:e,setEvents:t,employees:n,customers:r,workOrders:l,isAdmin:c})=>{const[u,f]=j.useState(new Date().toISOString().split("T")[0]),[m,h]=j.useState("week"),[p,x]=j.useState(!1),[b,y]=j.useState({title:"",description:"",start:"",end:"",type:"other",employeeId:""}),N=M=>e.filter(B=>B.start.split("T")[0]===M),w=M=>{var B;return M?((B=n.find($=>$.id===M))==null?void 0:B.name)||"Onbekend":"Niet toegewezen"},S=M=>{switch(M){case"workorder":return"bg-blue-100 border-blue-500 text-blue-900";case"meeting":return"bg-purple-100 border-purple-500 text-purple-900";case"vacation":return"bg-green-100 border-green-500 text-green-900";default:return"bg-gray-100 border-gray-500 text-gray-900"}},D=()=>{if(!b.title||!b.start||!b.end){alert("Vul alle verplichte velden in!");return}const M={id:`cal${Date.now()}`,title:b.title,description:b.description,start:b.start,end:b.end,type:b.type,employeeId:b.employeeId||void 0};t([...e,M]),y({title:"",description:"",start:"",end:"",type:"other",employeeId:""}),x(!1)},P=M=>{confirm("Weet je zeker dat je dit evenement wilt verwijderen?")&&t(e.filter(B=>B.id!==M))},I=(()=>{const M=new Date(u),B=[],$=M.getDay(),Y=M.getDate()-$+($===0?-6:1);for(let X=0;X<7;X++){const le=new Date(M);le.setDate(Y+X),B.push(le.toISOString().split("T")[0])}return B})(),R=["Ma","Di","Wo","Do","Vr","Za","Zo"];return i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-neutral",children:"Planning & Agenda"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Plan werkzaamheden, afspraken en monitor deadlines"})]}),c&&i.jsx("button",{onClick:()=>x(!p),className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"+ Nieuw Evenement"})]}),p&&c&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Nieuw Evenement"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("input",{type:"text",placeholder:"Titel *",value:b.title,onChange:M=>y({...b,title:M.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsxs("select",{value:b.type,onChange:M=>y({...b,type:M.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"other",children:"Overig"}),i.jsx("option",{value:"workorder",children:"Werkorder"}),i.jsx("option",{value:"meeting",children:"Meeting"}),i.jsx("option",{value:"vacation",children:"Vakantie"})]}),i.jsx("input",{type:"datetime-local",value:b.start,onChange:M=>y({...b,start:M.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("input",{type:"datetime-local",value:b.end,onChange:M=>y({...b,end:M.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsxs("select",{value:b.employeeId,onChange:M=>y({...b,employeeId:M.target.value}),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[i.jsx("option",{value:"",children:"Geen medewerker"}),n.map(M=>i.jsxs("option",{value:M.id,children:[M.name," - ",M.role]},M.id))]}),i.jsx("textarea",{placeholder:"Beschrijving (optioneel)",value:b.description,onChange:M=>y({...b,description:M.target.value}),rows:2,className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary col-span-2"})]}),i.jsxs("div",{className:"flex gap-3 mt-4",children:[i.jsx("button",{onClick:D,className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-secondary transition-colors",children:"Toevoegen"}),i.jsx("button",{onClick:()=>x(!1),className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors",children:"Annuleren"})]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-6 bg-white rounded-lg shadow-md p-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>h("day"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${m==="day"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Dag"}),i.jsx("button",{onClick:()=>h("week"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${m==="week"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Week"}),i.jsx("button",{onClick:()=>h("month"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${m==="month"?"bg-primary text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Maand"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>{const M=new Date(u);M.setDate(M.getDate()-7),f(M.toISOString().split("T")[0])},className:"px-3 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:""}),i.jsx("input",{type:"date",value:u,onChange:M=>f(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),i.jsx("button",{onClick:()=>{const M=new Date(u);M.setDate(M.getDate()+7),f(M.toISOString().split("T")[0])},className:"px-3 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:""}),i.jsx("button",{onClick:()=>f(new Date().toISOString().split("T")[0]),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-secondary",children:"Vandaag"})]})]}),m==="week"&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"grid grid-cols-7 border-b",children:I.map((M,B)=>{const $=M===new Date().toISOString().split("T")[0];return i.jsxs("div",{className:`p-4 text-center border-r last:border-r-0 ${$?"bg-blue-50":""}`,children:[i.jsx("div",{className:"font-semibold text-neutral",children:R[B]}),i.jsx("div",{className:`text-sm ${$?"text-primary font-bold":"text-gray-600"}`,children:new Date(M).getDate()})]},M)})}),i.jsx("div",{className:"grid grid-cols-7",children:I.map(M=>{const B=N(M);return i.jsx("div",{className:"min-h-[200px] p-2 border-r last:border-r-0 border-b",children:i.jsx("div",{className:"space-y-2",children:B.map($=>i.jsxs("div",{className:`p-2 rounded border-l-4 text-xs ${S($.type)}`,children:[i.jsx("div",{className:"font-semibold truncate",children:$.title}),i.jsx("div",{className:"text-xs opacity-75",children:new Date($.start).toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit"})}),i.jsx("div",{className:"text-xs opacity-75 truncate",children:w($.employeeId)}),c&&i.jsx("button",{onClick:()=>P($.id),className:"text-red-600 hover:text-red-800 mt-1 text-xs",children:"Verwijder"})]},$.id))})},M)})})]}),m==="day"&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:new Date(u).toLocaleDateString("nl-NL",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),i.jsx("div",{className:"space-y-3",children:N(u).length===0?i.jsx("p",{className:"text-gray-500 text-center py-8",children:"Geen evenementen gepland"}):N(u).map(M=>i.jsx("div",{className:`p-4 rounded-lg border-l-4 ${S(M.type)}`,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-lg",children:M.title}),M.description&&i.jsx("p",{className:"text-sm mt-1 opacity-75",children:M.description}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[i.jsxs("span",{children:[new Date(M.start).toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit"})," - ",new Date(M.end).toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit"})]}),i.jsx("span",{children:""}),i.jsx("span",{children:w(M.employeeId)}),i.jsx("span",{children:""}),i.jsx("span",{className:"capitalize",children:M.type})]})]}),c&&i.jsx("button",{onClick:()=>P(M.id),className:"px-3 py-1 bg-red-500 text-white text-sm rounded hover:bg-red-600",children:"Verwijder"})]})},M.id))})]}),m==="month"&&i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-neutral mb-4",children:"Alle Evenementen"}),i.jsx("div",{className:"space-y-2",children:e.length===0?i.jsx("p",{className:"text-gray-500 text-center py-8",children:"Geen evenementen"}):e.sort((M,B)=>new Date(M.start).getTime()-new Date(B.start).getTime()).map(M=>i.jsxs("div",{className:`p-3 rounded-lg border-l-4 ${S(M.type)} flex items-center justify-between`,children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:M.title}),i.jsxs("div",{className:"text-sm opacity-75",children:[new Date(M.start).toLocaleDateString("nl-NL")," - ",w(M.employeeId)]})]}),c&&i.jsx("button",{onClick:()=>P(M.id),className:"px-3 py-1 bg-red-500 text-white text-xs rounded hover:bg-red-600",children:"Verwijder"})]},M.id))})]})]})},kV=Hc.reduce((e,t)=>(e[t.id]=!0,e),{});function CV(){const[e,t]=j.useState(null),[n,r]=j.useState(!1),[l,c]=j.useState(kV),[u,f]=j.useState(tV),[m,h]=j.useState(nV),[p,x]=j.useState(rV),[b,y]=j.useState(aV),[N,w]=j.useState(iV),[S,D]=j.useState(oV),[P,O]=j.useState(cV),[I,R]=j.useState(uV),[M,B]=j.useState(hV),[$,Y]=j.useState(dV),[X,le]=j.useState(fV),[he,we]=j.useState(mV),[Te,De]=j.useState(sV),[Z,ce]=j.useState(lV),ke=j.useMemo(()=>Hc.filter(L=>l[L.id]),[l]),G=L=>{var _e;const se=L.isAdmin||((_e=L.permissions)==null?void 0:_e.includes("full_admin"))||L.role==="Manager Productie",ve=se?["full_admin"]:L.permissions||[],Ee={id:`user_${L.id}`,employeeId:L.id,name:L.name,email:L.email,role:L.role,isAdmin:se,permissions:ve.length>0?ve:void 0};t(Ee)},Ne=()=>{t(null)};if(!e)return i.jsx(JE,{employees:S,onLogin:G});const z={[yt.DASHBOARD]:i.jsx(pV,{inventory:u,sales:p,workOrders:b,notifications:he,setNotifications:we}),[yt.INVENTORY]:i.jsx(gV,{inventory:u,setInventory:f,isAdmin:e.isAdmin}),[yt.POS]:i.jsx(xV,{products:m,inventory:u,setInventory:f,sales:p,setSales:x,setTransactions:O,customers:N}),[yt.WORK_ORDERS]:i.jsx(vV,{workOrders:b,setWorkOrders:y,employees:S,customers:N,inventory:u,setInventory:f,currentUser:e,isAdmin:e.isAdmin,quotes:I,setQuotes:R,invoices:M,setInvoices:B}),[yt.ACCOUNTING]:i.jsx(yV,{transactions:P,quotes:I,setQuotes:R,invoices:M,setInvoices:B,customers:N,inventory:u,workOrders:b,setWorkOrders:y,employees:S,currentUser:e,isAdmin:e.isAdmin}),[yt.CRM]:i.jsx(bV,{customers:N,setCustomers:w,sales:p,tasks:$,setTasks:Y,leads:Te,setLeads:De,interactions:Z,setInteractions:ce,employees:S,currentUser:e,isAdmin:e.isAdmin,invoices:M,setInvoices:B,quotes:I,setQuotes:R,workOrders:b,setWorkOrders:y,inventory:u}),[yt.HRM]:i.jsx(wV,{employees:S,setEmployees:D,isAdmin:e.isAdmin}),[yt.PLANNING]:i.jsx(SV,{events:X,setEvents:le,employees:S,customers:N,workOrders:b,isAdmin:e.isAdmin}),[yt.REPORTS]:i.jsx(NV,{sales:p,inventory:u,quotes:I,workOrders:b})};return i.jsxs("div",{className:"flex h-screen bg-base-100",children:[i.jsx(eV,{userId:e.employeeId,userRole:e.role}),i.jsx(XE,{activeModules:l,isAdmin:e.isAdmin,setIsAdmin:()=>{},notifications:he,isMobileOpen:n,onMobileClose:()=>r(!1)}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(ZE,{isAdmin:e.isAdmin,notifications:he,setNotifications:we,currentUser:e,onLogout:Ne,onMobileMenuToggle:()=>r(!n)}),i.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto",children:i.jsxs(cE,{children:[i.jsx(Sc,{path:"/",element:i.jsx(V1,{to:`/${yt.DASHBOARD}`,replace:!0})}),ke.map(L=>i.jsx(Sc,{path:`/${L.id}`,element:z[L.id]},L.id)),e.isAdmin&&i.jsx(Sc,{path:`/${yt.ADMIN_SETTINGS}`,element:i.jsx(JF,{activeModules:l,setActiveModules:c})}),i.jsx(Sc,{path:"*",element:i.jsx(V1,{to:`/${yt.DASHBOARD}`,replace:!0})})]})})]})]})}const o4=document.getElementById("root");if(!o4)throw new Error("Could not find root element to mount to");const OV=yD.createRoot(o4);OV.render(i.jsx(JS.StrictMode,{children:i.jsx(ME,{children:i.jsx(CV,{})})}));
//# sourceMappingURL=index-BG5mpV-g.js.map
